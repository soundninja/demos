!function(){var undefined=void 0,defaultConfig={targetFrame:undefined,exportInstaller:!1,useNative:!0,useInnerText:!0},config;if(window.jsxpath)config=window.jsxpath;else{var scriptElms=document.getElementsByTagName("script"),scriptElm=scriptElms[scriptElms.length-1],scriptSrc=scriptElm.src;config={};var scriptSrcMatchResult=scriptSrc.match(/\?(.*)$/);if(scriptSrcMatchResult)for(var configStrings=scriptSrcMatchResult[1].split("&"),i=0,l=configStrings.length;l>i;i++){var configString=configStrings[i],configStringSplited=configString.split("="),configName=configStringSplited[0],configValue=configStringSplited[1];configValue==undefined||("false"==configValue||/^-?\d+$/.test(configValue))&&(configValue=eval(configValue)),config[configName]=configValue}}for(var n in defaultConfig)n in config||(config[n]=defaultConfig[n]);if(config.hasNative=!!(document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)),!config.hasNative||!config.useNative||config.exportInstaller){var BinaryExpr,FilterExpr,FunctionCall,Literal,NameTest,NodeSet,NodeType,NodeUtil,Number,PathExpr,Step,UnaryExpr,UnionExpr,VariableReference,uai=new function(){var a=navigator.userAgent;if(RegExp==undefined)a.indexOf("Opera")>=0?this.opera=!0:a.indexOf("Netscape")>=0?this.netscape=!0:0==a.indexOf("Mozilla/")?this.mozilla=!0:this.unknown=!0,a.indexOf("Gecko/")>=0&&(this.gecko=!0),a.indexOf("Win")>=0?this.windows=!0:a.indexOf("Mac")>=0?this.mac=!0:a.indexOf("Linux")>=0?this.linux=!0:a.indexOf("BSD")>=0?this.bsd=!0:a.indexOf("SunOS")>=0&&(this.sunos=!0);else if(/AppleWebKit\/(\d+(?:\.\d+)*)/.test(a)?(this.applewebkit=RegExp.$1,4==RegExp.$1.charAt(0)?this.applewebkit2=!0:this.applewebkit3=!0):"object"==typeof Components&&(/Gecko\/(\d{8})/.test(a)||"Gecko"==navigator.product&&/^(\d{8})$/.test(navigator.productSub))&&(this.gecko=RegExp.$1),"object"==typeof opera&&"function"==typeof opera.version?(this.opera=opera.version(),this["opera"+this.opera[0]+this.opera[2]]=!0):"object"==typeof opera&&/Opera[\/ ](\d+\.\d+)/.test(a)?this.opera=RegExp.$1:this.ie||(/Safari\/(\d+(?:\.\d+)*)/.test(a)?this.safari=RegExp.$1:/NetFront\/(\d+(?:\.\d+)*)/.test(a)?this.netfront=RegExp.$1:/Konqueror\/(\d+(?:\.\d+)*)/.test(a)?this.konqueror=RegExp.$1:a.indexOf("(compatible;")<0&&/^Mozilla\/(\d+\.\d+)/.test(a)?(this.mozilla=RegExp.$1,/\([^(]*rv:(\d+(?:\.\d+)*).*?\)/.test(a)&&(this.mozillarv=RegExp.$1),/Firefox\/(\d+(?:\.\d+)*)/.test(a)?this.firefox=RegExp.$1:/Netscape\d?\/(\d+(?:\.\d+)*)/.test(a)&&(this.netscape=RegExp.$1)):this.unknown=!0),a.indexOf("Win 9x 4.90")>=0)this.windows="ME";else if(/Win(?:dows)? ?(NT ?(\d+\.\d+)?|\d+|ME|Vista|XP)/.test(a))if(this.windows=RegExp.$1,RegExp.$2)this.winnt=RegExp.$2;else switch(RegExp.$1){case"2000":this.winnt="5.0";break;case"XP":this.winnt="5.1";break;case"Vista":this.winnt="6.0"}else a.indexOf("Mac")>=0?this.mac=!0:a.indexOf("Linux")>=0?this.linux=!0:/(\w*BSD)/.test(a)?this.bsd=RegExp.$1:a.indexOf("SunOS")>=0&&(this.sunos=!0)},Lexer=function(a){for(var b=Lexer.prototype,c=a.match(b.regs.token),d=0,e=c.length;e>d;d++)b.regs.strip.test(c[d])&&c.splice(d,1);for(var f in b)c[f]=b[f];return c.index=0,c};Lexer.prototype.regs={token:/\$?(?:(?![0-9-])[\w-]+:)?(?![0-9-])[\w-]+|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g,strip:/^\s/},Lexer.prototype.peek=function(a){return this[this.index+(a||0)]},Lexer.prototype.next=function(){return this[this.index++]},Lexer.prototype.back=function(){this.index--},Lexer.prototype.empty=function(){return this.length<=this.index};var Ctx=function(a,b,c){this.node=a,this.position=b||1,this.last=c||1},BaseExpr=function(){};BaseExpr.prototype.number=function(a){var b=this.evaluate(a);return b.isNodeSet?b.number():+b},BaseExpr.prototype.string=function(a){var b=this.evaluate(a);return b.isNodeSet?b.string():""+b},BaseExpr.prototype.bool=function(a){var b=this.evaluate(a);return b.isNodeSet?b.bool():!!b};var BaseExprHasPredicates=function(){};BaseExprHasPredicates.parsePredicates=function(a,b){for(;"["==a.peek();){if(a.next(),a.empty())throw Error("missing predicate expr");var c=BinaryExpr.parse(a);if(b.predicate(c),a.empty())throw Error("unclosed predicate expr");if("]"!=a.next())throw a.back(),Error("bad token: "+a.next())}},BaseExprHasPredicates.prototype=new BaseExpr,BaseExprHasPredicates.prototype.evaluatePredicates=function(a,b){var c,d,e,a,f,g;g=this.reverse,c=this.predicates,a.sort();for(var h=b||0,i=c.length;i>h;h++){d=c[h];for(var j=[],e=a.list(),k=0,l=e.length;l>k;k++){switch(f=g?l-k:k+1,exrs=d.evaluate(new Ctx(e[k],f,l)),typeof exrs){case"number":exrs=f==exrs;break;case"string":exrs=!!exrs;break;case"object":exrs=exrs.bool()}exrs||j.push(k)}for(var k=j.length-1,l=0;k>=l;k--)a.del(j[k])}return a},!window.BinaryExpr&&window.defaultConfig&&(window.BinaryExpr=null),BinaryExpr=function(a,b,c){this.op=a,this.left=b,this.right=c,this.datatype=BinaryExpr.ops[a][2],this.needContextPosition=b.needContextPosition||c.needContextPosition,this.needContextNode=b.needContextNode||c.needContextNode,"="==this.op&&(c.needContextNode||c.needContextPosition||"nodeset"==c.datatype||"void"==c.datatype||!b.quickAttr?b.needContextNode||b.needContextPosition||"nodeset"==b.datatype||"void"==b.datatype||!c.quickAttr||(this.quickAttr=!0,this.attrName=c.attrName,this.attrValueExpr=b):(this.quickAttr=!0,this.attrName=b.attrName,this.attrValueExpr=c))},BinaryExpr.compare=function(a,b,c,d,e){var f,g,h,i,j,k;if(c=c.evaluate(e),d=d.evaluate(e),c.isNodeSet&&d.isNodeSet){g=c.list(),h=d.list();for(var l=0,m=g.length;m>l;l++)for(var n=0,o=h.length;o>n;n++)if(b(NodeUtil.to("string",g[l]),NodeUtil.to("string",h[n])))return!0;return!1}if(c.isNodeSet||d.isNodeSet){c.isNodeSet?(j=c,k=d):(j=d,k=c),i=j.list(),f=typeof k;for(var l=0,p=i.length;p>l;l++)if(b(NodeUtil.to(f,i[l]),k))return!0;return!1}return"="==a||"!="==a?"boolean"==typeof c||"boolean"==typeof d?b(!!c,!!d):"number"==typeof c||"number"==typeof d?b(+c,+d):b(c,d):b(+c,+d)},BinaryExpr.ops={div:[6,function(a,b,c){return a.number(c)/b.number(c)},"number"],mod:[6,function(a,b,c){return a.number(c)%b.number(c)},"number"],"*":[6,function(a,b,c){return a.number(c)*b.number(c)},"number"],"+":[5,function(a,b,c){return a.number(c)+b.number(c)},"number"],"-":[5,function(a,b,c){return a.number(c)-b.number(c)},"number"],"<":[4,function(a,b,c){return BinaryExpr.compare("<",function(a,b){return b>a},a,b,c)},"boolean"],">":[4,function(a,b,c){return BinaryExpr.compare(">",function(a,b){return a>b},a,b,c)},"boolean"],"<=":[4,function(a,b,c){return BinaryExpr.compare("<=",function(a,b){return b>=a},a,b,c)},"boolean"],">=":[4,function(a,b,c){return BinaryExpr.compare(">=",function(a,b){return a>=b},a,b,c)},"boolean"],"=":[3,function(a,b,c){return BinaryExpr.compare("=",function(a,b){return a==b},a,b,c)},"boolean"],"!=":[3,function(a,b,c){return BinaryExpr.compare("!=",function(a,b){return a!=b},a,b,c)},"boolean"],and:[2,function(a,b,c){return a.bool(c)&&b.bool(c)},"boolean"],or:[1,function(a,b,c){return a.bool(c)||b.bool(c)},"boolean"]},BinaryExpr.parse=function(a){var b,c,d,e,f=[];for(a.index;;){if(a.empty())throw Error("missing right expression");if(e=UnaryExpr.parse(a),b=a.next(),!b)break;if(d=this.ops[b],c=d&&d[0],!c){a.back();break}for(;f.length&&c<=this.ops[f[f.length-1]][0];)e=new BinaryExpr(f.pop(),f.pop(),e);f.push(e,b)}for(;f.length;)e=new BinaryExpr(f.pop(),f.pop(),e);return e},BinaryExpr.prototype=new BaseExpr,BinaryExpr.prototype.evaluate=function(a){return BinaryExpr.ops[this.op][1](this.left,this.right,a)},BinaryExpr.prototype.show=function(a){a=a||"";var b="";return b+=a+"binary: "+this.op+"\n",a+="    ",b+=this.left.show(a),b+=this.right.show(a)},!window.UnaryExpr&&window.defaultConfig&&(window.UnaryExpr=null),UnaryExpr=function(a,b){this.op=a,this.expr=b,this.needContextPosition=b.needContextPosition,this.needContextNode=b.needContextNode},UnaryExpr.ops={"-":1},UnaryExpr.parse=function(a){return this.ops[a.peek()]?new UnaryExpr(a.next(),UnaryExpr.parse(a)):UnionExpr.parse(a)},UnaryExpr.prototype=new BaseExpr,UnaryExpr.prototype.datatype="number",UnaryExpr.prototype.evaluate=function(a){return-this.expr.number(a)},UnaryExpr.prototype.show=function(a){a=a||"";var b="";return b+=a+"unary: "+this.op+"\n",a+="    ",b+=this.expr.show(a)},!window.UnionExpr&&window.defaultConfig&&(window.UnionExpr=null),UnionExpr=function(){this.paths=[]},UnionExpr.ops={"|":1},UnionExpr.parse=function(a){var b,c;if(c=PathExpr.parse(a),!this.ops[a.peek()])return c;for(b=new UnionExpr,b.path(c);this.ops[a.next()];){if(a.empty())throw Error("missing next union location path");b.path(PathExpr.parse(a))}return a.back(),b},UnionExpr.prototype=new BaseExpr,UnionExpr.prototype.datatype="nodeset",UnionExpr.prototype.evaluate=function(a){for(var b=this.paths,c=new NodeSet,d=0,e=b.length;e>d;d++){var f=b[d].evaluate(a);if(!f.isNodeSet)throw Error("PathExpr must be nodeset");c.merge(f)}return c},UnionExpr.prototype.path=function(a){this.paths.push(a),a.needContextPosition&&(this.needContextPosition=!0),a.needContextNode&&(this.needContextNode=!0)},UnionExpr.prototype.show=function(a){a=a||"";var b="";b+=a+"union:\n",a+="    ";for(var c=0;c<this.paths.length;c++)b+=this.paths[c].show(a);return b},!window.PathExpr&&window.defaultConfig&&(window.PathExpr=null),PathExpr=function(a){this.filter=a,this.steps=[],this.datatype=a.datatype,this.needContextPosition=a.needContextPosition,this.needContextNode=a.needContextNode},PathExpr.ops={"//":1,"/":1},PathExpr.parse=function(a){var b,c,d,e;if(this.ops[a.peek()]){if(b=a.next(),e=a.peek(),"/"==b&&(a.empty()||"."!=e&&".."!=e&&"@"!=e&&"*"!=e&&!/(?![0-9])[\w]/.test(e)))return FilterExpr.root();if(d=new PathExpr(FilterExpr.root()),a.empty())throw Error("missing next location step");c=Step.parse(a),d.step(b,c)}else if(c=FilterExpr.parse(a)){if(!this.ops[a.peek()])return c;d=new PathExpr(c)}else c=Step.parse(a),d=new PathExpr(FilterExpr.context()),d.step("/",c);for(;this.ops[a.peek()];){if(b=a.next(),a.empty())throw Error("missing next location step");d.step(b,Step.parse(a))}return d},PathExpr.prototype=new BaseExpr,PathExpr.prototype.evaluate=function(a){var b=this.filter.evaluate(a);if(!b.isNodeSet)throw Exception("Filter nodeset must be nodeset type");for(var c=this.steps,d=0,e=c.length;e>d&&b.length;d++){var f=c[d][1],g=f.reverse,h=b.iterator(g),i=b;b=null;var j,k;if(f.needContextPosition||"following"!=f.axis)if(f.needContextPosition||"preceding"!=f.axis){j=h();var l=0;for(b=f.evaluate(new Ctx(j),!1,i,l);j=h();)l++,b.merge(f.evaluate(new Ctx(j),!1,i,l))}else j=h(),b=f.evaluate(new Ctx(j));else{for(j=h();k=h();j=k)if(uai.applewebkit2){var m=!1,n=k;do if(n==j){m=!0;break}while(n=n.parentNode);if(!m)break}else try{if(!j.contains(k))break}catch(o){if(!(8&k.compareDocumentPosition(j)))break}b=f.evaluate(new Ctx(j))}}return b},PathExpr.prototype.step=function(a,b){if(b.op=a,this.steps.push([a,b]),this.quickAttr=!1,1==this.steps.length&&"/"==a&&"attribute"==b.axis){var c=b.test;c.notOnlyElement||"*"==c.name||(this.quickAttr=!0,this.attrName=c.name)}},PathExpr.prototype.show=function(a){a=a||"";var b="";if(b+=a+"path:\n",a+="    ",b+=a+"filter:\n",b+=this.filter.show(a+"    "),this.steps.length){b+=a+"steps:\n",a+="    ";for(var c=0;c<this.steps.length;c++){var d=this.steps[c];b+=a+"operator: "+d[0]+"\n",b+=d[1].show(a)}}return b},!window.FilterExpr&&window.defaultConfig&&(window.FilterExpr=null),FilterExpr=function(a){this.primary=a,this.predicates=[],this.datatype=a.datatype,this.needContextPosition=a.needContextPosition,this.needContextNode=a.needContextNode},FilterExpr.parse=function(a){var b,c,d,e;switch(d=a.peek(),e=d.charAt(0)){case"$":b=VariableReference.parse(a);break;case"(":if(a.next(),b=BinaryExpr.parse(a),a.empty())throw Error('unclosed "("');if(")"!=a.next())throw a.back(),Error("bad token: "+a.next());break;case'"':case"'":b=Literal.parse(a);break;default:if(isNaN(+d)){if(NodeType.types[d])return null;if(!/(?![0-9])[\w]/.test(e)||"("!=a.peek(1))return null;b=FunctionCall.parse(a)}else b=Number.parse(a)}return"["!=a.peek()?b:(c=new FilterExpr(b),BaseExprHasPredicates.parsePredicates(a,c),c)},FilterExpr.root=function(){return new FunctionCall("root-node")},FilterExpr.context=function(){return new FunctionCall("context-node")},FilterExpr.prototype=new BaseExprHasPredicates,FilterExpr.prototype.evaluate=function(a){var b=this.primary.evaluate(a);if(!b.isNodeSet){if(this.predicates.length)throw Error("Primary result must be nodeset type if filter have predicate expression");return b}return this.evaluatePredicates(b)},FilterExpr.prototype.predicate=function(a){this.predicates.push(a)},FilterExpr.prototype.show=function(a){a=a||"";var b="";if(b+=a+"filter: \n",a+="    ",b+=this.primary.show(a),this.predicates.length){b+=a+"predicates: \n",a+="    ";for(var c=0;c<this.predicates.length;c++)b+=this.predicates[c].show(a)}return b},!window.NodeUtil&&window.defaultConfig&&(window.NodeUtil=null),NodeUtil={to:function(a,b){var c,d=b.nodeType;if(1==d&&config.useInnerText&&!uai.applewebkit2&&(c=b.textContent,c=c==undefined||null==c?b.innerText:c,c=c==undefined||null==c?"":c),"string"!=typeof c)if(9==d||1==d)for(b=9==d?b.documentElement:b.firstChild,c="",stack=[],i=0;b;){do 1!=b.nodeType&&(c+=b.nodeValue),stack[i++]=b;while(b=b.firstChild);for(;i&&!(b=stack[--i].nextSibling););}else c=b.nodeValue;switch(a){case"number":return+c;case"boolean":return!!c;default:return c}},attrPropMap:{name:"name","class":"className",dir:"dir",id:"id",name:"name",title:"title"},attrMatch:function(a,b,c){return!b||null==c&&a.hasAttribute&&a.hasAttribute(b)||null!=c&&a.getAttribute&&a.getAttribute(b)==c?!0:!1},getDescendantNodes:function(a,b,c,d,e,f,g){if(f&&f.delDescendant(b,g),e&&"id"==d&&b.getElementById)b=b.getElementById(e),b&&a.match(b)&&c.push(b);else if(e&&"name"==d&&b.getElementsByName)for(var h=b.getElementsByName(e),i=0,j=h.length;j>i;i++)b=h[i],(uai.opera?b.name==e&&a.match(b):a.match(b))&&c.push(b);else if(e&&"class"==d&&b.getElementsByClassName)for(var h=b.getElementsByClassName(e),i=0,j=h.length;j>i;i++)b=h[i],b.className==e&&a.match(b)&&c.push(b);else if(a.notOnlyElement)!function(b){for(var f=arguments.callee,g=b.firstChild;g;g=g.nextSibling)NodeUtil.attrMatch(g,d,e)&&a.match(g.nodeType)&&c.push(g),f(g)}(b);else{var k=a.name;if(b.getElementsByTagName){var h=b.getElementsByTagName(k);if(h)for(var i=0;b=h[i++];)NodeUtil.attrMatch(b,d,e)&&c.push(b)}}return c},getChildNodes:function(a,b,c,d,e){for(var b=b.firstChild;b;b=b.nextSibling)NodeUtil.attrMatch(b,d,e)&&a.match(b)&&c.push(b);return c}},!window.Step&&window.defaultConfig&&(window.Step=null),Step=function(a,b){this.axis=a,this.reverse=Step.axises[a][0],this.func=Step.axises[a][1],this.test=b,this.predicates=[],this._quickAttr=Step.axises[a][2]},Step.axises={ancestor:[!0,function(a,b,c,d,e,f,g){for(;b=b.parentNode;)f&&1==b.nodeType&&f.reserveDelByNode(b,g,!0),a.match(b)&&c.unshift(b);return c}],"ancestor-or-self":[!0,function(a,b,c,d,e,f,g){do f&&1==b.nodeType&&f.reserveDelByNode(b,g,!0),a.match(b)&&c.unshift(b);while(b=b.parentNode);return c}],attribute:[!1,function(a,b,c){var d=b.attributes;if(d)if(a.notOnlyElement&&0==a.type||"*"==a.name)for(var e,f=0;e=d[f];f++)c.push(e);else{var e=d.getNamedItem(a.name);e&&c.push(e)}return c}],child:[!1,NodeUtil.getChildNodes,!0],descendant:[!1,NodeUtil.getDescendantNodes,!0],"descendant-or-self":[!1,function(a,b,c,d,e,f,g){return NodeUtil.attrMatch(b,d,e)&&a.match(b)&&c.push(b),NodeUtil.getDescendantNodes(a,b,c,d,e,f,g)},!0],following:[!1,function(a,b,c,d,e){do for(var f=b;f=f.nextSibling;)NodeUtil.attrMatch(f,d,e)&&a.match(f)&&c.push(f),c=NodeUtil.getDescendantNodes(a,f,c,d,e);while(b=b.parentNode);return c},!0],"following-sibling":[!1,function(a,b,c,d,e,f,g){for(;b=b.nextSibling;)f&&1==b.nodeType&&f.reserveDelByNode(b,g),a.match(b)&&c.push(b);return c}],namespace:[!1,function(a,b,c){return c}],parent:[!1,function(a,b,c){if(9==b.nodeType)return c;if(2==b.nodeType)return c.push(b.ownerElement),c;var b=b.parentNode;return a.match(b)&&c.push(b),c}],preceding:[!0,function(a,b,c,d,e){var f=[];do f.unshift(b);while(b=b.parentNode);for(var g=1,h=f.length;h>g;g++){var i=[];for(b=f[g];b=b.previousSibling;)i.unshift(b);for(var j=0,k=i.length;k>j;j++)b=i[j],NodeUtil.attrMatch(b,d,e)&&a.match(b)&&c.push(b),c=NodeUtil.getDescendantNodes(a,b,c,d,e)}return c},!0],"preceding-sibling":[!0,function(a,b,c,d,e,f,g){for(;b=b.previousSibling;)f&&1==b.nodeType&&f.reserveDelByNode(b,g,!0),a.match(b)&&c.unshift(b);return c}],self:[!1,function(a,b,c){return a.match(b)&&c.push(b),c}]},Step.parse=function(a){var b,c,d,e;if("."==a.peek())d=this.self(),a.next();else if(".."==a.peek())d=this.parent(),a.next();else{if("@"==a.peek()){if(b="attribute",a.next(),a.empty())throw Error("missing attribute name")}else if("::"==a.peek(1)){if(!/(?![0-9])[\w]/.test(a.peek().charAt(0)))throw Error("bad token: "+a.next());if(b=a.next(),a.next(),!this.axises[b])throw Error("invalid axis: "+b);if(a.empty())throw Error("missing node name")}else b="child";if(e=a.peek(),/(?![0-9])[\w]/.test(e.charAt(0)))if("("==a.peek(1)){if(!NodeType.types[e])throw Error("invalid node type: "+e);c=NodeType.parse(a)}else c=NameTest.parse(a);else{if("*"!=e)throw Error("bad token: "+a.next());c=NameTest.parse(a)}d=new Step(b,c)}return BaseExprHasPredicates.parsePredicates(a,d),d},Step.self=function(){return new Step("self",new NodeType("node"))},Step.parent=function(){return new Step("parent",new NodeType("node"))},Step.prototype=new BaseExprHasPredicates,Step.prototype.evaluate=function(a,b,c,d){var e=a.node;if(b||"//"!=this.op){if(this.needContextPosition&&(c=null,d=null),this.quickAttr){var f=this.attrValueExpr?this.attrValueExpr.string(a):null,g=this.func(this.test,e,new NodeSet,this.attrName,f,c,d);g=this.evaluatePredicates(g,1)}else{var g=this.func(this.test,e,new NodeSet,null,null,c,d);g=this.evaluatePredicates(g)}c&&c.doDel()}else if(this.needContextPosition||"child"!=this.axis){var h=new Step("descendant-or-self",new NodeType("node")),i=h.evaluate(a,!1,c,d).list(),g=null;h.op="/";for(var j=0,k=i.length;k>j;j++)g?g.merge(this.evaluate(new Ctx(i[j]),!0)):g=this.evaluate(new Ctx(i[j]),!0);g=g||new NodeSet}else if(this.quickAttr){var f=this.attrValueExpr?this.attrValueExpr.string(a):null,g=NodeUtil.getDescendantNodes(this.test,e,new NodeSet,this.attrName,f,c,d);g=this.evaluatePredicates(g,1)}else{var g=NodeUtil.getDescendantNodes(this.test,e,new NodeSet,null,null,c,d);g=this.evaluatePredicates(g)}return g},Step.prototype.predicate=function(a){if(this.predicates.push(a),(a.needContextPosition||"number"==a.datatype||"void"==a.datatype)&&(this.needContextPosition=!0),this._quickAttr&&1==this.predicates.length&&a.quickAttr){var b=a.attrName;this.attrName=b,this.attrValueExpr=a.attrValueExpr,this.quickAttr=!0}},Step.prototype.show=function(a){a=a||"";var b="";if(b+=a+"step: \n",a+="    ",this.axis&&(b+=a+"axis: "+this.axis+"\n"),b+=this.test.show(a),this.predicates.length){b+=a+"predicates: \n",a+="    ";for(var c=0;c<this.predicates.length;c++)b+=this.predicates[c].show(a)}return b},!window.NodeType&&window.defaultConfig&&(window.NodeType=null),NodeType=function(a,b){switch(this.name=a,this.literal=b,a){case"comment":this.type=8;break;case"text":this.type=3;break;case"processing-instruction":this.type=7;break;case"node":this.type=0}},NodeType.types={comment:1,text:1,"processing-instruction":1,node:1},NodeType.parse=function(a){var b,c,d;if(b=a.next(),a.next(),a.empty())throw Error("bad nodetype");if(d=a.peek().charAt(0),('"'==d||"'"==d)&&(c=Literal.parse(a)),a.empty())throw Error("bad nodetype");if(")"!=a.next())throw a.back(),Error("bad token "+a.next());return new NodeType(b,c)},NodeType.prototype=new BaseExpr,NodeType.prototype.notOnlyElement=!0,NodeType.prototype.match=function(a){return!this.type||this.type==a.nodeType},NodeType.prototype.show=function(a){a=a||"";var b="";return b+=a+"nodetype: "+this.type+"\n",this.literal&&(a+="    ",b+=this.literal.show(a)),b},!window.NameTest&&window.defaultConfig&&(window.NameTest=null),NameTest=function(a){this.name=a.toLowerCase()},NameTest.parse=function(a){return new NameTest("*"!=a.peek()&&":"==a.peek(1)&&"*"==a.peek(2)?a.next()+a.next()+a.next():a.next())},NameTest.prototype=new BaseExpr,NameTest.prototype.match=function(a){var b=a.nodeType;return 1!=b&&2!=b||"*"!=this.name&&this.name!=a.nodeName.toLowerCase()?!1:!0},NameTest.prototype.show=function(a){a=a||"";var b="";return b+=a+"nametest: "+this.name+"\n"},!window.VariableReference&&window.defaultConfig&&(window.VariableReference=null),VariableReference=function(a){this.name=a.substring(1)},VariableReference.parse=function(a){var b=a.next();if(b.length<2)throw Error("unnamed variable reference");return new VariableReference(b)},VariableReference.prototype=new BaseExpr,VariableReference.prototype.datatype="void",VariableReference.prototype.show=function(a){a=a||"";var b="";return b+=a+"variable: "+this.name+"\n"},!window.Literal&&window.defaultConfig&&(window.Literal=null),Literal=function(a){this.text=a.substring(1,a.length-1)},Literal.parse=function(a){var b=a.next();if(b.length<2)throw Error("unclosed literal string");return new Literal(b)},Literal.prototype=new BaseExpr,Literal.prototype.datatype="string",Literal.prototype.evaluate=function(){return this.text},Literal.prototype.show=function(a){a=a||"";var b="";return b+=a+"literal: "+this.text+"\n"},!window.Number&&window.defaultConfig&&(window.Number=null),Number=function(a){this.digit=+a},Number.parse=function(a){return new Number(a.next())},Number.prototype=new BaseExpr,Number.prototype.datatype="number",Number.prototype.evaluate=function(){return this.digit},Number.prototype.show=function(a){a=a||"";var b="";return b+=a+"number: "+this.digit+"\n"},!window.FunctionCall&&window.defaultConfig&&(window.FunctionCall=null),FunctionCall=function(a){var b=FunctionCall.funcs[a];if(!b)throw Error(a+" is not a function");this.name=a,this.func=b[0],this.args=[],this.datatype=b[1],b[2]&&(this.needContextPosition=!0),this.needContextNodeInfo=b[3],this.needContextNode=this.needContextNodeInfo[0]},FunctionCall.funcs={"context-node":[function(){if(0!=arguments.length)throw Error("Function context-node expects ()");var a;return a=new NodeSet,a.push(this.node),a},"nodeset",!1,[!0]],"root-node":[function(){if(0!=arguments.length)throw Error("Function root-node expects ()");var a,b;return a=new NodeSet,b=this.node,a.push(9==b.nodeType?b:b.ownerDocument),a},"nodeset",!1,[]],last:[function(){if(0!=arguments.length)throw Error("Function last expects ()");return this.last},"number",!0,[]],position:[function(){if(0!=arguments.length)throw Error("Function position expects ()");return this.position},"number",!0,[]],count:[function(a){if(1!=arguments.length||!(a=a.evaluate(this)).isNodeSet)throw Error("Function count expects (nodeset)");return a.length},"number",!1,[]],id:[function(a){var b,c,d,e,f,g,h;if(1!=arguments.length)throw Error("Function id expects (object)");for(g=this.node,h=9==g.nodeType?g:g.ownerDocument,a=a.string(this),b=a.split(/\s+/),c=new NodeSet,d=0,l=b.length;l>d;d++)if(e=b[d],f=h.getElementById(e),uai.opera&&f&&f.id!=e)for(var i=h.getElementsByName(e),j=0,k=i.length;k>j;j++)f=i[j],f.id==e&&c.push(f);else f&&c.push(f);return c.isSorted=!1,c},"nodeset",!1,[]],"local-name":[function(a){var b;switch(arguments.length){case 0:b=this.node;break;case 1:if((a=a.evaluate(this)).isNodeSet){b=a.first();break}default:throw Error("Function local-name expects (nodeset?)")}return""+b.nodeName.toLowerCase()},"string",!1,[!0,!1]],name:[function(){return FunctionCall.funcs["local-name"][0].apply(this,arguments)},"string",!1,[!0,!1]],"namespace-uri":[function(){return""},"string",!1,[!0,!1]],string:[function(a){switch(arguments.length){case 0:a=NodeUtil.to("string",this.node);break;case 1:a=a.string(this);break;default:throw Error("Function string expects (object?)")}return a},"string",!1,[!0,!1]],concat:[function(){if(arguments.length<2)throw Error("Function concat expects (string, string[, ...])");for(var a="",b=0,c=arguments.length;c>b;b++)a+=arguments[b].string(this);return a},"string",!1,[]],"starts-with":[function(a,b){if(2!=arguments.length)throw Error("Function starts-with expects (string, string)");return a=a.string(this),b=b.string(this),0==a.indexOf(b)},"boolean",!1,[]],contains:[function(a,b){if(2!=arguments.length)throw Error("Function contains expects (string, string)");return a=a.string(this),b=b.string(this),-1!=a.indexOf(b)},"boolean",!1,[]],substring:[function(a,b,c){var d,e;switch(a=a.string(this),b=b.number(this),arguments.length){case 2:c=a.length-b+1;break;case 3:c=c.number(this);break;default:throw Error("Function substring expects (string, string)")}return b=Math.round(b),c=Math.round(c),d=b-1,e=b+c-1,1/0==e?a.substring(0>d?0:d):a.substring(0>d?0:d,e)},"string",!1,[]],"substring-before":[function(a,b){var c;if(2!=arguments.length)throw Error("Function substring-before expects (string, string)");return a=a.string(this),b=b.string(this),c=a.indexOf(b),-1==c?"":a.substring(0,c)},"string",!1,[]],"substring-after":[function(a,b){if(2!=arguments.length)throw Error("Function substring-after expects (string, string)");a=a.string(this),b=b.string(this);var c=a.indexOf(b);return-1==c?"":a.substring(c+b.length)},"string",!1,[]],"string-length":[function(a){switch(arguments.length){case 0:a=NodeUtil.to("string",this.node);break;case 1:a=a.string(this);break;default:throw Error("Function string-length expects (string?)")}return a.length},"number",!1,[!0,!1]],"normalize-space":[function(a){switch(arguments.length){case 0:a=NodeUtil.to("string",this.node);break;case 1:a=a.string(this);break;default:throw Error("Function normalize-space expects (string?)")}return a.replace(/\s+/g," ").replace(/^ /,"").replace(/ $/,"")},"string",!1,[!0,!1]],translate:[function(a,b,c){if(3!=arguments.length)throw Error("Function translate expects (string, string, string)");a=a.string(this),b=b.string(this),c=c.string(this);for(var d=[],e=0,f=b.length;f>e;e++){var g=b.charAt(e);d[g]||(d[g]=c.charAt(e)||"")}for(var h="",e=0,f=a.length;f>e;e++){var g=a.charAt(e),i=d[g];h+=i!=undefined?i:g}return h},"string",!1,[]],"boolean":[function(a){if(1!=arguments.length)throw Error("Function boolean expects (object)");return a.bool(this)},"boolean",!1,[]],not:[function(a){if(1!=arguments.length)throw Error("Function not expects (object)");return!a.bool(this)},"boolean",!1,[]],"true":[function(){if(0!=arguments.length)throw Error("Function true expects ()");return!0},"boolean",!1,[]],"false":[function(){if(0!=arguments.length)throw Error("Function false expects ()");return!1},"boolean",!1,[]],lang:[function(){return!1},"boolean",!1,[]],number:[function(a){switch(arguments.length){case 0:a=NodeUtil.to("number",this.node);break;case 1:a=a.number(this);break;default:throw Error("Function number expects (object?)")}return a},"number",!1,[!0,!1]],sum:[function(a){var b,c,d,e;if(1!=arguments.length||!(a=a.evaluate(this)).isNodeSet)throw Error("Function sum expects (nodeset)");for(b=a.list(),c=0,d=0,e=b.length;e>d;d++)c+=NodeUtil.to("number",b[d]);return c},"number",!1,[]],floor:[function(a){if(1!=arguments.length)throw Error("Function floor expects (number)");return a=a.number(this),Math.floor(a)},"number",!1,[]],ceiling:[function(a){if(1!=arguments.length)throw Error("Function ceiling expects (number)");return a=a.number(this),Math.ceil(a)},"number",!1,[]],round:[function(a){if(1!=arguments.length)throw Error("Function round expects (number)");return a=a.number(this),Math.round(a)},"number",!1,[]]},FunctionCall.parse=function(a){var b,c=new FunctionCall(a.next());for(a.next();")"!=a.peek();){if(a.empty())throw Error("missing function argument list");if(b=BinaryExpr.parse(a),c.arg(b),","!=a.peek())break;a.next()}if(a.empty())throw Error("unclosed function argument list");if(")"!=a.next())throw a.back(),Error("bad token: "+a.next());return c},FunctionCall.prototype=new BaseExpr,FunctionCall.prototype.evaluate=function(a){return this.func.apply(a,this.args)},FunctionCall.prototype.arg=function(a){this.args.push(a),a.needContextPosition&&(this.needContextPosition=!0);var b=this.args;a.needContextNode&&(b.needContexNode=!0),this.needContextNode=b.needContextNode||this.needContextNodeInfo[b.length]},FunctionCall.prototype.show=function(a){a=a||"";var b="";if(b+=a+"function: "+this.name+"\n",a+="    ",this.args.length){b+=a+"arguments: \n",a+="    ";for(var c=0;c<this.args.length;c++)b+=this.args[c].show(a)}return b};var NodeID={uuid:1,get:function(a){return a.__jsxpath_id__||(a.__jsxpath_id__=this.uuid++)}};!window.NodeSet&&window.defaultConfig&&(window.NodeSet=null),NodeSet=function(){this.length=0,this.nodes=[],this.seen={},this.idIndexMap=null,this.reserveDels=[]},NodeSet.prototype.isNodeSet=!0,NodeSet.prototype.isSorted=!0,NodeSet.prototype.merge=function(a){if(this.isSorted=!1,a.only)return this.push(a.only);if(this.only){var b=this.only;delete this.only,this.push(b),this.length--}for(var c=a.nodes,d=0,e=c.length;e>d;d++)this._add(c[d])},NodeSet.prototype.sort=function(){if(!this.only&&!this.sortOff&&!this.isSorted){this.isSorted=!0,this.idIndexMap=null;var a=this.nodes;a.sort(function(a,b){if(a==b)return 0;if(a.compareDocumentPosition){var c=a.compareDocumentPosition(b);return 2&c?1:4&c?-1:0}for(var d=a,e=b,f=a,g=b,h=0,i=0;f=f.parentNode;)h++;for(;g=g.parentNode;)i++;if(h>i){for(;h--!=i;)d=d.parentNode;if(d==e)return 1}else if(i>h){for(;i--!=h;)e=e.parentNode;if(d==e)return-1}for(;(f=d.parentNode)!=(g=e.parentNode);)d=f,e=g;for(;d=d.nextSibling;)if(d==e)return-1;return 1})}},NodeSet.prototype.reserveDelByNodeID=function(a,b,c){var d,e=this.createIdIndexMap();if((d=e[a])&&(c&&this.length-b-1>d||!c&&d>b)){var f={value:d,order:String.fromCharCode(d),toString:function(){return this.order},valueOf:function(){return this.value}};this.reserveDels.push(f)}},NodeSet.prototype.reserveDelByNode=function(a,b,c){this.reserveDelByNodeID(NodeID.get(a),b,c)},NodeSet.prototype.doDel=function(){if(this.reserveDels.length){if(this.length<65536)var a=this.reserveDels.sort(function(a,b){return b-a});else var a=this.reserveDels.sort(function(a,b){return b-a});for(var b=0,c=a.length;c>b;b++)this.del(a[b]);this.reserveDels=[],this.idIndexMap=null}},NodeSet.prototype.createIdIndexMap=function(){if(this.idIndexMap)return this.idIndexMap;for(var a=this.idIndexMap={},b=this.nodes,c=0,d=b.length;d>c;c++){var e=b[c],f=NodeID.get(e);a[f]=c}return a},NodeSet.prototype.del=function(a){if(this.length--,this.only)delete this.only;else{var b=this.nodes.splice(a,1)[0];this._first==b&&(delete this._first,delete this._firstSourceIndex,delete this._firstSubIndex),delete this.seen[NodeID.get(b)]}},NodeSet.prototype.delDescendant=function(a,b){if(!this.only){var c=a.nodeType;if((1==c||9==c)&&!uai.applewebkit2){if(!a.contains)if(1==c){var d=a;a={contains:function(a){return 8&a.compareDocumentPosition(d)}}}else a={contains:function(){return!0}};for(var e=this.nodes,f=b+1;f<e.length;f++)a.contains(e[f])&&(this.del(f),f--)}}},NodeSet.prototype._add=function(a,b){var c=this.seen,d=NodeID.get(a);return c[d]?!0:(c[d]=!0,this.length++,void(b?this.nodes.unshift(a):this.nodes.push(a)))},NodeSet.prototype.unshift=function(a){if(!this.length)return this.length++,void(this.only=a);if(this.only){var b=this.only;delete this.only,this.unshift(b),this.length--}return this._add(a,!0)},NodeSet.prototype.push=function(a){if(!this.length)return this.length++,void(this.only=a);if(this.only){var b=this.only;delete this.only,this.push(b),this.length--}return this._add(a)},NodeSet.prototype.first=function(){return this.only?this.only:(this.nodes.length>1&&this.sort(),this.nodes[0])},NodeSet.prototype.list=function(){return this.only?[this.only]:(this.sort(),this.nodes)},NodeSet.prototype.string=function(){var a=this.only||this.first();return a?NodeUtil.to("string",a):""},NodeSet.prototype.bool=function(){return!(!this.length&&!this.only)},NodeSet.prototype.number=function(){return+this.string()},NodeSet.prototype.iterator=function(a){
this.sort();var b=this;if(a){var c=0;return function(){var a=b.length-c++-1;return b.only&&0==a?b.only:b.nodes[a]}}var c=0;return function(){return b.only&&0==c++?b.only:b.nodes[c++]}};var install=function(a){a=a||this;var b=a.document;a.undefined,a.XPathExpression=function(b){if(!b.length)throw a.Error("no expression");var c=this.lexer=Lexer(b);if(c.empty())throw a.Error("no expression");if(this.expr=BinaryExpr.parse(c),!c.empty())throw a.Error("bad token: "+c.next())},a.XPathExpression.prototype.evaluate=function(b,c){return new a.XPathResult(this.expr.evaluate(new Ctx(b)),c)},a.XPathResult=function(a,b){if(0==b)switch(typeof a){case"object":b++;case"boolean":b++;case"string":b++;case"number":b++}switch(this.resultType=b,b){case 1:return void(this.numberValue=a.isNodeSet?a.number():+a);case 2:return void(this.stringValue=a.isNodeSet?a.string():""+a);case 3:return void(this.booleanValue=a.isNodeSet?a.bool():!!a);case 4:case 5:case 6:case 7:this.nodes=a.list(),this.snapshotLength=a.length,this.index=0,this.invalidIteratorState=!1;break;case 8:case 9:return void(this.singleNodeValue=a.first())}},a.XPathResult.prototype.iterateNext=function(){return this.nodes[this.index++]},a.XPathResult.prototype.snapshotItem=function(a){return this.nodes[a]},a.XPathResult.ANY_TYPE=0,a.XPathResult.NUMBER_TYPE=1,a.XPathResult.STRING_TYPE=2,a.XPathResult.BOOLEAN_TYPE=3,a.XPathResult.UNORDERED_NODE_ITERATOR_TYPE=4,a.XPathResult.ORDERED_NODE_ITERATOR_TYPE=5,a.XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE=6,a.XPathResult.ORDERED_NODE_SNAPSHOT_TYPE=7,a.XPathResult.ANY_UNORDERED_NODE_TYPE=8,a.XPathResult.FIRST_ORDERED_NODE_TYPE=9,b.createExpression=function(b){return new a.XPathExpression(b,null)},b.evaluate=function(a,c,d,e){return b.createExpression(a,null).evaluate(c,e)}},win;if(config.targetFrame){var frame=document.getElementById(config.targetFrame);frame&&(win=frame.contentWindow)}config.exportInstaller&&(window.install=install),config.hasNative&&config.useNative||install(win||window)}}();var DARLA,agent=navigator.userAgent,language=navigator.language,arrayPrototype=Array.prototype,functionPrototype=Function.prototype,slice=arrayPrototype.slice,activeXHR=0,count=0,xpath="",darlaComplete=!1,assets="https://s.yimg.com/dh/ap/av/moneyball/assets/",loadedClass=new RegExp("(^| )gemini-loaded( |$)"),adClass=new RegExp("(^| )gemini-ad( |$)"),browser=function(){var a=agent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[],b=RegExp.$1.toLowerCase(),c={chrome:"webkit",firefox:"moz",msie:"ms",opera:"o",safari:"webkit",trident:"ms"},d=c[b]||"";return{chrome:"chrome"===b&&!("doNotTrack"in window),cssPrefix:"-"+d+"-",firefox:"firefox"===b,language:language&&language.toLowerCase(),msie:"msie"===b||"trident"===b,opera:"opera"===b,prefix:d,safari:"safari"===b&&"doNotTrack"in window,version:parseFloat(agent.match(/version\/([\d]+)/i)||a[2]),webkit:"webkit"===d}}(),each=function(a,b){for(var c=a.length,d=0;c>d;d++){var e=b.call(a[d],a[d],d);if(e===!1)break}},emptyFn=function(){},gemini='<img class="adbuildr-image adbuildr-adchoice" onclick="javascript:window.open(\'http://info.yahoo.com/privacy/us/yahoo/relevantads.html\');" '+(browser.msie&&browser.version<9?'src="'+assets+'syndication.png" style="border: 0 !important;">':'src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" onmouseenter="this.style.width=\'94px\';" onmouseleave="this.style.width=\'18px\';" style="background: url('+assets+"syndication@2x.png) no-repeat 0 0; background-size: 94px 20px; width: 18px; height: 20px; "+browser.cssPrefix+'transition: all .3s ease-in-out; border: 0 !important; box-shadow: none !important;">'),gemini_alt='<img class="adbuildr-image adbuildr-adchoice" onclick="javascript:window.open(\'http://info.yahoo.com/privacy/us/yahoo/relevantads.html\');" '+(browser.msie&&browser.version<9?'src="'+assets+'syndication.png" style="border: 0 !important;">':'src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" onmouseenter="this.style.width=\'94px\';" onmouseleave="this.style.width=\'18px\';" style="background: url(https://mb.zenfs.com/dh/ap/av/moneyball/assets/syndication_alt@2x.png) no-repeat 0 0; background-size: 94px 20px; width: 18px; height: 20px;'+browser.cssPrefix+'transition: all .3s ease-in-out; border: 0 !important; box-shadow: none !important;">'),jsonPUID=0,parseJSON=window.JSON?window.JSON.parse:function(){"use strict";var a,b,c,d,e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:" "},f=function(b){throw{name:"SyntaxError",message:b,at:a,text:c}},g=function(d){return d&&d!==b&&f("Expected '"+d+"' instead of '"+b+"'"),b=c.charAt(a),a+=1,b},h=function(){var a,c="";for("-"===b&&(c="-",g("-"));b>="0"&&"9">=b;)c+=b,g();if("."===b)for(c+=".";g()&&b>="0"&&"9">=b;)c+=b;if("e"===b||"E"===b)for(c+=b,g(),("-"===b||"+"===b)&&(c+=b,g());b>="0"&&"9">=b;)c+=b,g();return a=+c,isFinite(a)?a:void f("Bad number")},i=function(){var a,c,d,h="";if('"'===b)for(;g();){if('"'===b)return g(),h;if("\\"===b)if(g(),"u"===b){for(d=0,c=0;4>c&&(a=parseInt(g(),16),isFinite(a));c+=1)d=16*d+a;h+=String.fromCharCode(d)}else{if("string"!=typeof e[b])break;h+=e[b]}else h+=b}f("Bad string")},j=function(){for(;b&&" ">=b;)g()},k=function(){switch(b){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+b+"'")},l=function(){var a=[];if("["===b){if(g("["),j(),"]"===b)return g("]"),a;for(;b;){if(a.push(d()),j(),"]"===b)return g("]"),a;g(","),j()}}f("Bad array")},m=function(){var a,c={};if("{"===b){if(g("{"),j(),"}"===b)return g("}"),c;for(;b;){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(c,a)&&f('Duplicate key "'+a+'"'),c[a]=d(),j(),"}"===b)return g("}"),c;g(","),j()}}f("Bad object")};return d=function(){switch(j(),b){case"{":return m();case"[":return l();case'"':return i();case"-":return h();default:return b>="0"&&"9">=b?h():k()}},function(e,g){var h;return c=e,a=0,b=" ",h=d(),j(),b&&f("Syntax error"),"function"==typeof g?function i(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=i(e,c),void 0!==d?e[c]=d:delete e[c]);return g.call(a,b,e)}({"":h},""):h}}(),Yahoo={ajaxSettings:{accepts:{html:"text/html",json:"application/json",script:"text/javascript, application/javascript",text:"text/plain",xml:"application/xml, text/xml"},async:!0,beforeSend:emptyFn,callback:{fn:"",param:"cb"},complete:emptyFn,context:document,crossDomain:!1,error:emptyFn,global:!0,headers:{},success:emptyFn,timeout:0,type:"GET"},ajax:function(a){var b,c=/=\?/.test(a.url),a=Yahoo.extend(!0,Yahoo.ajaxSettings,a||{}),d=a.context,e=a.contentType||"application/x-www-form-urlencoded",f="object"==typeof a.data&&(a.data=Yahoo.params(a.data))||a.data||null,g=a.type.toUpperCase(),h=a.accepts[a.dataType],i=a.headers,j=a.dataType,k=(a.url||!a.url&&(a.url=window.location.toString()),a.xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest);if("GET"===g&&f&&(a.url+=(a.url.indexOf("?")<0?"?":"&")+f),a.crossDomain||(a.crossDomain=/^((http|ftp|file)(s?)\:)?/.test(a.url)&&RegExp.$1!==window.location.host,i["X-Requested-With"]="XMLHttpRequest"),"jsonp"===j||c)return(a.url=Yahoo.appendQuery(a.url,a.callback.param+"=?"))&&Yahoo.jsonP(a);if(k.onreadystatechange=function(){var b,c=!1,e="";if(activeXHR++,4===k.readyState){if(clearTimeout(b),k.status>=200&&k.status<300||304==k.status||0==k.status){e=k.responseText;try{"json"!==j||/^\s*$/g.test(e)?"script"===j&&(1,eval)(e):e=parseJSON(e)}catch(f){c=f}c?a.error.call(d,k,"parsererror",c):a.success.call(d,e,"success",k)}else a.error.call(d,k,"error",c);a.complete.call(d,k,c?"error":"success"),activeXHR--}},a.beforeSend.call(d,k,a)===!1)return k.abort(),activeXHR--,!1;h&&(i.Accept=h,k.overrideMimeType&&k.overrideMimeType(h.split(",")[1]||h.split(",")[0])),(e||f&&"GET"!==g)&&(i["Content-Type"]=e),k.open(g,a.url,a.async);for(b in i)k.setRequestHeader(b,a.headers[b]);return a.timeout>0&&(requestTimeout=setTimeout(function(){k.onreadystatechange=emptyFn,a.error.call(d,k,"timeout"),k.abort(),activeXHR--},a.timeout)),k.send(f),k},appendQuery:function(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")},extend:function(a){var b=1,c=!1;return"boolean"==typeof a&&(c=a,a=arguments[1]||{},b++),void 0===a&&(a=this,b--),each(slice.call(arguments,b),function(b){var d,e,f,g;for(var h in b)d=a[h],e=b[h],a!==e&&(c&&e&&("object"==typeof e||(f=e instanceof Array))?(g=f?d&&d instanceof Array?d:[]:d&&"obejct"==typeof d?d:{},f=!1,a[h]=Yahoo.extend(c,g,e)):void 0!==e&&(a[h]=e))}),a},fragment:function(a,b){a.innerHTML=""+b;var c=Yahoo.toArray(a.childNodes);return each(c,function(b){a.removeChild(b)}),c},format:function(a,b){if(!b||!("object"==typeof b||b instanceof Array))return void 0;var c="object"==typeof b?/\{(\w+)\}/g:/\{(\d+)\}/g;return a.replace(c,function(a,c){return b[c]||""})},jsonP:function(a){var b,c=document.createElement("script"),d=a.callback.fn?a.callback.fn:"jsonpCallback"+jsonPUID++,e=a.context;return window[d]=function(f){window[d]=null;try{delete window[d]}catch(g){}c.parentNode.removeChild(c),a.success.call(e,f),b&&clearTimeout(b)&&(b=null)},c.src=a.url.replace(/=\?/,"="+d),c.onerror=function(){a.xhr.abort(),a.error.call(e,null,"error")},document.getElementsByTagName("head")[0].appendChild(c),a.timeout>0&&(b=setTimeout(function(){c.parentNode.removeChild(c),d in window&&(window[d]=emptyFn),a.error.call(e,null,"timeout"),a.xhr.abort()},a.timeout)),{}},toArray:function(a,b,c){var d=[];if(!a||!a.length)return d;"string"==typeof a&&(a=a.split("")),c=c&&0>c&&a.length+c||c||a.length;for(var e=b||0;c>e;e++)d.push(a[e]);return d}},DARLA_CONFIG={onPosMsg:function(a,b,c){if("geom-update"==a){var d=DARLA.render.RenderMgr.get(b).viewedAt>0;if(d){if(!beacons[b])return;for(var e=0,f=beacons[b].length;f>e;e++){var g=new Image;g.src=beacons[b][e]}delete beacons[b]}}},beaconsDisabled:!0,k2Rate:0,k2E2ERate:0,viewRate:0,positions:{},srenderPath:"https://s.yimg.com/rq/darla/2-7-7/html/r-sf.html"},origin=window.top.location.protocol+"//"+window.top.location.hostname+(window.top.location.port?":"+window.top.location.port:""),path=window.top.location.pathname,url=origin+path,responses=[],beacons={},uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}(),viewability=function(){DARLA.config(DARLA_CONFIG);for(var a=new DARLA.Response,b=0,c=responses.length;c>b;b++)a.add(responses[b][0],responses[b][1],{y:{pvid:responses[b][2]}});DARLA.render(a);for(var d in beacons){var e=document.getElementById(d);e&&(e.style.width="",e.style.height=""),e=null}};Yahoo.extend(Yahoo,{version:"1.2.0",init:function(a){var b="https://n.gemini.yahoo.com/ssi?pu="+encodeURIComponent(url)+"&ui=syndication&cc=STRM&ve=2&hs=1&pb="+encodeURIComponent("||1197768208|STRM|"+uuid)+"&ri="+uuid;"undefined"!=typeof window.sectionId&&(b+="&se="+window.sectionId),"undefined"!=typeof window.sectionCode&&(b+="&sc="+window.sectionCode),Yahoo.ajax({url:b,dataType:"jsonp",error:function(a){Yahoo.resp={}},success:function(b){function c(){function a(){var a=j[count],f=parseJSON(a.tag),g="gemini-"+a.creativeId,i=function(a){return imgType&&a[imgType]?a[imgType]:aspect&&"1"!==aspect?a.secHqImage||a.secOrigImg||a.secImage:a.secOrigImg||a.secHqImage||a.secImage},k={click_url:f.clickUrl,title:f.headline,image:i(f),sponsor:a.sponsoredBy,description:f.summary,gemini:gemini,gemini_alt:gemini_alt},l=Yahoo.fragment(document.createElement("div"),Yahoo.format(e,k)),m=l[0],n=b+count+1;if(m.setAttribute("id",g),h){var p=c.nextElementSibling||o(c,"next")||c.previousElementSibling||o(c,"previous"),q=p?p.getAttribute("class"):"",u=m.getAttribute("class")||"";m.setAttribute("class",u+=" "+q+" gemini-loaded"),d.replaceChild(m,c)}else d.insertBefore(m,c);t(Yahoo.toArray(m.getElementsByTagName("img")),a),DARLA_CONFIG.positions[g]={pos:g,id:g,dest:g,w:r,h:s,flex:!0,fr:"simple"},beacons[g]||(beacons[g]=[]),beacons[g].push(a.beacon.replace("$(AD_POSN)",encodeURIComponent("pp=m,pi="+n))),f.imprTrackingUrl&&beacons[g].push(f.imprTrackingUrl),m.classNames+="gemini-loaded",responses.push([g,m.innerHTML,a.creativeId]),count++,darlaComplete&&viewability()}var b=0==count?k:k+count*l-count,c=q(m,b);if((!c||c&&c.nodeType&&1===c.nodeType&&adClass.test(c.className)&&!loadedClass.test(c.className))&&(h=!0,c=browser.msie&&browser.version<9?n(document.body,"gemini-ad"):document.querySelector(".gemini-ad:not(.gemini-loaded)")),c&&c.nodeType&&1===c.nodeType&&!loadedClass.test(c.className)){var d=c.parentNode,r=p(c,"width")||"",s=p(c,"height")||"",t=function(a,b){if(a.length)for(var c=0,d=a.length;d>c;c++){var e=a[c],h=e.getAttribute("src"),i=Math.max(0,parseInt(e.style.paddingLeft,10)+parseInt(e.style.paddingRight,10)),j=Math.max(0,parseInt(e.style.paddingBottom,10)+parseInt(e.style.paddingTop,10)),k=isNaN(f)?null:f-j,l=isNaN(g)?null:g-i;-1===e.className.indexOf("adbuildr-image")&&(browser.msie&&browser.version<9?(e.setAttribute("src",h),e.setAttribute("style",'background-color: #000; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+h+'", sizingMethod="scale"); -ms-filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+h+'", sizingMethod="scale");')):(e.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),e.style.background="url("+h+") no-repeat scroll center center / contain #000"),e.style.height=(k||f)+"px",e.style.width=(l||g)+"px")}},u=function(a,b,c){for(var d=0,e=a.length;e>d;d++){var f,g=parseJSON(a[d].tag),h=document.createElement("img");f=c&&g[c]?g[c]:b&&"1"!==b?g.secHqImage||g.secOrigImg||g.secImage:g.secOrigImg||g.secOrigImg||g.secImage,f&&(h.src=f)}};Yahoo.template?a():Yahoo.ajax({url:i.template,dataType:"jsonp",headers:{"Content-Type":"text/javascript, application/javascript"},callback:{fn:"ygscb",param:"cb"},success:function(b){Yahoo.template=!0,e=decodeURIComponent(b.template),f=b.originalHeight,g=b.originalWidth,aspect=b.aspect,imgType=b.imgType,u(j,aspect,imgType),a()}})}return!0}function d(){Yahoo.resp&&Yahoo.resp.ads.length<=count||(c(),setTimeout(d,500))}Yahoo.resp=b;var e,f,g,h,i=b.section,j=b.ads,k=Math.max(0,parseInt(i.start,10)-1),l=parseInt(i.skip,10),m=i.xpath.replace(/\[(\d+)\]/g,""),n=function(a,b){for(var c=[],d=new RegExp("(^| )"+b+"( |$)"),e=a.getElementsByTagName("*"),f=0,g=e.length;g>f;f++){var h=e[f].className;d.test(h)&&!loadedClass.test(h)&&c.push(e[f])}return c[0]},o=function(a,b){do a=a[b+"Sibling"];while(a&&1!==a.nodeType);return a},p=function(a,b){return window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),window.getComputedStyle(a,null)[b]},q=function(a,b){for(var c=document.evaluate(a,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),d=[],e=0;e<c.snapshotLength;e++){var f=c.snapshotItem(e),g=f.id&&-1!==f.id.indexOf("gemini-");g||d.push(f)}return d[b]};d(),"function"==typeof a&&a()}})}}),Yahoo.init(function(){if(!darlaComplete){var a=document.createElement("script");a.async=!0,a.src="https://s.yimg.com/rq/darla/2-7-8/js/g-d-min.js",a.onload=function(){darlaComplete=!0,viewability()},document.body.appendChild(a)}});