/*! NBCMPX - build:r13_100115 - 2015-05-06 - branch:r13 - commit:5b3300e90df82178a1ac431e46d52ba1b815d268 */
SampleOverlayPlugIn=Class.extend({init:function(){this.canPlay=!1,this.isPlaying=!1,this.overlay=document.createElement("div"),this.overlay.innerHTML="",this.overlay.style.textAlign="right",this.overlay.style.position="absolute",this.overlay.style.left="5.5%",this.overlay.style.top="0px",this.overlay.style.zIndex=0,this.overlay.style.opacity=0,this.overlay.style.visibility="hidden",this.overlay.link="",$.fn.watch=function(a,b,c){function d(a){for(var b=a.data(),c=!1,d="",e=0;e<b.props.length;e++)if(d=a.css(b.props[e]),b.vals[e]!==d){b.vals[e]=d,c=!0;break}c&&b.func&&b.func.call(a,b)}return c||(c=10),this.each(function(){var e=$(this),f=function(){d.call(this,e)},g={props:a.split(","),func:b,vals:[]};$.each(g.props,function(a){g.vals[a]=e.css(g.props[a])}),e.data(g),"object"==typeof this.onpropertychange?e.bind("propertychange",b):$.browser.mozilla?e.bind("DOMAttrModified",b):setInterval(f,c)})}},initialize:function(a){var b=this;this.controller=a.controller,this.baseOpacity=a.vars.opacity,this.overlay.style.opacity=this.baseOpacity,this.overlay.innerHTML='<img src="'+a.vars.logo+'" style="cursor:pointer">',this.overlay.style.top=this.controller.getOverlayArea().height-45+"px",this.overlay.onclick=function(){return window.open(b.overlay.link,"_frame"),!1},this.controller.addEventListener("OnMediaPlaying",function(){b.handleMediaPlaying.apply(b,arguments)}),this.controller.addEventListener("OnMediaStart",function(){b.handleMediaStart.apply(b,arguments)}),this.controller.addEventListener("OnMediaEnd",function(){b.handleMediaEnd.apply(b,arguments)}),this.controller.addEventListener("OnMediaError",function(){b.handleMediaError.apply(b,arguments)}),this.controller.addEventListener("OnMediaPause",function(){b.handleMediaPause.apply(b,arguments)}),this.controller.addEventListener("OnMediaUnpause",function(){b.handleMediaUnpause.apply(b,arguments)}),this.controller.addEventListener("OnOverlayAreaChanged",function(){b.handleOverlayChanged.apply(b,arguments)}),this.controller.addEventListener("OnPlayerLoaded",function(){b.handlePlayerLoaded.apply(b,arguments)}),tpDebug("*** tpSampleOverlayPlugIn plugin LOADED! ***")},handlePlayerLoaded:function(){},handleMediaPlaying:function(){},handleOverlayChanged:function(a){0!==a.data.height&&0!==a.data.width&&(this.overlay.style.top=a.data.height-45+"px")},handleMediaStart:function(a){a.data.baseClip.isAd?this.overlay.style.visibility="hidden":(this.overlay.style.visibility="visible",this.overlay.link=null===a.data.baseClip.contentCustomData?"http://www.nbc.com":a.data.baseClip.contentCustomData.permalink)},handleMediaEnd:function(){this.overlay.style.visibility="hidden"},handleMediaPause:function(){},handleMediaUnpause:function(){}});var sampleOverlayPlugIn=new SampleOverlayPlugIn;tpController.plugInLoaded(sampleOverlayPlugIn,sampleOverlayPlugIn.overlay);