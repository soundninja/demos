/*! Soundninja 2015-08-29 */

!function(a){function b(a,b){d[b]||(d[b]=0),a.setAttribute("data-match-id",b+d[b]),d[b]++}var c=a;!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-61781353-1","auto",{name:"soundninja"}),ga("soundninja.send","pageview"),function(a,b){function c(a){d[a]=function(){d._q.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var d=a.amplitude||{},e=b.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.2.1-min.gz.js";var f=b.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f),d._q=[];for(var g=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties"],h=0;h<g.length;h++)c(g[h]);a.amplitude=d}(window,document),amplitude.init("d9cda55c3950a1859fa0d889c4dfc635"),a.extend({highlight:function(d,e,f,g){var h=d.wholeText;if(3===d.nodeType){var i=d.data.replace("é","e").match(e),i=d.data.match(e);if(i){var j=document.createElement(f||"span");j.className=g||"highlight";var k=d.splitText(i.index),l=i[0],m=h.indexOf(l+"'")==i.index?1:0;k.splitText(i[0].length+m);var n=k.cloneNode(!0);j.appendChild(n);var o=c(n).text();return o=o.replace(/'s?|’s?/,""),b(j,o),j.setAttribute("data-match",o),k.parentNode.replaceChild(j,k),1}}else if(1===d.nodeType&&d.childNodes&&!/(script|style)/i.test(d.tagName)&&(d.tagName!==f.toUpperCase()||d.className!==g))for(var p=0;p<d.childNodes.length;p++)p+=a.highlight(d.childNodes[p],e,f,g);return 0}});var d={};a.fn.unhighlight=function(b){var c={className:"highlight",element:"span"};return a.extend(c,b),this.find(c.element+"."+c.className).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()},a.fn.highlight=function(b,c){var d={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,fullMatch:!1};if(a.extend(d,c),b.constructor===String&&(b=[b]),b=a.grep(b,function(a){return""!=a}),b=a.map(b,function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==b.length)return this;var e=d.caseSensitive?"":"i",f=b.join("|");f=f.replace(/\|/gi,"[’']?s?|"),f="("+f+"[’']?s?)",d.wordsOnly&&(f="\\b"+f+"\\b"),d.fullMatch&&(f="^"+f+"$"),f=f.replace("é","e");var g=new RegExp(f,e);return this.each(function(){a.highlight(this,g,d.element,d.className)})};var e={version:"3.2.0"};e.Skins={base:{afterUpdate:!1,ajax:{cache:!0,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:180,fadeOut:220,showDelay:75,hideDelay:25,radius:{size:5,position:"background"},hideAfter:!1,hideOn:{element:"self",event:"mouseleave"},hideOthers:!1,hook:"topleft",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:.12},showOn:"mousemove",spinner:!0,stem:{height:9,width:18,offset:{x:9,y:9},spacing:2},target:"self"},reset:{ajax:!1,closeButton:!1,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:!0},dark:{background:{color:"#121314"},border:{color:"#000",opacity:1,size:1},shadow:{opacity:.02},spinner:{color:"#fff"}},light:{background:{color:"#fff"},border:{color:"#646464",opacity:.4,size:1},shadow:{opacity:.04}},gray:{background:{color:[{position:0,color:"#8f8f8f"},{position:1,color:"#808080"}]},border:{color:"#131313",size:1,opacity:.6}},tiny:{background:{color:"#161616"},border:{color:"#969696",opacity:.35,size:1},fadeIn:0,fadeOut:0,radius:4,stem:{width:11,height:6,offset:{x:6,y:6}},shadow:!1,spinner:{color:"#fff"}},yellow:{background:"#ffffaa",border:{size:1,color:"#6d5208",opacity:.4}},red:{background:{color:[{position:0,color:"#e13c37"},{position:1,color:"#e13c37"}]},border:{size:1,color:"#150201",opacity:.6},spinner:{color:"#fff"}},green:{background:{color:[{position:0,color:"#4bb638"},{position:1,color:"#4aab3a"}]},border:{size:1,color:"#122703",opacity:.6},spinner:{color:"#fff"}},blue:{background:{color:[{position:0,color:"#4588c8"},{position:1,color:"#3d7cb9"}]},border:{color:"#020b17",opacity:.6},spinner:{color:"#fff"}}},function(a){a.extend(e.Skins,{black:a.extend(!0,{},e.Skins.dark,{radius:0}),white:a.extend(!0,{},e.Skins.light,{radius:0})})}(a),e.Skins.CloseButtons={base:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:.46,color:"#171717"},{position:.53,color:"#121212"},{position:.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},hover:{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:1,color:"#000",offset:{x:0,y:0},opacity:.5}},reset:{},"default":{},light:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:.48,color:"#717171"},{position:.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:.95},border:{color:"#676767",opacity:1}},hover:{background:{color:[{position:0,color:"#868686"},{position:.48,color:"#7f7f7f"},{position:.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}},!function(b){function c(a,b){var c=[a,b];return c.left=a,c.top=b,c}function d(a){window.console&&console[console.warn?"warn":"log"](a)}function f(a){this.element=a}function g(a){var b={};for(var c in a)b[c]=a[c]+"px";return b}function h(a,b){return Math.sqrt(a*a+b*b)}function i(a){return 180*a/Math.PI}function j(a){return a*Math.PI/180}function k(a){return 1/Math.cos(a)}function l(a){if(a){this.element=a,B.remove(a);var c=this.getTooltip();this.options=b.extend({},c.options),this._globalAlpha=1,this._cache={},this.uid=b(a).data("tipped-uid"),B.add(this),this._hookPosition=this.options.hook.tooltip,this._stemPosition=this.options.stem&&this._hookPosition,this._stemCorrection={x:0,y:0},this._adjustment={top:0,left:0},this.build()}}function m(a,c){this.element=a,this.element&&c&&(this.options=b.extend({blur:3,offset:{x:0,y:0},color:"#000",opacity:.5,globalAlpha:1},arguments[2]||{}),this._globalAlpha=this.options.globalAlpha,this._cache={},this.uid=b(a).data("tipped-uid"),C.add(this),this.build())}function n(a){this.element=a,this.element&&(this.options=b.extend({blur:5,offset:{x:0,y:0},color:"#000",opacity:.5,globalAlpha:1},arguments[1]||{}),this._globalAlpha=this.options.globalAlpha,this.uid=b(a).data("tipped-uid"),D.add(this),this.build())}function o(a,c){for(var d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(a[d]=b.extend({},a[d])||{},o(a[d],c[d])):a[d]=c[d];return a}function p(a,c){if(this.element=a,this.element){var d=b(a).data("tipped-uid");d&&E.remove(a),d=u(),b(a).data("tipped-uid",d),this.uid=d;var e;"object"!=b.type(c)||r.isElement(c)?e=arguments[2]||{}:(e=c,c=null),this.options=E.createOptions(e);var f=a.getAttribute("title");if(!c){var g=a.getAttribute("data-tipped");g?c=g:f&&(c=f)}f&&(b(a).data("tipped_restore_title",f),a.setAttribute("title","")),this.content=c,this.zIndex=this.options.zIndex||+E.options.startingZIndex,this._cache={contentDimensions:{width:1,height:1},events:[],timers:[],states:{active:!1,xhr:!1,visible:!1,updated:!1,build:!1,skinned:!1,toggles:!1,preloading_images:!1},fnCallContent:""};var h=this.options.target;this.target="mouse"==h?"mouse":"self"!=h&&h?r.isElement(h)?h:h&&document.getElementById(h)||this.element:this.element,this._preBuild(),E.add(this)}}var q=Array.prototype.slice,r={wrap:function(a,c){var d=a;return function(){var a=[b.proxy(d,this)].concat(q.call(arguments));return c.apply(this,a)}},isElement:function(a){return a&&1==a.nodeType},delay:function(a,b){var c=q.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},defer:function(a){return r.delay.apply(this,[a,1].concat(q.call(arguments,1)))},pointer:function(a){return{x:a.pageX,y:a.pageY}},element:{cumulativeScrollOffset:function(a){var b=0,d=0;do b+=a.scrollTop||0,d+=a.scrollLeft||0,a=a.parentNode;while(a);return c(d,b)},cumulativeOffset:function(a){var d=b(a).offset(),e=r.element.cumulativeScrollOffset(a),f={top:b(window).scrollTop(),left:b(window).scrollLeft()};return d.left+=e.left-f.left,d.top+=e.top-f.top,c(d.left,d.top)},isAttached:function(){function a(a){for(var b=a;b&&b.parentNode;)b=b.parentNode;return b}return function(b){var c=a(b);return!(!c||!c.body)}}()}},s=function(a){function b(b){var c=new RegExp(b+"([\\d.]+)").exec(a);return c?parseFloat(c[1]):!0}return{IE:!(!window.attachEvent||-1!==a.indexOf("Opera"))&&b("MSIE "),Opera:a.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:a.indexOf("AppleWebKit/")>-1&&b("AppleWebKit/"),Gecko:a.indexOf("Gecko")>-1&&-1===a.indexOf("KHTML")&&b("rv:"),MobileSafari:!!a.match(/Apple.*Mobile.*Safari/),Chrome:a.indexOf("Chrome")>-1&&b("Chrome/")}}(navigator.userAgent),t={scripts:{jQuery:{required:"1.4.4",available:window.jQuery&&a.fn.jquery}},check:function(){function a(a){for(var c=a.match(b),d=c&&c[1]&&c[1].split(".")||[],e=0,f=0,g=d.length;g>f;f++)e+=parseInt(d[f]*Math.pow(10,6-2*f));return c&&c[3]?e-1:e}var b=/^(\d+(\.?\d+){0,3})([A-Za-z_-]+[A-Za-z0-9]+)?/;return function(b){this.scripts[b].checked||(this.scripts[b].checked=!0,(!this.scripts[b].available||a(this.scripts[b].available)<a(this.scripts[b].required)&&!this.scripts[b].notified)&&(this.scripts[b].notified=!0,d("Tipped requires "+b+" >= "+this.scripts[b].required)))}}()},u=function(){var a=0,b="_t_uid_";return function(c){for(c=c||b,a++;document.getElementById(c+a);)a++;return c+a}}(),v=function(){var a=[];return{get:function(c){for(var d=null,e=0;e<a.length;e++)a[e]&&a[e].url==c.url&&a[e].type.toUpperCase()==c.type.toUpperCase()&&b.param(a[e].data||{})==b.param(c.data||{})&&(d=a[e].responseText);return d},set:function(c,d){this.remove(c.url),a.push(b.extend({},c,{responseText:d}))},remove:function(b){for(var c=0;c<a.length;c++)a[c]&&a[c].url==b&&delete a[c]},clear:function(){a=[]}}}();b.extend(e,function(){return{support:{canvas:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}(),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(a){return!1}}(),cssTransitions:function(){var a=["WebKitTransitionEvent","TransitionEvent","OTransitionEvent"],c=!!window.TransitionEvent;return b.each(a,function(a,b){try{document.createEvent(b),c=!0}catch(d){}}),c}()},init:function(){(this.support.canvas||s.IE)&&(t.check("jQuery"),E.UpdateQueue.container&&(E.UpdateQueue.container.remove(),E.UpdateQueue.container=null),b(document).ready(function(){E.removeAll(),E.startDelegating()}))},create:function(a,b,c){return f.create(a,b,c),this.get(a)},get:function(a){return new f(a)},findElement:function(a){return E.findElement(a)},show:function(a){return this.get(a).show(),this},hide:function(a){return this.get(a).hide(),this},toggle:function(a){return this.get(a).toggle(),this},refresh:function(a){return this.get(a).refresh(),this},remove:function(a){return this.get(a).remove(),this},hideAll:function(){return E.hideAll(),this},setDefaultSkin:function(a){return E.setDefaultSkin(a),this},setStartingZIndex:function(a){return E.setStartingZIndex(a),this},visible:function(a){if(r.isElement(a))return E.isVisibleByElement(a);if("undefined"!=b.type(a)){var c=b(a),d=0;return b.each(c,function(a,b){E.isVisibleByElement(b)&&d++}),d}return E.getVisible().length},clearAjaxCache:function(){return E.clearAjaxCache(),this}}}()),b.extend(f,{create:function(a,c){if(a){var d=arguments[2]||{},e=[];return E.removeDetached(),r.isElement(a)?e.push(new p(a,c,d)):b(a).each(function(a,b){e.push(new p(b,c,d))}),e}}}),b.extend(f.prototype,{items:function(){return E.Position.mouseBuffer={x:0,y:0},E.get(this.element)},show:function(){return b.each(this.items(),function(a,b){b.show()}),this},hide:function(){return b.each(this.items(),function(a,b){b.hide()}),this},toggle:function(){return b.each(this.items(),function(a,b){b.toggle()}),this},refresh:function(){return b.each(this.items(),function(a,b){b.refresh()}),this},remove:function(){return E.remove(this.element),this}});var w={viewport:function(){var a;return a=s.MobileSafari?{width:window.innerWidth,height:window.innerHeight}:{height:b(window).height(),width:b(window).width()}}},x={devicePixelRatio:Math.ceil(Math.min(window.devicePixelRatio?parseFloat(window.devicePixelRatio)||1:1,2)),init:function(){function a(a){var b=a.getContext("2d");b.scale(x.devicePixelRatio,x.devicePixelRatio)}return window.G_vmlCanvasManager&&!e.support.canvas&&s.IE?function(b){G_vmlCanvasManager.initElement(b),a(b)}:function(b){a(b)}}(),resize:function(a,c){b(a).attr({width:c.width*this.devicePixelRatio,height:c.height*this.devicePixelRatio}).css(g(c))},drawRoundedRectangle:function(a){var c=b.extend({top:0,left:0,width:0,height:0,radius:0},arguments[1]||{}),d=c,e=d.left,f=d.top,g=d.width,h=d.height,i=d.radius;return i?(a.beginPath(),a.moveTo(e+i,f),a.arc(e+g-i,f+i,i,j(-90),j(0),!1),a.arc(e+g-i,f+h-i,i,j(0),j(90),!1),a.arc(e+i,f+h-i,i,j(90),j(180),!1),a.arc(e+i,f+i,i,j(-180),j(-90),!1),a.closePath(),void a.fill()):void a.fillRect(e,f,g,h)},drawPixelArray:function(a,c){for(var d=b.extend({x:0,y:0,color:"#000"},arguments[2]||{}),e=0,f=c.length;f>e;e++)for(var g=0,h=c[e].length;h>g;g++){var i=parseInt(c[e].charAt(g))*(1/9);a.fillStyle=A.hex2fill(d.color,i),i&&a.fillRect(d.x+g,d.y+e,1,1)}},createFillStyle:function(a,c){var d;if("string"==b.type(c))d=A.hex2fill(c);else if("string"==b.type(c.color))d=A.hex2fill(c.color,"number"==b.type(c.opacity)?c.opacity:1);else if(b.isArray(c.color)){var e=b.extend({x1:0,y1:0,x2:0,y2:0},arguments[2]||{});d=x.Gradient.addColorStops(a.createLinearGradient(e.x1,e.y1,e.x2,e.y2),c.color,c.opacity)}return d}};x.Gradient={addColorStops:function(a,c){for(var d="number"==b.type(arguments[2])?arguments[2]:1,e=0,f=c.length;f>e;e++){var g=c[e];("undefined"==b.type(g.opacity)||"number"!=b.type(g.opacity))&&(g.opacity=1),a.addColorStop(g.position,A.hex2fill(g.color,g.opacity*d))}return a}};var y={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:function(){var a={top:"height",left:"width",bottom:"height",right:"width"};return function(b){return a[b]}}(),isCenter:function(a){return!!a.toLowerCase().match(this.regex.isCenter)},isCorner:function(a){return!this.isCenter(a)},getOrientation:function(a){return a.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(a){var b=null,c=a.toLowerCase().match(this.regex.side);return c&&c[1]&&(b=c[1]),b},split:function(a){return a.toLowerCase().match(this.regex.toOrientation)}},z={getDimensions:function(a){var b=a.options.stem;return{width:b.width,height:b.height}},getBorderDimensions:function(a,c){var d=b.extend({math:"ceil"},arguments[2]||{}),e=a.options.stem,f=e.width,g=e.height,h=this.getCenterBorderDimensions(f,g,c);return d.math&&(h.width=Math[d.math](h.width),h.height=Math[d.math](h.height)),{width:h.width,height:h.height}},getCenterBorderDimensions:function(a,b,c){var d=i(Math.atan(.5*(b/a))),e=180-d,f=Math.cos(j(e-90))*c,g=a+2*f,h=g*b/a;return{width:g,height:h}},getLayout:function(a,b){var c=this.getBorderDimensions(a,b),d=this.getDimensions(a),e=(y.isCenter(a._hookPosition),Math.ceil(c.height+b));return a.options.stem.offset||0,a.options.radius&&a.options.radius.size||0,{box:{dimensions:{width:Math.ceil(c.width),height:Math.ceil(e)}},border:{dimensions:c},stem:{dimensions:{width:d.width,height:d.height}}}},getBubbleLayout:function(a,c,d){var e=a.options,f={top:0,left:0},g={top:0,left:0},h=b.extend({},c),i=a.border,j=j||this.getLayout(a,a.border),k=j.box.dimensions;d&&(k.height=d,i=0);var l=y.split(a._hookPosition),m=y.getOrientation(a._hookPosition);if(a.options.stem){var n=y.getSide(a._hookPosition);if("top"==n?f.top=k.height-i:"left"==n&&(f.left=k.height-i),"horizontal"==m){switch(l[2]){case"middle":case"center":g.left=.5*h.width;break;case"right":g.left=h.width}"bottom"==l[1]&&(g.top=h.height-i+k.height)}else{switch(l[2]){case"middle":case"center":g.top=.5*h.height;break;case"bottom":g.top=h.height}"right"==l[1]&&(g.left=h.width-i+k.height)}h[y.toDimension(n)]+=k.height-i}else if("horizontal"==m){switch(l[2]){case"middle":case"center":g.left=.5*h.width;break;case"right":g.left=h.width}"bottom"==l[1]&&(g.top=h.height)}else{switch(l[2]){case"middle":case"center":g.top=.5*h.height;break;case"bottom":g.top=h.height}"right"==l[1]&&(g.left=h.width)}var o=e.radius&&e.radius.size||0,p=e.border&&e.border.size||0;if(a.options.stem){var q=o&&"background"==e.radius.position?o:0,r=o&&"border"==e.radius.position?o:o+p,s=p+q+.5*j.stem.dimensions.width-.5*j.border.dimensions.width,t=r>s?r-s:0,u=Math.ceil(p+q+.5*j.stem.dimensions.width+t);if("horizontal"==m)switch(l[2]){case"left":g.left+=u;break;case"right":g.left-=u}else switch(l[2]){case"top":g.top+=u;break;case"bottom":g.top-=u}}var v;if(e.stem&&(v=e.stem.offset)){var w=z.nullifyCornerOffset(v,a._stemPosition,c,j.border.dimensions,p,o);if(v=w.offset,w.correction,"horizontal"==m)switch(l[2]){case"left":g.left+=v.x;break;case"right":g.left-=v.x}else switch(l[2]){case"top":g.top+=v.y;break;case"bottom":g.top-=v.y}}var x;if(e.stem&&(x=e.stem.spacing))if("horizontal"==m)switch(l[1]){case"top":g.top-=x;break;case"bottom":g.top+=x}else switch(l[1]){case"left":g.left-=x;break;case"right":g.left+=x}return{dimensions:h,position:{top:0,left:0},background:{position:f,dimensions:c},stem:{dimensions:k},anchor:g}},nullifyCornerOffset:function(a,c,d,e,f,g){var h=y.getOrientation(c),i=b.extend({},a),j={x:0,y:0},k=0;return"horizontal"==h&&(k=d.width-e.width-2*f-2*g)<2*a.x&&(j.x=i.x,/(right)$/.test(c)&&(j.x*=-1),i.x=0),"vertical"==h&&(k=d.height-e.height-2*f-2*g)<2*a.y&&(j.y=i.y,/(bottom)$/.test(c)&&(j.y*=-1),i.y=0),{offset:i,correction:j}}},A=function(){function a(a){var b=a;return b.red=a[0],b.green=a[1],b.blue=a[2],b}function c(a){return parseInt(a,16)}function d(b){var d=new Array(3);if(0==b.indexOf("#")&&(b=b.substring(1)),b=b.toLowerCase(),""!=b.replace(k,""))return null;3==b.length?(d[0]=b.charAt(0)+b.charAt(0),d[1]=b.charAt(1)+b.charAt(1),d[2]=b.charAt(2)+b.charAt(2)):(d[0]=b.substring(0,2),d[1]=b.substring(2,4),d[2]=b.substring(4));for(var e=0;e<d.length;e++)d[e]=c(d[e]);return a(d)}function e(a,b){var c=d(a);return c[3]=b,c.opacity=b,c}function f(a,c){return"undefined"==b.type(c)&&(c=1),"rgba("+e(a,c).join()+")"}function g(a){return"#"+(h(a)[2]>50?"000":"fff")}function h(a){return i(d(a))}function i(b){var c,d,e,b=a(b),f=b.red,g=b.green,h=b.blue,i=f>g?f:g;h>i&&(i=h);var j=g>f?f:g;if(j>h&&(j=h),e=i/255,d=0!=i?(i-j)/i:0,0==d)c=0;else{var k=(i-f)/(i-j),l=(i-g)/(i-j),m=(i-h)/(i-j);c=f==i?m-l:g==i?2+k-m:4+l-k,c/=6,0>c&&(c+=1)}c=Math.round(360*c),d=Math.round(100*d),e=Math.round(100*e);var n=[];return n[0]=c,n[1]=d,n[2]=e,n.hue=c,n.saturation=d,n.brightness=e,n}var j="0123456789abcdef",k=new RegExp("["+j+"]","g");return{hex2rgb:d,hex2fill:f,getSaturatedBW:g}}(),B={skins:{},get:function(a){if(!a)return null;var c=null,d=b(a).data("tipped-uid");return d&&(c=this.skins[d]),c},add:function(a){this.skins[a.uid]=a},remove:function(a){var b=this.get(a);b&&(delete this.skins[b.uid],b.remove())}};b.extend(l.prototype,function(){function a(){this._cache.hook={};var a=this._hookPosition;b.each(y.positions,b.proxy(function(a,c){var d,e=this._cache.hook[c]={};this._hookPosition=c;var f=this.getOrderLayout();d=f,e.anchor=d.anchor;var g=d.bubble.dimensions,h={top:d.bubble.position.top,left:d.bubble.position.left};if(e.bubble={dimensions:g,position:h},e.tooltip={dimensions:d.skin.dimensions},this.shadow){var i=this.shadow.getOrderLayout(),j=i.skin.position,k=e.bubble.position;b.extend(!0,e,{anchor:i.anchor,bubble:{position:{top:k.top+j.top,left:k.left+j.left}},tooltip:{dimensions:i.tooltip.dimensions}})}},this)),this._hookPosition=a}function c(){this.cleanup(),this.options.shadow&&(C.remove(this.element),this.options.closeButton&&this.options.closeButton.shadow&&D.remove(this.element)),this.iframeShim&&(this.iframeShim.remove(),this.iframeShim=null),this.container&&(b(this.container).remove(),this.container=null)}function d(){this.bubble&&(this.closeButton&&(b(this.closeButton).remove(),this.closeButton=null,this.defaultCloseButton=null,this.hoverCloseButton=null),b(this.bubble).remove(),this.stem=null,this.background=null,this.bubble=null,this._cache={})}function f(){var a=this.getTooltip();this.contentDimensions=a._cache.contentDimensions;var b=a.options;this.radius=b.radius&&b.radius.size||0,this.border=b.border&&b.border.size||0,this.padding=b.padding;var c=Math.min(this.contentDimensions.height,this.contentDimensions.width);this.radius>c/2&&(this.radius=Math.floor(c/2)),"border"==this.options.radius.position&&this.radius>this.border&&(this.border=this.radius),this._cache={options:{radius:this.radius,border:this.border,padding:this.padding}}}function h(){this.cleanup(),window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);var a=this.getTooltip(),c=this.options;this.bubble=b("<div>").addClass("t_Bubble")[0],b(a.skinElement).append(this.bubble),this.prepare(),this.drawBubble(a),c.closeButton&&(this.drawCloseButton(a),c.closeButton.shadow&&(this.closeButtonShadow?(this.closeButtonShadow.options=c.closeButton.shadow,this.closeButtonShadow.build()):this.closeButtonShadow=new n(this.element,b.extend({globalAlpha:this._globalAlpha},c.closeButton.shadow)))),s.IE&&s.IE<7&&b(a.container).prepend(this.iframeShim=b("<iframe>").addClass("t_iframeShim").attr({frameBorder:0,src:"javascript:'';"})),this.order(),c.shadow&&(this.shadow?(this.shadow.options=c.shadow,this.shadow.build()):this.shadow=new m(this.element,this,b.extend({globalAlpha:this._globalAlpha},c.shadow))),this.createHookCache()}function i(){var a=this.getTooltip(),c=b(a.container),d=b(a.container).find(".t_ContentContainer").first()[0];if(d){b(d).css({width:"auto",height:"auto"});var e=parseInt(c.css("top")),f=parseInt(c.css("left")),g=parseInt(c.css("width"));c.css({left:"-25000px",top:"-25000px",width:"15000px",height:"auto"}),a.getState("visible")||b(a.container).show();var h=E.UpdateQueue.getMeasureElementDimensions(d);a.options.maxWidth&&"number"==b.type(a.options.maxWidth)&&h.width>a.options.maxWidth&&(b(d).css({width:a.options.maxWidth+"px"}),h=E.UpdateQueue.getMeasureElementDimensions(d)),a.getState("visible")||b(a.container).hide(),a._cache.contentDimensions=h,c.css({left:f+"px",top:e+"px",width:g+"px"}),this.build()}}function k(a,b,c){var d=!1;this.setHookPosition(a)&&(d=!0),this.setStemCorrection(b)&&(d=!0),c&&this.setAdjustment(c)&&(d=!0),d&&this.build()}function l(a){var b=!1;return(this._adjustment.left!=a.left||this._adjustment.top!=a.top)&&(b=!0,this._adjustment=a),b}function o(a){var b=!1;return(this._stemCorrection.x!=a.x||this._stemCorrection.y!=a.y)&&(b=!0,this._stemCorrection=a),b}function p(a){var b=!1;return this._hookPosition!=a&&(b=!0,this._hookPosition=a),b}function q(){return E.get(this.element)[0]}function r(){return z.getLayout(this,this.border)}function t(){var a=this.getTooltip().options.closeButton,c=a.diameter+2*a.border;b(this.defaultCloseButton).css({left:-1*c+"px"}),b(this.hoverCloseButton).css({left:0})}function u(){var a=this.getTooltip().options.closeButton,c=a.diameter+2*a.border;b(this.defaultCloseButton).css({left:0}),b(this.hoverCloseButton).css({left:c+"px"})}function v(a){var c=a.options.closeButton,d={width:c.diameter+2*c.border,height:c.diameter+2*c.border};b(a.container).append(b(this.closeButton=document.createElement("div")).addClass("t_Close").css(g(d)).append(b(this.closeButtonShift=document.createElement("div")).addClass("t_CloseButtonShift").css(g(d)))),this.drawCloseButtonState(a,"default"),this.drawCloseButtonState(a,"hover"),e.support.touch||s.Chrome||b(this.closeButton).bind("mouseenter",b.proxy(this.closeButtonMouseover,this)).bind("mouseleave",b.proxy(this.closeButtonMouseout,this))}function w(a,c){var d=a.options.closeButton,e=d.diameter,f=d.border||0,h=d.x.diameter,i=d.x.size,k=(d.x.lineCap,d.states[c||"default"]),l={width:e+2*f,height:e+2*f};h>=e&&(h=e-2);var m;b(this.closeButtonShift).append(b(this[c+"CloseButton"]=document.createElement("div")).addClass("t_CloseState").css(b.extend(g(l),{left:("hover"==c?l.width:0)+"px"}))),b(document.body).append(b(m=document.createElement("canvas"))),x.resize(m,l),x.init(m);var n=m.getContext("2d");n.globalAlpha=this._globalAlpha,b(this[c+"CloseButton"]).append(m),n.translate(l.width/2,l.height/2),n.fillStyle=x.createFillStyle(n,k.background,{x1:0,y1:0-e/2,x2:0,y2:0+e/2}),n.beginPath(),n.arc(0,0,e/2,0,2*Math.PI,!0),n.closePath(),n.fill(),f&&(n.fillStyle=x.createFillStyle(n,k.border,{x1:0,y1:0-e/2-f,x2:0,y2:0+e/2+f}),n.beginPath(),n.arc(0,0,e/2,Math.PI,0,!1),n.lineTo((e+f)/2,0),n.arc(0,0,e/2+f,0,Math.PI,!0),n.arc(0,0,e/2+f,Math.PI,0,!0),n.lineTo(e/2,0),n.arc(0,0,e/2,0,Math.PI,!1),n.closePath(),n.fill());var o=h/2,p=i/2;if(p>o){var q=p;p=o,o=q}n.fillStyle=A.hex2fill(k.x.color||k.x,k.x.opacity||1),n.rotate(j(45)),n.beginPath(),n.moveTo(0,0),n.lineTo(0,o);for(var r=0;4>r;r++)n.lineTo(0,o),n.lineTo(p,o),n.lineTo(p,o-(o-p)),n.lineTo(o,p),n.lineTo(o,0),n.rotate(j(90));n.closePath(),n.fill()}function B(a){var c,d,e,f,g,h=b.extend({stem:!1,hookPosition:null,stemCorrection:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,borderRadius:0,cornerOffset:{x:0,y:0}},arguments[1]||{}),i=h.layout,k=h.stemLayout,l=h.cornerOffset,m=h.border,n=h.radius,o=h.hookPosition,p=i.background.position,q=i.background.dimensions,r={x:Math.abs(this._stemCorrection.x),y:Math.abs(this._stemCorrection.y)},s={x:0,y:0},t={x:0,y:0};if(k){c=k.stem.dimensions,d=k.box.position,e=k.box.dimensions,f=e.width-c.width;var u=h.borderRadius,v=m+n+.5*c.width-.5*k.border.dimensions.width;g=Math.ceil(u>v?u-v:0);var w=z.nullifyCornerOffset(l,o,q,k.border.dimensions,m,n);l=w.offset,t=w.correction,s={x:Math.max(q.width-2*Math.max(g,l.x||0)-k.border.dimensions.width-(2*n||0),0),y:Math.max(q.height-2*Math.max(g,l.y||0)-k.border.dimensions.height-(2*n||0),0)},y.isCenter(o)&&(s.x*=.5,s.y*=.5),r.x=Math.min(r.x,s.x),r.y=Math.min(r.y,s.y),y.isCenter(o)&&(this._stemCorrection.x<0&&r.x>0&&(r.x*=-1),this._stemCorrection.y<0&&r.y>0&&(r.y*=-1)),this._adjustment&&this._adjustment.sides&&b.each(this._adjustment.sides,function(a,c){b.each("top right bottom left".split(" "),function(a,b){c==b&&new RegExp("("+b+")$").test(o)&&(r[/^(left|right)$/.test(b)?"x":"y"]=0)})})}var x,A;if(n?(x=p.left+m+n,A=p.top+m):(x=p.left+m,A=p.top+m),l&&l.x&&/^(topleft|lefttop)$/.test(o)&&(x+=l.x),h.beginPath&&a.beginPath(),a.moveTo(x,A),h.stem)switch(o){case"topleft":x=p.left+m,n&&(x+=n),x+=Math.max(g,l.x||0),x+=r.x,a.lineTo(x,A),A-=c.height,x+=.5*c.width,a.lineTo(x,A),A+=c.height,x+=.5*c.width,a.lineTo(x,A);break;case"topmiddle":case"topcenter":x=p.left+.5*q.width-.5*c.width,x+=r.x,a.lineTo(x,A),A-=c.height,x+=.5*c.width,a.lineTo(x,A),A+=c.height,x+=.5*c.width,a.lineTo(x,A),x=p.left+.5*q.width-.5*e.width,a.lineTo(x,A);break;case"topright":x=p.left+q.width-m-c.width,n&&(x-=n),x-=Math.max(g,l.x||0),x-=r.x,a.lineTo(x,A),A-=c.height,x+=.5*c.width,a.lineTo(x,A),A+=c.height,x+=.5*c.width,a.lineTo(x,A)}if(n?n&&(a.arc(p.left+q.width-m-n,p.top+m+n,n,j(-90),j(0),!1),x=p.left+q.width-m,A=p.top+m+n):(x=p.left+q.width-m,A=p.top+m,a.lineTo(x,A)),h.stem)switch(o){case"righttop":A=p.top+m,n&&(A+=n),A+=Math.max(g,l.y||0),A+=r.y,a.lineTo(x,A),x+=c.height,A+=.5*c.width,a.lineTo(x,A),x-=c.height,A+=.5*c.width,a.lineTo(x,A);break;case"rightmiddle":case"rightcenter":A=p.top+.5*q.height-.5*c.width,A+=r.y,a.lineTo(x,A),x+=c.height,A+=.5*c.width,a.lineTo(x,A),x-=c.height,A+=.5*c.width,a.lineTo(x,A);break;case"rightbottom":A=p.top+q.height-m,n&&(A-=n),A-=c.width,A-=Math.max(g,l.y||0),A-=r.y,a.lineTo(x,A),x+=c.height,A+=.5*c.width,a.lineTo(x,A),x-=c.height,A+=.5*c.width,a.lineTo(x,A)}if(n?n&&(a.arc(p.left+q.width-m-n,p.top+q.height-m-n,n,j(0),j(90),!1),x=p.left+q.width-m-n,A=p.top+q.height-m):(x=p.left+q.width-m,A=p.top+q.height-m,a.lineTo(x,A)),h.stem)switch(o){case"bottomright":x=p.left+q.width-m,n&&(x-=n),x-=Math.max(g,l.x||0),x-=r.x,a.lineTo(x,A),x-=.5*c.width,A+=c.height,a.lineTo(x,A),x-=.5*c.width,A-=c.height,a.lineTo(x,A);break;case"bottommiddle":case"bottomcenter":x=p.left+.5*q.width+.5*c.width,x+=r.x,a.lineTo(x,A),x-=.5*c.width,A+=c.height,a.lineTo(x,A),x-=.5*c.width,A-=c.height,a.lineTo(x,A);break;case"bottomleft":x=p.left+m+c.width,n&&(x+=n),x+=Math.max(g,l.x||0),x+=r.x,a.lineTo(x,A),x-=.5*c.width,A+=c.height,a.lineTo(x,A),x-=.5*c.width,A-=c.height,a.lineTo(x,A)}if(n?n&&(a.arc(p.left+m+n,p.top+q.height-m-n,n,j(90),j(180),!1),x=p.left+m,A=p.top+q.height-m-n):(x=p.left+m,A=p.top+q.height-m,a.lineTo(x,A)),h.stem)switch(o){case"leftbottom":A=p.top+q.height-m,n&&(A-=n),A-=Math.max(g,l.y||0),A-=r.y,a.lineTo(x,A),x-=c.height,A-=.5*c.width,a.lineTo(x,A),x+=c.height,A-=.5*c.width,a.lineTo(x,A);break;case"leftmiddle":case"leftcenter":A=p.top+.5*q.height+.5*c.width,A+=r.y,a.lineTo(x,A),x-=c.height,A-=.5*c.width,a.lineTo(x,A),x+=c.height,A-=.5*c.width,a.lineTo(x,A);break;case"lefttop":A=p.top+m+c.width,n&&(A+=n),A+=Math.max(g,l.y||0),A+=r.y,a.lineTo(x,A),x-=c.height,A-=.5*c.width,a.lineTo(x,A),x+=c.height,A-=.5*c.width,a.lineTo(x,A)}return n?n&&(a.arc(p.left+m+n,p.top+m+n,n,j(-180),j(-90),!1),x=p.left+m+n,A=p.top+m,x+=1,a.lineTo(x,A)):(x=p.left+m,A=p.top+m,a.lineTo(x,A)),h.closePath&&a.closePath(),{x:x,y:A,stem:r,corner:t,cornerOffset:l}}function F(a){var c,d,e,f,g,h,i=b.extend({stem:!1,hookPosition:null,beginPath:!1,closePath:!1,layout:null,stemLayout:null,radius:0,border:0,stemOffset:0,cornerOffset:{x:0,y:0},corrections:null},arguments[1]||{}),k=i.layout,l=i.stemLayout,m=(i.stemOffset,i.cornerOffset),n=i.border,o=i.radius&&i.radius.size||0,p=i.backgroundRadius,q=i.hookPosition,r=k.background.position,s=k.background.dimensions,t=i.corrections&&i.corrections.stem||{x:0,y:0};if(l){c=l.stem.dimensions,d=l.box.position,e=l.box.dimensions,f=l.border.dimensions,g=e.width-c.width;var u=n+p+.5*c.width-.5*f.width;h=Math.ceil(o>u?o-u:0)}var v=r.left+n+p,w=r.top+n;p&&(v+=1),b.extend({},{x:v,y:w}),i.beginPath&&a.beginPath();var x=b.extend({},{x:v,y:w});if(w-=n,a.lineTo(v,w),o?o&&(a.arc(r.left+o,r.top+o,o,j(-90),j(-180),!0),v=r.left,w=r.top+o):(v=r.left,w=r.top,a.lineTo(v,w)),i.stem)switch(q){case"lefttop":w=r.top+n,p&&(w+=p),w-=.5*f.width,w+=.5*c.width,w+=Math.max(h,m.y||0),w+=t.y,a.lineTo(v,w),v-=f.height,w+=.5*f.width,a.lineTo(v,w),v+=f.height,w+=.5*f.width,a.lineTo(v,w);break;case"leftmiddle":case"leftcenter":w=r.top+.5*s.height-.5*f.width,w+=t.y,a.lineTo(v,w),v-=f.height,w+=.5*f.width,a.lineTo(v,w),v+=f.height,w+=.5*f.width,a.lineTo(v,w);break;case"leftbottom":w=r.top+s.height-n-f.width,p&&(w-=p),w+=.5*f.width,w-=.5*c.width,w-=Math.max(h,m.y||0),w-=t.y,a.lineTo(v,w),v-=f.height,w+=.5*f.width,a.lineTo(v,w),v+=f.height,w+=.5*f.width,a.lineTo(v,w)}if(o?o&&(a.arc(r.left+o,r.top+s.height-o,o,j(-180),j(-270),!0),v=r.left+o,w=r.top+s.height):(v=r.left,w=r.top+s.height,a.lineTo(v,w)),i.stem)switch(q){case"bottomleft":v=r.left+n,p&&(v+=p),v-=.5*f.width,v+=.5*c.width,v+=Math.max(h,m.x||0),v+=t.x,a.lineTo(v,w),w+=f.height,v+=.5*f.width,a.lineTo(v,w),w-=f.height,v+=.5*f.width,a.lineTo(v,w);break;case"bottommiddle":case"bottomcenter":v=r.left+.5*s.width-.5*f.width,v+=t.x,a.lineTo(v,w),w+=f.height,v+=.5*f.width,a.lineTo(v,w),w-=f.height,v+=.5*f.width,a.lineTo(v,w),v=r.left+.5*s.width+f.width,a.lineTo(v,w);break;case"bottomright":v=r.left+s.width-n-f.width,
p&&(v-=p),v+=.5*f.width,v-=.5*c.width,v-=Math.max(h,m.x||0),v-=t.x,a.lineTo(v,w),w+=f.height,v+=.5*f.width,a.lineTo(v,w),w-=f.height,v+=.5*f.width,a.lineTo(v,w)}if(o?o&&(a.arc(r.left+s.width-o,r.top+s.height-o,o,j(90),j(0),!0),v=r.left+s.width,w=r.top+s.width+o):(v=r.left+s.width,w=r.top+s.height,a.lineTo(v,w)),i.stem)switch(q){case"rightbottom":w=r.top+s.height-n,w+=.5*f.width,w-=.5*c.width,p&&(w-=p),w-=Math.max(h,m.y||0),w-=t.y,a.lineTo(v,w),v+=f.height,w-=.5*f.width,a.lineTo(v,w),v-=f.height,w-=.5*f.width,a.lineTo(v,w);break;case"rightmiddle":case"rightcenter":w=r.top+.5*s.height+.5*f.width,w+=t.y,a.lineTo(v,w),v+=f.height,w-=.5*f.width,a.lineTo(v,w),v-=f.height,w-=.5*f.width,a.lineTo(v,w);break;case"righttop":w=r.top+n,p&&(w+=p),w+=f.width,w-=.5*f.width-.5*c.width,w+=Math.max(h,m.y||0),w+=t.y,a.lineTo(v,w),v+=f.height,w-=.5*f.width,a.lineTo(v,w),v-=f.height,w-=.5*f.width,a.lineTo(v,w)}if(o?o&&(a.arc(r.left+s.width-o,r.top+o,o,j(0),j(-90),!0),v=r.left+s.width-o,w=r.top):(v=r.left+s.width,w=r.top,a.lineTo(v,w)),i.stem)switch(q){case"topright":v=r.left+s.width-n,v+=.5*f.width-.5*c.width,p&&(v-=p),v-=Math.max(h,m.x||0),v-=t.x,a.lineTo(v,w),w-=f.height,v-=.5*f.width,a.lineTo(v,w),w+=f.height,v-=.5*f.width,a.lineTo(v,w);break;case"topmiddle":case"topcenter":v=r.left+.5*s.width+.5*f.width,v+=t.x,a.lineTo(v,w),w-=f.height,v-=.5*f.width,a.lineTo(v,w),w+=f.height,v-=.5*f.width,a.lineTo(v,w),v=r.left+.5*s.width-f.width,a.lineTo(v,w),a.lineTo(v,w);break;case"topleft":v=r.left+n+f.width,v-=.5*f.width,v+=.5*c.width,p&&(v+=p),v+=Math.max(h,m.x||0),v+=t.x,a.lineTo(v,w),w-=f.height,v-=.5*f.width,a.lineTo(v,w),w+=f.height,v-=.5*f.width,a.lineTo(v,w)}a.lineTo(x.x,x.y-n),a.lineTo(x.x,x.y),i.closePath&&a.closePath()}function G(a){var c=this.getOrderLayout(),d=this.options.stem&&this.getStemLayout(),e=this._hookPosition&&this._hookPosition.toLowerCase(),f=this.radius,g=this.border,h=this.padding,i=({width:2*g+2*h+this.contentDimensions.width,height:2*g+2*h+this.contentDimensions.height},a.options.stem&&a.options.stem.offset||{x:0,y:0}),j=0,k=0;f&&(j="background"==this.options.radius.position?f:0,k="border"==this.options.radius.position?f:j+g),b(document.body).append(this.bubbleCanvas=document.createElement("canvas")),x.resize(this.bubbleCanvas,c.bubble.dimensions),x.init(this.bubbleCanvas);var l=this.bubbleCanvas.getContext("2d");l.globalAlpha=this._globalAlpha,b(this.bubble).append(this.bubbleCanvas),l.fillStyle=x.createFillStyle(l,this.options.background,{x1:0,y1:c.background.position.top+g,x2:0,y2:c.background.position.top+c.background.dimensions.height-g}),l.lineWidth=0;var m;if(m=this._drawBackgroundPath(l,{beginPath:!0,closePath:!0,border:g,radius:j,borderRadius:k,layout:c,stemLayout:d,stem:this.options.stem,hookPosition:e,cornerOffset:i}),l.fill(),g){var n=x.createFillStyle(l,this.options.border,{x1:0,y1:c.background.position.top,x2:0,y2:c.background.position.top+c.background.dimensions.height});l.fillStyle=n,m=this._drawBackgroundPath(l,{beginPath:!0,closePath:!1,border:g,radius:j,borderRadius:k,layout:c,stemLayout:d,stem:this.options.stem,hookPosition:e,cornerOffset:i}),this._drawBorderPath(l,{beginPath:!1,closePath:!0,border:g,backgroundRadius:j,radius:{size:k,position:this.options.radius.position},layout:c,stemLayout:d,stem:this.options.stem,hookPosition:e,cornerOffset:m.cornerOffset,corrections:m}),l.fill()}this._corrections=m}function H(){var a,b=this.getTooltip(),c=this.contentDimensions,d=b.options,e=this.radius,f=this.border,g=this.padding,h={width:2*f+2*g+c.width,height:2*f+2*g+c.height};if(this.options.stem){var i=this.getStemLayout();a=i.box.dimensions}var k=z.getBubbleLayout(this,h),l=k.dimensions,m=k.position,h=k.background.dimensions,n=k.background.position;k.stem.dimensions;var o,p,q,r={top:0,left:0},s={width:l.width,height:l.height};if(d.closeButton){var t=e;"background"==d.radius.position&&(t+=f);var u=t-Math.sin(j(45))*t,v="right";this._hookPosition.toLowerCase().match(/^(topright|righttop)$/)&&(v="left");var w=d.closeButton.diameter+2*d.closeButton.border,o={width:w,height:w};if(r.left=n.left-w/2+("left"==v?u:h.width-u),r.top=n.top-w/2+u,"left"==v){if(r.left<0){var x=Math.abs(r.left);s.width+=x,m.left+=x,r.left=0}}else{var y=r.left+w-s.width;y>0&&(s.width+=y)}if(r.top<0){var A=Math.abs(r.top);s.height+=A,m.top+=A,r.top=0}if(this.options.closeButton.shadow){var B=this.options.closeButton.shadow,C=B.blur,D=B.offset;if(p={width:o.width+2*C,height:o.height+2*C},q={top:r.top-C+D.y,left:r.left-C+D.x},"left"==v){if(q.left<0){var x=Math.abs(q.left);s.width+=x,m.left+=x,r.left+=x,q.left=0}}else{var y=q.left+p.width-s.width;y>0&&(s.width+=y)}if(q.top<0){var A=Math.abs(q.top);s.height+=A,m.top+=A,r.top+=A,q.top=0}}}var E=k.anchor;E.top+=m.top,E.left+=m.left;var F={left:Math.ceil(m.left+n.left+this.border+this.options.padding),top:Math.ceil(m.top+n.top+this.border+this.options.padding)},G={tooltip:{dimensions:{width:Math.ceil(s.width),height:Math.ceil(s.height)}},skin:{dimensions:{width:Math.ceil(s.width),height:Math.ceil(s.height)}},bubble:{dimensions:l,position:{top:Math.round(m.top),left:Math.round(m.left)}},background:{dimensions:{width:Math.ceil(h.width),height:Math.ceil(h.height)},position:{top:Math.round(n.top),left:Math.round(n.left)}},anchor:{top:Math.round(E.top),left:Math.round(E.left)},content:{position:F}};return this.options.closeButton&&(G.closeButton={dimensions:{width:Math.ceil(o.width),height:Math.ceil(o.height)},position:{top:Math.round(r.top),left:Math.round(r.left)}},this.options.closeButton.shadow&&(G.closeButtonShadow={dimensions:{width:Math.ceil(p.width),height:Math.ceil(p.height)},position:{top:Math.round(q.top),left:Math.round(q.left)}})),G}function I(){var a=this.getOrderLayout(),c=this.getTooltip();b(c.container).css(g(a.tooltip.dimensions)),b(c.skinElement).css(g(a.skin.dimensions)),this.iframeShim&&this.iframeShim.css(g(a.tooltip.dimensions)),b(this.bubble).css(b.extend(g(a.bubble.dimensions),g(a.bubble.position))),this.closeButton&&(b(this.closeButton).css(g(a.closeButton.position)),a.closeButtonShadow&&b(this.closeButtonShadow.container).css(g(a.closeButtonShadow.position))),b(c.contentElement).css(g(a.content.position))}function J(a){this._globalAlpha=a||0,this.shadow&&(this.shadow._globalAlpha=this._globalAlpha)}function K(a){this.setGlobalAlpha(a),this.build()}return{prepare:f,createHookCache:a,build:h,remove:c,cleanup:d,getTooltip:q,refresh:i,setHookPositionAndStemCorrection:k,setAdjustment:l,setStemCorrection:o,setHookPosition:p,drawCloseButton:v,drawCloseButtonState:w,drawBubble:G,_drawBackgroundPath:B,_drawBorderPath:F,closeButtonMouseover:t,closeButtonMouseout:u,getStemLayout:r,getOrderLayout:H,order:I,setGlobalAlpha:J,setOpacity:K}}());var C={shadows:{},get:function(a){if(!a)return null;var c=null,d=b(a).data("tipped-uid");return d&&(c=this.shadows[d]),c},add:function(a){this.shadows[a.uid]=a},remove:function(a){var b=this.get(a);b&&(delete this.shadows[b.uid],b.remove())},transition:function(a){return Math.PI/2-Math.pow(a,Math.cos(a)*Math.PI)}};C.Stem={getBorderDimensions:function(a,b){var c=B.get(a.element),d=c.getStemLayout().border.dimensions,e=this.getCenterBorderDimensions(d.width,d.height,b,{math:!1});return{width:e.width,height:e.height}},getCenterBorderDimensions2:function(a,b,c){var d=.5*a,e=i(Math.acos(d/h(d,b))),f=180-e-90,g=k(j(f))*c,l=2*(d+g),m=l/a*b;return{width:l,height:m}},getCenterBorderDimensions:function(a,b,c){var d=i(Math.atan(.5*(b/a))),e=180-d,f=Math.cos(j(e-90))*c,g=a+2*f,h=g*b/a;return{width:g,height:h}},getLayout:function(a){var c=B.get(a.element),d=a.options.blur,e=y.isCorner(c._hookPosition),f=(y.getOrientation(c._hookPosition),C.Stem.getBorderDimensions(a,d)),g={box:{dimensions:{width:Math.ceil(f.width),height:Math.ceil(f.height)},position:{top:0,left:0}}};if(d){g.blurs=[];for(var h=0;d>=h;h++){var i=C.Stem.getBorderDimensions(a,h,{math:!1}),j={position:{top:g.box.dimensions.height-i.height,left:e?d-h:(g.box.dimensions.width-i.width)/2},dimensions:i};g.blurs.push(j)}}else g.blurs=[b.extend({},g.box)];return g},rotate:function(a,b,c){z.rotate(a,b.getSkin(),c)}},b.extend(m.prototype,function(){function a(){return E.get(this.element)[0]}function c(){return B.get(this.element)}function d(){this.cleanup()}function e(){this.container&&(b(this.container).remove(),this.stem=null,this.background=null,this.bubble=null,this.container=null,this._cache={})}function f(){}function h(){this.cleanup(),this.prepare();var a=this.getTooltip(),c=this.getSkin();this.container=b("<div>").addClass("t_Shadow")[0],b(a.container).prepend(this.container),c.iframeShim&&b(a.container).prepend(c.iframeShim),c.getOrderLayout(),b(this.container).css({top:0,left:0}),this.drawBackground(),this.order()}function i(){return this.options.opacity/(this.options.blur+1)}function j(){var a=this.getSkin(),c=a.getOrderLayout(),d=this.getTooltip(),e=this.getOrderLayout(),f=this.options.blur,h=C.Stem.getLayout(this),i=a._hookPosition,j=y.getSide(i),k={top:f,left:f};if(d.options.stem){var l=h.blurs[h.blurs.length-1];"left"==j&&(k.left+=Math.ceil(l.dimensions.height)),"top"==j&&(k.top+=Math.ceil(l.dimensions.height))}var m=a._cache.options,n=m.radius,o=m.border;"background"==d.options.radius.position&&n&&(n+=o);var p=e.bubble.dimensions;b(this.container).append(b(this.bubble=document.createElement("div")).addClass("t_ShadowBubble").css(g(p))).css(g(p)),b(document.body).append(b(this.bubbleCanvas=document.createElement("canvas"))),x.resize(this.bubbleCanvas,e.bubble.dimensions),x.init(this.bubbleCanvas);var q=this.bubbleCanvas.getContext("2d");q.globalAlpha=this._globalAlpha,b(this.bubble).append(this.bubbleCanvas);for(var r=f+1,s=0;f>=s;s++)q.fillStyle=A.hex2fill(this.options.color,C.transition(s*(1/r))*(this.options.opacity/r)),x.drawRoundedRectangle(q,{width:c.background.dimensions.width+2*s,height:c.background.dimensions.height+2*s,top:k.top-s,left:k.left-s,radius:n+s});if(a.options.stem){var t={x:k.left,y:k.top},u=h.blurs[0].dimensions,v=a.options.stem,w=o;w+=.5*v.width;var z=a.options.radius&&"background"==a.options.radius.position?a.options.radius.size||0:0;z&&(w+=z);var B=o+z+.5*v.width-.5*u.width,D=Math.ceil(n>B?n-B:0),E=a._corrections&&a._corrections.stem||{x:0,y:0},F=a._corrections&&a._corrections.corner||{x:0,y:0};if(w+=Math.max(D,a.options.stem.offset&&a.options.stem.offset[j&&/^(left|right)$/.test(j)?"y":"x"]||0),"top"==j||"bottom"==j){switch(i){case"topleft":case"bottomleft":t.x+=w+E.x-F.x;break;case"topmiddle":case"topcenter":case"bottommiddle":case"bottomcenter":t.x+=.5*c.background.dimensions.width+E.x;break;case"topright":case"bottomright":t.x+=c.background.dimensions.width-(w-E.x+F.x)}"bottom"==j&&(t.y+=c.background.dimensions.height);for(var s=0,G=h.blurs.length;G>s;s++){q.fillStyle=A.hex2fill(this.options.color,C.transition(s*(1/r))*(this.options.opacity/r));var f=h.blurs[s];q.beginPath(),"top"==j?(q.moveTo(t.x,t.y-s),q.lineTo(t.x-.5*f.dimensions.width,t.y-s),q.lineTo(t.x,t.y-s-f.dimensions.height),q.lineTo(t.x+.5*f.dimensions.width,t.y-s)):(q.moveTo(t.x,t.y+s),q.lineTo(t.x-.5*f.dimensions.width,t.y+s),q.lineTo(t.x,t.y+s+f.dimensions.height),q.lineTo(t.x+.5*f.dimensions.width,t.y+s)),q.closePath(),q.fill()}}else{switch(i){case"lefttop":case"righttop":t.y+=w+E.y-F.y;break;case"leftmiddle":case"leftcenter":case"rightmiddle":case"rightcenter":t.y+=.5*c.background.dimensions.height+E.y;break;case"leftbottom":case"rightbottom":t.y+=c.background.dimensions.height-(w-E.y+F.y)}"right"==j&&(t.x+=c.background.dimensions.width);for(var s=0,G=h.blurs.length;G>s;s++){q.fillStyle=A.hex2fill(this.options.color,C.transition(s*(1/r))*(this.options.opacity/r));var f=h.blurs[s];q.beginPath(),"left"==j?(q.moveTo(t.x-s,t.y),q.lineTo(t.x-s,t.y-.5*f.dimensions.width),q.lineTo(t.x-s-f.dimensions.height,t.y),q.lineTo(t.x-s,t.y+.5*f.dimensions.width)):(q.moveTo(t.x+s,t.y),q.lineTo(t.x+s,t.y-.5*f.dimensions.width),q.lineTo(t.x+s+f.dimensions.height,t.y),q.lineTo(t.x+s,t.y+.5*f.dimensions.width)),q.closePath(),q.fill()}}}}function k(){var a=this.getSkin();a.contentDimensions,a.radius;var c=a.getOrderLayout(),d=(this.getTooltip(),this.options.blur),e=b.extend({},c.background.dimensions);e.width+=2*d,e.height+=2*d;var f,g;if(a.options.stem){var h=C.Stem.getLayout(this);f=h.box.dimensions,g=f.height}var i=z.getBubbleLayout(a,e,g),j=i.dimensions,k=i.position,e=i.background.dimensions,l=i.background.position,m=c.bubble.position,n=c.background.position,o={top:m.top+n.top-(l.top+d)+this.options.offset.y,left:m.left+n.left-(l.left+d)+this.options.offset.x},p=c.anchor,q=c.skin.dimensions,r={top:0,left:0};if(o.top<0){var s=Math.abs(o.top);r.top+=s,o.top=0,p.top+=s}if(o.left<0){var t=Math.abs(o.left);r.left+=t,o.left=0,p.left+=t}var u={height:Math.max(j.height+o.top,q.height+r.top),width:Math.max(j.width+o.left,q.width+r.left)},v={left:Math.ceil(r.left+c.bubble.position.left+c.background.position.left+a.border+a.padding),top:Math.ceil(r.top+c.bubble.position.top+c.background.position.top+a.border+a.padding)},w={tooltip:{dimensions:u},skin:{dimensions:q,position:r},container:{dimensions:j,position:o},bubble:{dimensions:j,position:{top:Math.round(k.top),left:Math.round(k.left)}},background:{dimensions:{width:Math.ceil(e.width),height:Math.ceil(e.height)},position:{top:Math.round(l.top),left:Math.round(l.left)}},anchor:p,content:{position:v}};return w}function l(){var a=this.getOrderLayout(),c=this.getSkin(),d=this.getTooltip();if(b(d.container).css(g(a.tooltip.dimensions)),b(d.skinElement).css(b.extend(g(a.skin.position),g(a.skin.dimensions))),c.iframeShim&&c.iframeShim.css(g(a.tooltip.dimensions)),d.options.closeButton){var e=c.getOrderLayout(),f=a.skin.position,h=e.closeButton.position;if(b(c.closeButton).css(g({top:f.top+h.top,left:f.left+h.left})),d.options.closeButton.shadow){var i=e.closeButtonShadow.position;b(c.closeButtonShadow.container).css(g({top:f.top+i.top,left:f.left+i.left}))}}b(this.container).css(b.extend(g(a.container.dimensions),g(a.container.position))),b(this.bubble).css(g(a.bubble.dimensions)),b(d.contentElement).css(g(a.content.position))}return{prepare:f,remove:d,cleanup:e,build:h,getTooltip:a,getSkin:c,getOrderLayout:k,getBlurOpacity:i,drawBackground:j,order:l}}());var D={shadows:{},get:function(a){if(!a)return null;var c=b(a).data("tipped-uid");return c?this.shadows[c]:null},add:function(a){this.shadows[a.uid]=a},remove:function(a){var b=this.get(a);b&&(delete this.shadows[b.uid],b.remove())}};b.extend(n.prototype,function(){function a(){return E.get(this.element)[0]}function c(){return B.get(this.element)}function d(){return this.options.opacity/(this.options.blur+1)}function e(){this.cleanup()}function f(){this.container&&(b(this.container).remove(),this.container=null)}function g(){this.cleanup();var a=(this.getTooltip(),this.getSkin()),c=a.getOrderLayout().closeButton.dimensions,d=b.extend({},c),e=this.options.blur;d.width+=2*e,d.height+=2*e,b(a.closeButton).before(b(this.container=document.createElement("div")).addClass("t_CloseButtonShadow")),b(document.body).append(b(this.closeButtonCanvas=document.createElement("canvas"))),x.resize(this.closeButtonCanvas,d),x.init(this.closeButtonCanvas);var f=this.closeButtonCanvas.getContext("2d");f.globalAlpha=this._globalAlpha,b(this.container).append(this.closeButtonCanvas);for(var g=d.width/2,h=d.height/2,i=c.height/2,k=e+1,l=0;e>=l;l++)f.fillStyle=A.hex2fill(this.options.color,C.transition(l*(1/k))*(this.options.opacity/k)),f.beginPath(),f.arc(g,h,i+l,j(0),j(360),!0),f.closePath(),f.fill()}return{build:g,remove:e,cleanup:f,getTooltip:a,getSkin:c,getBlurOpacity:d}}());var E={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999999},stopDelegating:function(){var a=["click"];e.support.touch&&(a.push("touchstart"),this._void&&b(document.body).unbind("click",this._void),this._void=null),b.each(a,function(a,c){b(document.documentElement).undelegate(".t_Tooltip .t_Close, .t_Tooltip .close-tooltip",c)}),this._onWindowResizeHandler&&(b(window).unbind("resize",this._onWindowResizeHandler),this._onWindowResizeHandler=null),b(document).unbind("mousemove",E.Position._mouseBufferHandler)},startDelegating:function(){function a(){this.stopDelegating();var a=["click"];e.support.touch&&(a.push("touchstart"),this._void=function(){return void 0},b(document.body).bind("click",this._void)),b.each(a,function(a,c){b(document.documentElement).delegate(".t_Tooltip .t_Close, .t_Tooltip .close-tooltip",c,function(a){a.preventDefault(),a.stopPropagation(),E.getByTooltipElement(b(a.target).closest(".t_Tooltip")[0]).hide()})}),this._onWindowResizeHandler=b.proxy(this.onWindowResize,this),b(window).bind("resize",this._onWindowResizeHandler),b(document).bind("mousemove",E.Position._mouseBufferHandler)}return a}(),onWindowResize:function(){this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=r.delay(b.proxy(function(){var a=this.getVisible();b.each(a,function(a,b){b.position()})},this),200)},_getTooltip:function(a){var c,d=b(a).data("tipped-uid");if(!d){var e=this.getByTooltipElement(b(a).closest(".t_Tooltip")[0]);e&&e.element&&(d=b(e.element).data("tipped-uid"))}return d&&(c=this.tooltips[d])?c:void 0},findElement:function(a){var b;return r.isElement(a)&&(b=this._getTooltip(a)),b&&b.element},get:function(a){var c=[];if(r.isElement(a)){var d=this._getTooltip(a);d&&(c=[d])}else b.each(this.tooltips,function(d,e){e.element&&b(e.element).is(a)&&c.push(e)});return c},getByTooltipElement:function(a){if(!a)return null;var c=null;return b.each(this.tooltips,function(b,d){d.getState("build")&&d.container===a&&(c=d)}),c},getBySelector:function(a){var c=[];return b.each(this.tooltips,function(d,e){e.element&&b(e.element).is(a)&&c.push(e)}),c},show:function(a){if(r.isElement(a)){var c=a,d=this.get(c)[0];d&&d.show()}else b(a).each(b.proxy(function(a,b){var c=this.get(b)[0];c&&c.show()},this))},hide:function(a){if(r.isElement(a)){var c=this.get(a)[0];c&&c.hide()}else b(a).each(b.proxy(function(a,b){var c=this.get(b)[0];c&&c.hide()},this))},toggle:function(a){if(r.isElement(a)){var c=a,d=this.get(c)[0];d&&d.toggle()}else b(a).each(b.proxy(function(a,b){var c=this.get(b)[0];c&&c.toggle()},this))},hideAll:function(){b.each(this.getVisible(),function(a,b){b.hide()})},refresh:function(a){if(r.isElement(a)){var c=a,d=this.get(c)[0];d&&d.refresh()}else b(a).each(b.proxy(function(a,b){var c=this.get(b)[0];c&&c.refresh()},this))},getVisible:function(){var a=[];return b.each(this.tooltips,function(b,c){c.visible()&&a.push(c)}),a},isVisibleByElement:function(a){var c=!1;return r.isElement(a)&&b.each(this.getVisible()||[],function(b,d){return d.element==a?(c=!0,!1):void 0}),c},getHighestTooltip:function(){var a,c=0;return b.each(this.tooltips,function(b,d){d.zIndex>c&&(c=d.zIndex,a=d)}),a},resetZ:function(){this.getVisible().length<=1&&b.each(this.tooltips,function(a,c){c.getState("build")&&!c.options.zIndex&&b(c.container).css({zIndex:c.zIndex=+E.options.startingZIndex})})},add:function(a){this.tooltips[a.uid]=a},_remove:function(a){var c=this._getTooltip(a);if(c){var d=b(c.element).data("tipped-uid");delete this.tooltips[d],c.hide(),c.remove()}},remove:function(a){r.isElement(a)?this._remove(a):b(a).each(b.proxy(function(a,b){this._remove(b)},this))},removeDetached:function(){b.each(this.tooltips,b.proxy(function(a,b){b.element&&!r.element.isAttached(b.element)&&this._remove(b.element)},this))},removeAll:function(){b.each(this.tooltips,b.proxy(function(a,b){b.element&&this._remove(b.element)},this)),this.tooltips={}},setDefaultSkin:function(a){this.options.defaultSkin=a||"dark"},setStartingZIndex:function(a){this.options.startingZIndex=a||0},clearAjaxCache:function(){b.each(this.tooltips,b.proxy(function(a,b){b._cache&&b._cache.xhr&&(b._cache.xhr.abort(),b._cache.xhr=null),b.setState("updated",!1)},this)),v.clear()},createOptions:function(){function a(a){var c;return c="string"==b.type(a)?{element:g.hideOn&&g.hideOn.element||f.hideOn.element,event:a}:o(b.extend({},f.hideOn),a)}function c(a){return f=e.Skins.base,g=o(b.extend({},f),e.Skins.reset),h=e.Skins.CloseButtons.base,i=o(b.extend({},h),e.Skins.CloseButtons.reset),c=d,d(a)}function d(c){c.skin=c.skin&&e.Skins[c.skin]?c.skin:e.Skins[E.options.defaultSkin]?E.options.defaultSkin:"dark";var d=c.skin?b.extend({},e.Skins[c.skin]||e.Skins[E.options.defaultSkin]):{},j=o(b.extend({},g),d),k=o(b.extend({},j),c);if(k.ajax){var l=g.ajax||{},m=f.ajax;"boolean"==b.type(k.ajax)&&(k.ajax={cache:l.cache||m.cache,type:l.type||m.type}),k.ajax=o(b.extend({},m),k.ajax)}if(k.background&&"string"==b.type(k.background)&&(k.background={color:k.background,opacity:1}),k.border){var n,p=g.border||{},q=f.border;n="number"==b.type(k.border)?{size:k.border,color:p.color||q.color,opacity:p.opacity||q.opacity}:o(b.extend({},q),k.border),k.border=0===n.size?!1:n}if(k.radius){var r;r="number"==b.type(k.radius)?{size:k.radius,position:g.radius&&g.radius.position||f.radius.position}:o(b.extend({},f.radius),k.radius),k.radius=0===r.size?!1:r}var s,t=t=k.hook&&k.hook.target||"string"==b.type(k.hook)&&k.hook||g.hook&&g.hook.target||"string"==b.type(g.hook)&&g.hook||f.hook&&f.hook.target||f.hook,u=k.hook&&k.hook.tooltip||g.hook&&g.hook.tooltip||f.hook&&f.hook.tooltip||E.Position.getInversedPosition(t);if(k.hook?"string"==b.type(k.hook)?s={target:k.hook,tooltip:E.Position.getTooltipPositionFromTarget(k.hook)}:(s={tooltip:u,target:t},k.hook.tooltip&&(s.tooltip=k.hook.tooltip),k.hook.target&&(s.target=k.hook.target)):s={tooltip:u,target:t},"mouse"==k.target){var v=y.getOrientation(s.target);s.target="horizontal"==v?s.target.replace(/(left|right)/,"middle"):s.target.replace(/(top|bottom)/,"middle")}k.hook=s;var w;if("mouse"==k.target?(w=b.extend({},f.offset),b.extend(w,e.Skins.reset.offset||{}),c.skin&&b.extend(w,(e.Skins[c.skin]||e.Skins[E.options.defaultSkin]).offset||{}),w=E.Position.adjustOffsetBasedOnHooks(f.offset,f.hook,s.target,!0),c.offset&&(w=b.extend(w,c.offset||{})),k.fadeOut=0):w={x:k.offset.x,y:k.offset.y},k.offset=w,k.closeButton&&k.closeButtonSkin){var x=b.extend({},e.Skins.CloseButtons[k.closeButtonSkin]),z=o(b.extend({},i),x);if(z.states&&b.each(["default","hover"],function(a,c){var d=z.states[c],e=i.states&&i.states[c];if(d.background){var f=e&&e.background;if("number"==b.type(d.background))d.background={color:f&&f.color||h.states[c].background.color,opacity:d.background};else if("string"==b.type(d.background)){var g=f&&"number"==b.type(f.opacity)&&f.opacity||h.states[c].background.opacity;d.background={color:d.background,opacity:g}}else d.background=o(b.extend({},h.states[c].background),d.background)}if(d.border){var j=e&&e.border;d.border="number"==b.type(d.border)?{color:j&&j.color||h.states[c].border.color,opacity:d.border}:o(b.extend({},h.states[c].border),d.border)}}),z.shadow){var A=i.shadow&&i.shadow.constructor&&i.shadow.constructor==Object?i.shadow:h.shadow;z.shadow.constructor&&z.shadow.constructor==Object&&(A=o(A,z.shadow)),z.shadow=A}k.closeButton=z}if(k.shadow){var B;B="boolean"==b.type(k.shadow)?g.shadow&&"boolean"==b.type(g.shadow)?f.shadow:g.shadow?g.shadow:f.shadow:o(b.extend({},f.shadow),k.shadow||{}),"number"==b.type(B.offset)&&(B.offset={x:B.offset,y:B.offset}),k.shadow=B}if(k.stem){var C={};C="boolean"==b.type(k.stem)?o({},f.stem):o(o({},f.stem),b.extend({},k.stem)),"number"==b.type(C.offset)&&(C.offset={x:C.offset,y:C.offset}),k.stem=C}if(k.containment&&("string"==b.type(k.containment)?k.containment={selector:k.containment,flip:!0}:"boolean"==b.type(k.containment)&&(k.containment=k.containment?{selector:"viewport",flip:!0}:!1)),k.hideOn&&"click-outside"==k.hideOn&&(k.hideOnClickOutside=!0,k.hideOn=!1),k.hideOn)if(b.isArray(k.hideOn)){var D=[];b.each(k.hideOn,function(b,c){D.push(a(c))}),k.hideOn=D}else k.hideOn=[a(k.hideOn)];return k.showOn&&"string"==b.type(k.showOn)&&(k.showOn=[""+k.showOn]),k.padding=0,k.spinner&&(window.Spinners||(k.spinner=!1)),k}var f,g,h,i;return c}()};E.Position=function(){function a(a){var c=y.split(a),d=c[1],e=c[2],f=y.getOrientation(a),g=b.extend({horizontal:!0,vertical:!0},arguments[1]||{});return"horizontal"==f?(g.vertical&&(d=q[d]),g.horizontal&&(e=q[e])):(g.vertical&&(e=q[e]),g.horizontal&&(d=q[d])),d+e}function c(b){var c=y.split(b);return a(c[1]+q[c[2]])}function d(a,c){b(a.container).css({top:c.top+"px",left:c.left+"px"})}function e(b,c,d,e){var h=o(b,c,d,e),i=d&&"string"==typeof d.type?d.type:"";if(/move$/.test(i),1===h.contained.overlap)return g(b,h),h;var j=c,k=e,l={horizontal:!h.contained.horizontal,vertical:!h.contained.vertical},m={horizontal:!1,vertical:!1},n=y.getOrientation(c);return((m.vertical="horizontal"==n&&l.vertical)||(m.horizontal="vertical"==n&&l.horizontal))&&(j=a(c,m),k=a(e,m),h=o(b,j,d,k),1===h.contained.overlap)?(g(b,h),h):(h=f(h,b),g(b,h),h)}function f(a,b){var c=p(b),d=c.dimensions,e=c.position,f=B.get(b.element)._cache.hook[a.hook.tooltip].tooltip.dimensions,g=a.position,h={top:0,left:0,sides:[]};return e.left>g.left&&(h.left=e.left-g.left,h.sides.push("left"),a.position.left=e.left),e.top>g.top&&(h.top=g.top-e.top,h.sides.push("top"),a.position.top=e.top),e.left+d.width<g.left+f.width&&(h.left=e.left+d.width-(g.left+f.width),h.sides.push("right"),a.position.left=e.left+d.width-f.width),e.top+d.height<g.top+f.height&&(h.top=e.top+d.height-(g.top+f.height),h.sides.push("bottom"),a.position.top=e.top+d.height-f.height),a.adjustment=h,a}function g(a,b){a.setHookPositionAndStemCorrection(b.hook.tooltip,b.contained.correction,b.adjustment),d(a,b.position)}function h(a){return a&&(/^mouse|click|touch$/.test("string"==typeof a.type&&a.type||"")||a.pageX>=0)}function i(a,b,c){return a>=b&&c>=a}function j(a,b,c,d){var e=i(a,c,d),f=i(b,c,d);if(e&&f)return b-a;if(e&&!f)return d-a;if(!e&&f)return b-c;var g=i(c,a,b),h=i(d,a,b);return g&&h?d-c:g&&!h?b-c:!g&&h?d-a:0}function k(a,b){return j(a.position.left,a.position.left+a.dimensions.width,b.position.left,b.position.left+b.dimensions.width)*j(a.position.top,a.position.top+a.dimensions.height,b.position.top,b.position.top+b.dimensions.height)}function l(a,b){var c=a.dimensions.width*a.dimensions.height;return c?k(a,b)/c:0}function m(a,b){var c=y.split(b),d=y.getOrientation(b),e={left:0,top:0};if("horizontal"==d){switch(c[2]){case"middle":case"center":e.left=.5*a.width;break;case"right":e.left=a.width}"bottom"==c[1]&&(e.top=a.height)}else{switch(c[2]){case"middle":case"center":e.top=.5*a.height;break;case"bottom":e.top=a.height}"right"==c[1]&&(e.left=a.width)}return e}function n(a){var c=r.element.cumulativeOffset(a),d=r.element.cumulativeScrollOffset(a),e={top:b(window).scrollTop(),left:b(window).scrollLeft()};return c.left+=-1*(d.left-e.left),c.top+=-1*(d.top-e.top),c}function o(c,d,e,f){var g,i,j,k=B.get(c.element),o=k.options,q=o.offset,s=h(e);if(s||!e){if(j={width:24,height:24},s){var u=r.pointer(e);g={top:u.y-.5*j.height+6,left:u.x-.5*j.width+6}}else{var v=c._cache.event;g={top:(v?v.y:0)-.5*j.height+6,left:(v?v.x:0)-.5*j.width+6}}c._cache.event={x:g.left,y:g.top}}else g=n(e),j={width:b(e).outerWidth(),height:b(e).outerHeight()};if(o.stem&&"mouse"!=o.target){var w=y.split(f),x=y.split(d),z=y.getOrientation(f),A=k._cache.options,D=k.getStemLayout().border.dimensions,F=A.radius,G=A.border,H=F&&"background"==o.radius.position?F:0,I=F&&"border"==o.radius.position?F:F+G,J=G+H+.5*o.stem.width-.5*D.width,K=I>J?I-J:0;sideOffset=Math.ceil(G+H+.5*o.stem.width+K+o.stem.offset["horizontal"==z?"x":"y"]),"horizontal"==z&&"left"==w[2]&&"left"==x[2]||"right"==w[2]&&"right"==x[2]?(j.width-=2*sideOffset,g.left+=sideOffset):("vertical"==z&&"top"==w[2]&&"top"==x[2]||"bottom"==w[2]&&"bottom"==x[2])&&(j.height-=2*sideOffset,g.top+=sideOffset)}i=b.extend({},g);var L=s?a(o.hook.tooltip):o.hook.target,M=m(j,L),N=m(j,f);({top:g.top+M.top+q.y,left:g.left+M.left+q.x}),g={left:g.left+N.left,top:g.top+N.top};var O=b.extend({},q);O=t(O,L,f,"mouse"==k.options.target),g.top+=O.y,g.left+=O.x;var k=B.get(c.element),P=k._cache.hook,Q=b.extend({},P[d]),R={x:0,y:0},w=y.split(f);if("middle"!=w[2]){var z=z=y.getOrientation(f),S=E.Position.getInversedPosition(f,"vertical"==z?{horizontal:!0,vertical:!1}:{horizontal:!1,vertical:!0});d==S&&(R.y=k._corrections.corner.y,R.x=k._corrections.corner.x)}var T={top:g.top-Q.anchor.top-R.y,left:g.left-Q.anchor.left-R.x};Q.tooltip.position=T;var U={horizontal:!0,vertical:!0},V={x:0,y:0};if(c.options.containment){var W=p(c),X=c.options.shadow?C.get(c.element):k,Y=X.getOrderLayout().tooltip.dimensions;U.overlap=l({dimensions:Y,position:T},W),U.overlap<1&&((T.left<W.position.left||T.left+Y.width>W.position.left+W.dimensions.width)&&(U.horizontal=!1,V.x=T.left<W.position.left?T.left-W.position.left:T.left+Y.width-(W.position.left+W.dimensions.width)),(T.top<W.position.top||T.top+Y.height>W.position.top+W.dimensions.height)&&(U.vertical=!1,V.y=T.top<W.position.top?T.top-W.position.top:T.top+Y.height-(W.position.top+W.dimensions.height)))}else U.overlap=1;U.correction=V;var Z=P[d].bubble,$=l({dimensions:j,position:i},{dimensions:Z.dimensions,position:{top:T.top+Z.position.top,left:T.left+Z.position.left}});return{position:T,overlap:{target:$},contained:U,hook:{tooltip:d,target:f}}}function p(a){var c={top:b(window).scrollTop(),left:b(window).scrollLeft()},d=a.options,e=d.target;("mouse"==e||"self"==e)&&(e=a.element);var f=b(e).closest(d.containment.selector).first()[0];if(!f||"viewport"==d.containment.selector)return{dimensions:w.viewport(),position:c};var g=r.element.cumulativeOffset(f),h=r.element.cumulativeScrollOffset(f);return g.left+=-1*(h.left-c.left),g.top+=-1*(h.top-c.top),{dimensions:{width:b(f).innerWidth(),height:b(f).innerHeight()},position:g}}var q={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"};s.IE&&s.IE<9||s.Gecko&&s.Gecko<2||s.WebKit&&s.WebKit<530;var t=function(){var a=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],b={lefttop:0,topleft:0,topmiddle:1,topcenter:1,topright:2,righttop:2,rightmiddle:5,rightcenter:5,rightbottom:8,bottomright:8,bottommiddle:7,bottomcenter:7,bottomleft:6,leftbottom:6,leftmiddle:3,leftcenter:3};return function(c,d,e,f){var g=a[b[d]],h=a[b[e]],i=[Math.floor(.5*Math.abs(g[0]-h[0]))?-1:1,Math.floor(.5*Math.abs(g[1]-h[1]))?-1:1];return y.isCenter(d)||!y.isCenter(e)||f||("horizontal"==y.getOrientation(e)?i[0]=0:i[1]=0),{x:i[0]*c.x,y:i[1]*c.y}}}();return{get:o,set:e,getInversedPosition:a,getTooltipPositionFromTarget:c,getAbsoluteOffset:n,adjustOffsetBasedOnHooks:t,isPointerEvent:h}}(),E.Position.mouseBuffer={x:0,y:0},E.Position._mouseBufferHandler=function(a){console.log(a),E.Position.mouseBuffer={x:a.pageX,y:a.pageY},SoundninjaOpts.invertedAudio&&(E.Position.mouseBuffer={x:a.clientX,y:a.clientY})},E.UpdateQueue=function(){function a(){b(document.body).append(b(document.createElement("div")).addClass("t_UpdateQueue").append(b(document.createElement("div")).addClass("t_Tooltip").append(b(this.container=document.createElement("div")).addClass("t_Content"))))}function c(a){return{width:b(a).innerWidth(),height:b(a).innerHeight()}}function d(a){var d=c(a),e=a.parentNode;return e&&b(e).css({width:d.width+"px"})&&c(a).height>d.height&&d.width++,b(e).css({width:"100%"}),d}function e(a,c,d){(!this.container||this.container&&!r.element.isAttached(this.container))&&this.build();var e=a.options,f=b.extend({spinner:!1},arguments[3]||{});!e.inline&&!r.isElement(c)||b(c).data("isSpinner")||(e.inline&&"string"==b.type(c)&&(a.inlineContent=b("#"+c)[0],c=a.inlineContent),!a.inlineMarker&&c&&r.element.isAttached(c)&&(b(a.inlineContent).data("tipped_restore_inline_display",b(a.inlineContent).css("display")),a.inlineMarker=document.createElement("div"),b(a.inlineContent).before(b(a.inlineMarker).hide())));var g=document.createElement("div");b(this.container).append(b(g).addClass("t_ContentContainer t_clearfix").append(c)),r.isElement(c)&&b(c).show(),e.skin&&b(g).addClass("t_Content_"+a.options.skin);var h=b(g).find("img[src]").filter(function(){return!(b(this).attr("height")&&b(this).attr("width"))});if(h.length>0&&!a.getState("preloading_images")){a.setState("preloading_images",!0),e.spinner&&(f.spinner||a.spinner||(a.spinner=a.insertSpinner(e.spinner)),
a.getState("visible")&&(a.position(),b(a.container).show()),a.spinner.play());var i=0,j=Math.max(8e3,750*(h.length||0));a.clearTimer("preloading_images"),a.setTimer("preloading_images",b.proxy(function(){h.each(function(){this.onload=function(){}}),i>=h.length||(this._updateTooltip(a,g),d&&d())},this),j),b.each(h,b.proxy(function(c,e){var f=new Image;f.onload=b.proxy(function(){f.onload=function(){};var c=f.width,j=f.height,k=b(e).attr("width"),l=b(e).attr("height");k&&l||(!k&&l?(c=Math.round(l*c/j),j=l):!l&&k&&(j=Math.round(k*j/c),c=k),b(e).attr({width:c,height:j}),i++),i==h.length&&(a.clearTimer("preloading_images"),a.spinner&&(a.spinner.remove(),a.spinner=null),a.getState("visible")&&b(a.container).hide(),this._updateTooltip(a,g),d&&d())},this),f.src=e.src},this))}else this._updateTooltip(a,g),d&&d()}function f(a,c){var e=d(c),f={width:e.width-(parseInt(b(c).css("padding-left"))||0)-(parseInt(b(c).css("padding-right"))||0),height:e.height-(parseInt(b(c).css("padding-top"))||0)-(parseInt(b(c).css("padding-bottom"))||0)};a.options.maxWidth&&"number"==b.type(a.options.maxWidth)&&f.width>a.options.maxWidth&&(b(c).css({width:a.options.maxWidth+"px"}),e=d(c)),a._cache.contentDimensions=e,b(a.contentElement).html(c)}return{build:a,update:e,_updateTooltip:f,getMeasureElementDimensions:d}}(),b.extend(p.prototype,function(){function a(a,b,c){this._cache.timers[a]=r.delay(b,c)}function c(a){return this._cache.timers[a]}function d(a){this._cache.timers[a]&&(window.clearTimeout(this._cache.timers[a]),delete this._cache.timers[a])}function f(){b.each(this._cache.timers,function(a,b){window.clearTimeout(b)}),this._cache.timers=[]}function h(a,c,d,e){c=c;var f=b.proxy(d,e||this);this._cache.events.push({element:a,eventName:c,handler:f}),b(a).bind(c,f)}function i(){b.each(this._cache.events,function(a,c){b(c.element).unbind(c.eventName,c.handler)})}function j(a,b){this._cache.states[a]=b}function k(a){return this._cache.states[a]}function m(){this.setEvent(this.element,"mouseenter",this.setActive),this.setEvent(this.element,"mouseleave",b.proxy(function(a){this.setIdle(a)},this)),this.options.showOn&&b.each(this.options.showOn,b.proxy(function(a,c){var d=!1;"click"==c&&(this.options.hideOn&&b.each(this.options.hideOn,function(a,b){return"self"==b.element&&"click"==b.event?(d=!0,!1):void 0}),this.setState("toggles",d)),this.setEvent(this.element,c,"click"==c?d?this.toggle:this.show:b.proxy(function(){this.showDelayed()},this))},this)),this.options.hideOn?b.each(this.options.hideOn,b.proxy(function(a,c){var d;switch(c.element){case"self":if(this.getState("toggles")&&"click"==c.event)return;d=this.element;break;case"target":d=this.target}d&&this.setEvent(d,c.event,"click"==c.event?this.hide:b.proxy(function(){this.hideDelayed()},this))},this)):this.options.showDelay&&this.options.showOn&&!b.inArray("click",this.options.showOn)>-1&&this.setEvent(this.element,"mouseleave",b.proxy(function(){this.clearTimer("show")},this));var a=!1;!this.options.fixed&&this.options.showOn&&((a=b.inArray("mousemove",this.options.showOn)>-1)||b.inArray("touchmove",this.options.showOn)>-1)&&"mouse"==this.target&&this.setEvent(this.element,a?"mousemove":"touchmove",function(a){this.getState("skinned")&&this.position(a)})}function n(){this.setEvent(this.container,e.support.touch?"touchmove":"mouseenter",this.setActive),this.setEvent(this.container,"mouseleave",this.setIdle),this.setEvent(this.container,e.support.touch?"touchmove":"mouseenter",b.proxy(function(){this.getTimer("fadeTransition")||this.show()},this)),this.options.hideOn&&b.each(this.options.hideOn,b.proxy(function(a,c){var d;switch(c.element){case"tooltip":d=this.container}d&&this.setEvent(d,c.event,c.event.match(/^(click|mousemove|mouseenter)$/)?this.hide:b.proxy(function(){this.hideDelayed()},this))},this))}function o(a,b,c){var d=B.get(this.element);d&&d.setHookPositionAndStemCorrection(a,b,c)}function p(a){var b=B.get(this.element);b&&b.setHookPosition(a)}function q(){this.setHookPosition(this.options.hook.tooltip)}function s(){b(this.container=document.createElement("div")).addClass("t_Tooltip"),this.createPreBuildObservers()}function t(){this.build();var a=B.get(this.element);a?a.build():(new l(this.element),this.setState("skinned",!0))}function u(){this.getState("build")||(b(document.body).append(b(this.container).css({left:"-10000px",top:"-10000px",zIndex:this.zIndex}).append(b(this.skinElement=document.createElement("div")).addClass("t_Skin")).append(b(this.contentElement=document.createElement("div")).addClass("t_Content"))),b(this.container).addClass("t_Tooltip_"+this.options.skin),this.options.hideOnClickOutside&&(b(this.element).addClass("t_hideOnClickOutside"),this.setEvent(document.documentElement,"click",b.proxy(function(a){if(this.visible()){var c=b(a.target).closest(".t_Tooltip, .t_hideOnClickOutside")[0];(!c||c&&c!=this.container&&c!=this.element)&&this.hide()}},this))),e.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),b(this.container).addClass("t_hidden")),this.createPostBuildObservers(),this.setState("build",!0),E.add(this))}function w(){var a;this.content,this.inlineMarker&&this.inlineContent&&((a=b(this.inlineContent).data("tipped_restore_inline_display"))&&b(this.inlineContent).css({display:a}),b(this.inlineMarker).before(this.inlineContent).remove(),this.inlineMarker=null)}function x(){r.defer(b.proxy(function(){this.clearEvents()},this)),this.clearTimers(),this._restoreInlineContent(),r.defer(b.proxy(function(){b(this.container).find("img[src]").unbind("load")},this)),B.remove(this.element),this.getState("build")&&this.container&&(b(this.container).remove(),this.container=null);var a,c="tipped_restore_title";(a=b(this.element).data(c))&&b(this.element).attr("title",a).removeData("tipped_restore_title"),b(this.element).removeData("tipped-uid")}function y(a){var c=b.extend({afterUpdate:this.options.afterUpdate,spinner:!1},arguments[1]||{});this.build(),this.getState("visible")&&b(this.container).hide(),E.UpdateQueue.update(this,a,b.proxy(function(){var a=this.getState("visible");a||this.setState("visible",!0),this._buildSkin(),a||this.setState("visible",!1),this.getState("visible")&&(b(this.container).hide(),this.position(),this.raise(),b(this.container).show()),this.setState("updated",!0),c.afterUpdate&&c.afterUpdate(this.contentElement.firstChild,this.element),c.callback&&c.callback()},this),{spinner:c.spinner})}function z(a){var c,d={url:this.content,type:this.options.ajax.type,data:this.options.ajax.data||{},dataType:this.options.ajax.dataType||"html"};if(!(this.getState("xhr")||this.options.ajax.cache&&this.getState("updated"))){if(this.options.ajax.cache&&(c=v.get(d)))return void this.afterAjaxUpdate(c,{callback:b.proxy(function(){this.getState("visible")&&this.options.onShow&&this.options.onShow(this.contentElement.firstChild,this.element)},this)});this.setState("xhr",!0),this.options.spinner&&(this.spinner?this.spinner.play():(this.spinner=this.insertSpinner(this.options.spinner),this.setState("updated",!1)),this.position(a)),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null),this._cache.xhr=b.ajax(b.extend({},d,{success:b.proxy(function(a,c,e){0!==e.status&&(v.set(d,e.responseText),this.afterAjaxUpdate(e.responseText,{callback:b.proxy(function(){this.setState("xhr",!1),this.getState("visible")&&this.options.onShow&&this.options.onShow(this.contentElement.firstChild,this.element),this.spinner&&(this.spinner.remove(),this.spinner=null)},this)}))},this)}))}}function A(a){var c=b.extend({spinner:this.options.spinner&&this.spinner},arguments[1]||{});this.update(a,c)}function C(){var a=document.createElement("div");b(a).data("isSpinner",!0);var c=Spinners.create(a,b.extend({},arguments[0]||{})),d=Spinners.getDimensions(a);return b(a).css(g(d)),this.update(a,{afterUpdate:!1,callback:function(){c.play()}}),c}function D(){if(this.getState("build")&&!this.options.zIndex){var a=E.getHighestTooltip();a&&a!=this&&this.zIndex<=a.zIndex&&b(this.container).css({zIndex:this.zIndex=a.zIndex+1})}}function F(){var a=B.get(this.element);a&&(a.refresh(),this.visible()&&this.position())}function G(a){if(e.support.cssTransitions){a=a||0;var b=this.container.style;b.MozTransitionDuration=a+"ms",b.webkitTransitionDuration=a+"ms",b.OTransitionDuration=a+"ms",b.transitionDuration=a+"ms"}}function H(a){this.clearTimer("hide"),this.clearTimer("fadeTransition"),this.getState("visible")||this.getTimer("show")||this.setTimer("show",b.proxy(function(){this.clearTimer("show"),this.show(a)},this),this.options.showDelay||1)}function I(a){if(this.clearTimer("hide"),this.clearTimer("fadeTransition"),!this.visible()){if("function"==b.type(this.content)||"function"==b.type(this._cache.contentFunction)){"function"!=b.type(this._cache.contentFunction)&&(this._cache.contentFunction=this.content);var c=this._cache.contentFunction(this.element)||!1;if(c!=this._cache.fnCallContent&&(this._cache.fnCallContent=c,this.setState("updated",!1),this._restoreInlineContent()),this.content=c,!c)return}this.options.hideOthers&&E.hideAll(),this.setState("visible",!0),this.options.ajax?this.ajaxUpdate(a):this.getState("updated")||this.update(this.content),this.getState("skinned")&&this.position(a),this.raise(),this.options.hideAfter&&r.defer(b.proxy(function(){this.setActive()},this)),"function"==b.type(this.options.onShow)&&(!this.options.ajax||this.options.ajax&&this.options.ajax.cache&&this.getState("updated"))&&this.options.onShow(this.contentElement.firstChild,this.element),e.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)&&(this.setFadeDuration(this.options.fadeIn),b(this.container).addClass("t_visible").removeClass("t_hidden")),b(this.container).show()}}function J(){this.clearTimer("show"),this.getState("visible")&&(this.setState("visible",!1),e.support.cssTransitions&&(this.options.fadeIn||this.options.fadeOut)?(this.setFadeDuration(this.options.fadeOut),b(this.container).removeClass("t_visible").addClass("t_hidden"),this.setTimer("fadeTransition",b.proxy(this._hide,this),this.options.fadeOut)):this._hide(),this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.setState("xhr",!1)))}function K(){this.getState("build")&&(b(this.container).css({left:"-10000px",top:"-10000px"}),E.resetZ(),"function"!=b.type(this.options.onHide)||this.spinner||this.options.onHide(this.contentElement.firstChild,this.element))}function L(){this.clearTimer("show"),!this.getTimer("hide")&&this.getState("visible")&&this.setTimer("hide",b.proxy(function(){this.clearTimer("hide"),this.clearTimer("fadeTransition"),this.hide()},this),this.options.hideDelay||1)}function M(a){this[this.visible()?"hide":"show"](a)}function N(){return this.getState("visible")}function O(){this.setState("active",!0),this.getState("visible")&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")}function P(){this.setState("active",!1),this.options.hideAfter&&this.setTimer("idle",b.proxy(function(){this.clearTimer("idle"),this.getState("active")||this.hide()},this),this.options.hideAfter)}var Q=function(a){if(this.visible()){var c;if("mouse"==this.options.target){var d=E.Position.isPointerEvent(a),e=E.Position.mouseBuffer;if(d)e.x||e.y?(this._cache.event={x:e.x,y:e.y},c=null):c=a;else{if(e.x||e.y)this._cache.event={x:e.x,y:e.y};else if(!this._cache.event){var f=E.Position.getAbsoluteOffset(this.element);this._cache.event={x:f.left,y:f.top}}c=null}}else c=this.target;if(E.Position.set(this,this.options.hook.tooltip,c,this.options.hook.target),a&&E.Position.isPointerEvent(a)){var g={width:b(this.container).outerWidth(),height:b(this.container).outerHeight()},h=r.pointer(a),f=r.element.cumulativeOffset(this.container);h.x>=f.left&&h.x<=f.left+g.width&&h.y>=f.top&&h.y<=f.top+g.height&&r.defer(b.proxy(function(){this.clearTimer("hide")},this))}}};return{build:u,_preBuild:s,_buildSkin:t,createPreBuildObservers:m,createPostBuildObservers:n,show:I,hide:J,_hide:K,toggle:M,visible:N,showDelayed:H,hideDelayed:L,setFadeDuration:G,setState:j,getState:k,setActive:O,setIdle:P,getTimer:c,setTimer:a,clearTimer:d,clearTimers:f,setEvent:h,clearEvents:i,setHookPositionAndStemCorrection:o,setHookPosition:p,resetHookPosition:q,refresh:F,update:y,ajaxUpdate:z,afterAjaxUpdate:A,insertSpinner:C,position:Q,raise:D,_restoreInlineContent:w,remove:x}}()),e.init()}(a);var f={ARMI8BW1187FB57B2E:!0,ARC3EZO1187B9B9314:!0,ARJR50M1187FB4F05A:!0,ARRMZVY12420781231:!0,ARSUCM81187B993875:!0,ARNFBYO132D578F55D:!0,ARWTNJG1269FCD3F08:!0,ARGKUUS1187B995AF7:!0,ARHRVFU1242077F2BE:!0,AR8JO7R1187B99AEA8:!0,ARSQOL91187B9A31E0:!0,ARNUZPP11F4C83BF15:!0,ARAFUZE1412A3175F6:!0,AR3I6YW1187B990DAA:!0,ARVXD591187FB44199:!0,ARSI6GV1187FB5CC73:!0,ARKJP2A1187FB41672:!0,AR0TQII1187B98FD27:!0,AR5YGS01187FB4FEE8:!0,ARE2DJ41187B99083E:!0,ARANPHH1187B9B33C8:!0,ARP8GB91187B9A45FB:!0,ARUK6A91187B992CCA:!0,ARILYBW11EB3016A0B:!0,AR8FK8V1187FB585AF:!0,ARJIG5P1187B98D9DE:!0,ARXJNFW12086C128F9:!0,ARKIQ6X1187B999742:!0,ARRDXPV1187FB38A66:!0,ARA7M471187B9A7215:!0,ARU6KCR1187B9A07C2:!0,ARVTPSM12086C1745D:!0,ARRFTQO138BEC18BC5:!0,ARAVJSE1269FCD0199:!0,ARU6Q641187B98CC0D:!0,AR5F7N11187B98B981:!0,ART48CP1187B9AE314:!0,AR94EZ61187B990729:!0,ARYWTQI1187B9AE146:!0,AR9F8TH1187B9B5A83:!0,AREH7LP1187B9B7164:!0,ARZ2IJA1187FB53B9F:!0,ARCI05Y1187B9AE8C0:!0,ARVXD591187FB44199:!0,ARN5DWZ1187FB3DE5C:!0,ARZF9EA1187FB39378:!0,AR3KFM11187FB51278:!0,ARSI6GV1187FB5CC73:!0,ARMS69O1187B9AEB9E:!0,ARSFRHB1187FB49AD9:!0,AR811DN1187B9A3C04:!0,AR3W0BY1187B989FFA:!0,AR43LAH1187FB50455:!0,ARMRTFD11C8A414957:!0,ARLDKCN122BCFCBF9C:!0,ARHEYYH11E2835C1F5:!0,ARRE7OC1187B9891B6:!0,AR3JN3J1187B9A148E:!0,ARWA06A1187B9AE557:!0,ARMTFAI1187B99B09A:!0,ARWPWEE11F4C842D30:!0,ART6XAN1187FB41466:!0,ARE2DJ41187B99083E:!0,ARTIPMT1187B98CD4A:!0,ARGV5II1187FB3DE8B:!0,ARQEPSF12F6AE5B910:!0,AR9JADT1187FB3C8AE:!0,AR7RHXY1187FB598E0:!0,AR1FH021187FB3DB18:!0,ARSFKT51187FB4A729:!0,ARDS99I1187B98B5AF:!0,ARVAJYV1257509E2DF:!0,ARGGQ6T1187B99AB85:!0,ARG0I631187FB43881:!0,ARZNG681187B999F28:!0,ARB0SBS1187FB4AA69:!0,ARMJ7BA1187B992989:!0,ARG0A7M1187FB46CF2:!0,ARSPS801187FB44A22:!0,ARUVGBJ1187FB5A02B:!0,ARHZCJG1187FB49290:!0,ARFST161187B9AA427:!0,ARMRX211187FB40614:!0,AR75K361187B9A43CB:!0,AR1WKBM1187FB38900:!0,ARVDAGT11F50C50DA4:!0,ARIOCR01187B9B4248:!0,ARWCLWT1269FB384FA:!0,AR9Q9YC1187FB5609B:!0,ARZTLDJ11F50C4CDBA:!0,AR1FH021187FB3DB18:!0,ARZ15SG1187B98D8D2:!0,ARDHUJX12086C15405:!0,ARP7U1O1187FB4BAE0:!0,ARSL6ZW1187B989997:!0,ARPHHXR1187B98B4AB:!0,ARI1R9J1187B996359:!0,AR5F7N11187B98B981:!0,ARUB6PA1187B99C4FD:!0,ARDYLUJ120AB963910:!0,ARLGBIT1269FB30149:!0,ARONYNO1187FB4352B:!0,ARHJRSX12420783BD7:!0,ARH2VA41187B993AF6:!0,ARGMGZV1269FB34568:!0,AR03PY81187B9894AB:!0,AR1FNK61187B98D87F:!0,ARPNCRJ12AA0D8C1B8:!0,ARYQQAW1187B9A9847:!0,ARL0XDQ1187FB39B2B:!0,AR8QANH1187B9B9EC7:!0,AR0GF811187B9AD3D6:!0,ARI9CYU1187B9B260E:!0,ARM1O2C1187FB3F0C6:!0,ARU7LB61187FB4F956:!0,AR9I0AS1187FB49FDF:!0,ARPC0S71187FB55F22:!0,ARFTLTO1187B9A7730:!0,AR1XQQU1187FB43579:!0,ARJAJ231187B9A7A6F:!0,AR4Z92X1187B98F274:!0,ARKXISN1187FB563C7:!0,ARPHHXR1187B98B4AB:!0,AR5RYL21187B9A5287:!0,ARPJEQY1187B992C1C:!0,ARTFTAQ12D5CD7C646:!0,ARLGEQT1242077E23B:!0,AR1S9Z41187B989DC6:!0,AR6O0KV1187FB4FB81:!0,ARWABY51187B9AF999:!0,ARALRRU12D5CD706D9:!0,ARMFZDJ12D5CD7B85D:!0,ARK4W5W1187B99753D:!0,ARQRPAA120AB961CBB:!0,ARDYLUJ120AB963910:!0,ARKZGLQ1187FB40E63:!0,ARAIMLU12AF7DB7716:!0,ARS5EW31187FB4149E:!0,ARIBYGD12592CDB004:!0,ARC33S0119B86696BC:!0,ARRCZXC139111DE95E:!0,ARRGXNI12AF7D91EE3:!0,ARZOLM01187B9A32FF:!0,ARJIPBB12F6F3EFA32:!0,ARBTEPD11F50C4BBF0:!0,AREAHUR14384D12582:!0,ARUVTYC14678F4A8E8:!0,ARLPUFB12B3B3544E3:!0,ARCKMBU1242077FE67:!0,ARFPQCU14A6B9279E0:!0,ARQTHMR1487F203C3A:!0},g=window.SN=window.SN||{},h=c(document),i=(document.body,"us"),j="",k=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})};window.chrome&&chrome.storage&&chrome.storage.sync&&chrome.storage.sync.get?(chrome.storage.sync.get("iTunesCountry",function(a){i=a.hasOwnProperty("iTunesCountry")?a.iTunesCountry:"us"}),chrome.storage.sync.get("userId",function(a){a.hasOwnProperty("userId")?j=a.userId:(j=k(),chrome.storage.sync.set({userId:j}))})):j=k();var l=document.currentScript||function(){var a=document.getElementsByTagName("script");return a[a.length-1]}();chrome=window.chrome||{},chrome.extension={},chrome.extension.getURL=function(a){return l.src.replace(/[^/]+$/,"")+a},g.location=c.ajax("https://soundninja-node-js.herokuapp.com/location"),g.storage=window.localStorage||{};try{g.storage.test=1}catch(m){g.storage={}}g.scan=function(){var a="body",b=!1,d=!0,e=0,i=0;SoundninjaOpts.selector&&(a=SoundninjaOpts.selector,b=SoundninjaOpts.selectorFullMatch,e=0,i=0),SoundninjaOpts.hasOwnProperty("minHotttnesss")&&(e=SoundninjaOpts.minHotttnesss),SoundninjaOpts.hasOwnProperty("minFamiliarity")&&(i=SoundninjaOpts.minFamiliarity),g.trackEvent("request","Extract","hotttnesss",e),g.trackEvent("request","Extract","familiarity",i),c("body noscript,body script").remove();var j="";c(a).each(function(a,b){j+=c(b).text()+" "}),j=j.replace(/\s+/g," ");var k=["id:spotify","id:songkick","genre"];d||k.push("hotttnesss","familiarity"),c.ajax({url:"//soundninja-node-js.herokuapp.com/extract",data:{format:"json",text:j,results:100,bucket:k,min_hotttnesss:e,min_familiarity:i,sort:"familiarity-desc"},dataType:"json",traditional:!0,type:"POST",success:function(e){function i(d,e){setTimeout(function(){c(a).highlight(d,{caseSensitive:e,className:"sn-match",wordsOnly:!0,fullMatch:b});var f=window.location.origin+window.location.pathname;c.ajax({async:!1,url:"https://soundninja-django-py.herokuapp.com/matchdisable/?page_url="+f,type:"GET",dataType:"json",success:function(a){var b=a.results;c(b).each(function(a,b){var d=b.data_match_id,e=b.status,f=c('.sn-match[data-match-id="'+d+'"]').not(v);e||f.data("exclude","true")}),h.trigger("sn-scan-complete")}}),--w,0==w&&(c(".sn-match").not(v).each(function(a,b){var d=c(b);if("true"!=d.data("exclude")){var e=c(b.parentNode).closest("a"),f=d.data("match"),h=f.toLowerCase(),i=ARTISTS[h].name;d.data("soundninja-artist",i),(0==e.length||e.text()!=f)&&(e=d),e.after(' <svg class="SN-icon icon" viewBox="0 0 100 100" data-soundninja-artist="'+i+'"><use xlink:href="#icon-hear" /></svg>'),g.trackEvent("appearance","Page content",i),d.addClass("is-active"),SoundninjaOpts.useHostURL&&(ARTISTS[h].url=d.closest("a").attr("href"))}}),h.trigger("sn-scan-complete"))},0),++w}var j;ARTISTS=window.ARTISTS||{},e=e.response.artists,e=e.map(function(a){return a.name=a.name.replace("é","e"),a}),g.trackEvent("response","Extract","artists",e.length);var k={};d||c.ajax(chrome.extension.getURL("words.txt"),{async:!1,success:function(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b];k[c.toLowerCase()]=c}}});for(var l={},m="\n",n=0;n<e.length;n++){var o=e[n];if(g.trackEvent("response","Extract",o.id),!d||!f[o.id]){!d&&k[o.name.toLowerCase()]&&(m+='"'+o.id+'":  true, //'+o.familiarity.toFixed(6)+"	"+o.hotttnesss.toFixed(6)+"	"+o.name+"\n"),o.genres&&(j=o.genres.map(function(a){var b=a.name;return g.trackEvent("response","Extract",b),b}).slice(0,2));var p={loaded:!1,elements:[],genres:j,name:o.name};if(o.foreign_ids)for(var q=0;q<o.foreign_ids.length;q++){var r=o.foreign_ids[q];"spotify"==r.catalog&&(p.spotifyId=r.foreign_id.replace("spotify:artist:",""),l[p.spotifyId]=p),"songkick"==r.catalog&&(p.songkickId=r.foreign_id.replace("songkick:artist:",""))}else console.log("Who is "+o.name+"?");ARTISTS[o.name.toLowerCase()]=p}}if(d||console.log(m),l)for(var s=Object.keys(l),t=0;t<s.length;t+=50)!function(a){g.spotifyLogin(!1,function(b){c.ajax({url:"https://api.spotify.com/v1/me/following/contains",data:{ids:a.join(","),type:"artist"},headers:{Authorization:"Bearer "+b}}).done(function(b){for(var c=0;c<a.length;c++){var d=a[c];l[d].spotifyFollowing=b[c],g.trackEvent("following","Spotify",d,b[c]?1:0)}})}),c.ajax({url:"https://api.spotify.com/v1/artists",data:{ids:a.join(",")}}).done(function(a){for(var b=0;b<a.artists.length;b++){var c=a.artists[b];c.images&&c.images.length&&(l[c.id].image=c.images[c.images.length-1].url);var d=c.followers.total;g.trackEvent("followers","Spotify","count",d);var e="";if(d>=1e3){var f=100;if(d>=1e4&&(f=1e3),d=Math.round(d/f)*f/1e3,e="k",d>=1e3){var f=100;d>=1e4&&(f=1e3),d=Math.round(d/f)*f/1e3,e="m"}}d=d.toString()+e,l[c.id].spotifyFollowers=d}})}(s.slice(t,t+50));var u=Object.keys(ARTISTS).map(function(a){return ARTISTS[a].name});console.log(u.length+" artists loaded"),u.sort(function(a,b){return b.length-a.length});var v=c(".sn-match"),w=0;i(c.grep(u,function(a){return!/ /.test(a)}),!0),i(c.grep(u,function(a){return/ /.test(a)}),!0)},error:function(a,b,c){console.warn(a),console.warn(b),console.warn(c)}})},g.setupTooltips=function(){var a=!1;c(".is-active, svg.SN-icon").each(function(){var b=c(this).data("soundninja-artist");if(b){var d=b.toString().toLowerCase();ARTISTS[d].elements.push(this),ARTISTS[d].loaded||("iTunes"==SoundninjaOpts.preview?g.fetchItunesContent(d):ARTISTS[d].spotifyId&&g.fetchSpotifyContent(d,ARTISTS[d].spotifyId),"SeatGeek"==SoundninjaOpts.events?g.fetchSeatGeekContent(d):ARTISTS[d].songkickId&&g.fetchSongkickContent(d)),ARTISTS[d].loaded=!0,a=!0}})},g.addContentToTooltip=function(a,b){var d,f,h=ARTISTS[b].elements;ARTISTS[b].tip?ARTISTS[b].tip.refresh():(f=!0,d={hook:"bottommiddle",target:"mouse",fixed:!0,hideOthers:!0,hideDelay:250,maxWidth:400,spinner:!1,onShow:function(a,b){var d=c(b).data("soundninja-artist");g.trackEvent("hover","Artist Name",d);var e={};e.key=d,amplitude.logEvent("artist-checked",e)}},f||c.extend(d,{hideOn:!1,hideOthers:!0}),ARTISTS[b].tip=e.create(h,function(){return g.createTooltip(b)},d))},g.createTooltip=function(a){var b=ARTISTS[a].genres,c=ARTISTS[a].tracks,d=ARTISTS[a].seatGeekContent,e=ARTISTS[a].events,f=ARTISTS[a].eventsCalendar,h=ARTISTS[a].spotifyId,i=ARTISTS[a].spotifyFollowing,j=ARTISTS[a].image,k=ARTISTS[a].url,l=ARTISTS[a].spotifyFollowers,m=ARTISTS[a].name,n='<div class="Tip">';if(h){var o=i?"disabled":"",p=i?"Following":"Follow",q=k?k:"https://open.spotify.com/artist/"+h;n+='<div class="spotify-div spotify-theme-dark">',j&&(n+='    <a target="_spotify" href="'+q+'" target="spotify">',n+='       <div class="spotify-img" width="50px" height="50px" style="background-image:url(\''+j+"')\"></div>",n+="        </a>"),n+='    <div class="spotify-bd">',n+='        <div class="title"><a href="'+q+'" target="spotify">'+m+"</a></div>",n+="        <button "+o+' class="SN-spotify-button SN-spotify-login" data-follow="'+h+'" title="Follow on Spotify">',n+='            <span class="spotify-bt-icon"></span>',n+='            <span class="spotify-bt-text">'+p+"</span>",n+="        </button>",l&&(n+='                    <div class="spotify-count"><div class="spotify-count-num spotify-front">'+l+"</div></div>"),n+="            </div>",n+="    </div>"}else if(n+='<a href="http://getsoundninja.com" target="_blank"><img class="Logo" width="63" src="'+chrome.extension.getURL("images/sn-logo-white.png")+'"></a>',n+='<h3 class="Artist">'+m+"</h3>",b){n+='<ul class="Genres">';for(var r=0;r<b.length;r++){var s=b[r];n+="<li>"+s+"</li>"}n+="</ul>"}if(c){for(var t="",u=Math.min(5,c.length),v=0;u>v;v++)t+=g.formatTrack(a,(v+u-1)%u,v,(v+1)%u);g.trackEvent("tracks","Preview Source","count",c.length),n+='<ul class="Tracks">',n+=t,n+="</ul>"}if(d&&(n+='<p class="upcomingEvents">Playing nearest you</p>',n+='<ul class="Events">',n+=d,n+="</ul>"),e){for(var w="",x=0;x<e.length;x++){w+=g.formatEvent(e[x],a);break}g.trackEvent("events","Events","count",e.length);for(var x=0;x<e.length;x++)g.trackEvent("events","Events","distance",e[x].distance);n+='<div class="Playing-near-you">',n+='<span class="nearYouText">Playing near you</span>',n+='<span class="Full-schedule"><a href="'+f+'" target="_blank"><i class="icon icon-calendar"></i> Full schedule</a></span>',n+="</div>",n+='<ul class="Events">',n+=w,n+="</ul>"}else n+='<div class="Playing-near-you">',n+='<span class="nearYouText">Playing near you</span>',n+='<span class="Full-schedule"><a href="'+f+'" target="_blank"><i class="icon icon-calendar"></i> Full schedule</a></span>',n+='<div class="gimme5">',n+='<span class="artistName">'+m+'</span> is currently not on tour. Check the <a href="'+f+'" target="_blank">full schedule</a> to find out about future concerts.',n+="</div>",n+="</div>";return n+='<div class="sk-bt">',n+='<img class="skLogo">',n+="</div>",n+="</div>"},g.formatSpotifyContent=function(a,b){for(var d=[],e={},f=0;f<a.tracks.length;f++){var i=a.tracks[f],j={trackId:i.id,artistName:i.artists[0].name,trackName:i.name,trackViewUrl:i.external_urls.spotify,previewUrl:i.preview_url,spotifyId:i.id};i.album.images&&i.album.images.length&&(j.artworkUrl=i.album.images.slice(-1)[0].url),d.push(j),e[j.spotifyId]=j}ARTISTS[b].tracks=d,e&&g.spotifyLogin(!1,function(a){var b=Object.keys(e);c.ajax("https://api.spotify.com/v1/me/tracks/contains",{data:{ids:b.join(",")},headers:{Authorization:"Bearer "+a}}).done(function(a){for(var d=0;d<b.length;d++){var f=b[d];(e[f].spotifyAdded=a[d])&&c("[data-track-add-spotify="+f+"]").addClass("added")}})}),h.trigger("format-tracks-content-complete",b)},g.toNumericDayShortMonth=function(a){var b=["Jan","Feb","Mar"," Apr"," May"," Jun"," Jul"," Aug"," Sep"," Oct"," Nov"," Dec"];return b[a.getMonth()]+" "+a.getDate()};try{(new Date).toLocaleDateString("i")}catch(n){"RangeError"===n.name&&(g.toNumericDayShortMonth=function(a){return a.toLocaleDateString([],{month:"short",day:"numeric"})})}g.formatSongkickContent=function(a,b){if(a=a.resultsPage,a.totalEntries>=50&&console.warn("we should get more pages from songkick for "+b),a=a.results.event){ARTISTS[b].events=[];for(var c=0;c<a.length;c++){var d=a[c],e={},f=new Date(d.start.date);e.date=g.toNumericDayShortMonth(f),e.title=d.displayName.replace(/ \([^)]*\)$/,""),e.city=d.venue.metroArea.displayName;var i=d.venue.metroArea.state,j=d.venue.metroArea.country.displayName;e.province=i?i.displayName+", "+j:j,e.url=d.uri,e.location=d.location,ARTISTS[b].events.push(e)}g.location.done(function(a){function c(a,b,c,d){var e=6371e3,f=a*Math.PI/180,g=c*Math.PI/180,h=(c-a)*Math.PI/180,i=(d-b)*Math.PI/180,j=Math.sin(h/2)*Math.sin(h/2)+Math.cos(f)*Math.cos(g)*Math.sin(i/2)*Math.sin(i/2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),l=e*k;return l}for(var d=0;d<ARTISTS[b].events.length;d++){var e=ARTISTS[b].events[d];e.distance=c(a.location.latitude,a.location.longitude,e.location.lat,e.location.lng)}ARTISTS[b].events.sort(function(a,b){return a.distance-b.distance})})}h.trigger("format-events-content-complete",b)},g.fetchSpotifyContent=function(a,b){c.ajax({url:"https://api.spotify.com/v1/artists/"+b+"/top-tracks",type:"GET",dataType:"json",cache:!0,data:{country:i}}).done(function(b){g.formatSpotifyContent(b,a)}).fail(function(){ARTISTS[a].loaded=!1})},g.fetchSeatGeekContent=function(a){c.ajax("https://api.seatgeek.com/2/events",{data:{q:a}}).done(function(b){function d(b){if(0==b){var d=Object.keys(g),e="";d.sort(function(a,b){return a-b});for(var f=0;f<d.length;f++){var i=d[f],j=g[i];e+="<li>"+a+" is performing "+i/1e3+" km away</li>";for(var k=0;k<j.length;k++){var l=j[k];c.each(l,function(a,b){e+='<li class="'+a+'">'+JSON.stringify(b)+"</li>"})}}ARTISTS[a].seatGeekContent=e,h.trigger("format-seatgeek-content-complete",a)}}function e(a){var b=a.venue.location,c=b.lat,e=b.lon;return function(b){var f=b.coords.latitude,h=b.coords.longitude,j=6371e3,k=c*Math.PI/180,l=f*Math.PI/180,m=(f-c)*Math.PI/180,n=(h-e)*Math.PI/180,o=Math.sin(m/2)*Math.sin(m/2)+Math.cos(k)*Math.cos(l)*Math.sin(n/2)*Math.sin(n/2),p=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),q=j*p;a.distance=q,g[q]=g[q]||[],g[q].push(a),--i,d(i)}}function f(a){switch(a.code){case a.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case a.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case a.TIMEOUT:console.log("The request to get user location timed out.");break;case a.UNKNOWN_ERROR:console.log("An unknown error occurred.")}g[0]=g[0]||[],g[0].push(k),--i,d(i)}for(var g={},i=0,j=0;j<b.events.length;j++){var k=b.events[j];navigator.geolocation&&(++i,navigator.geolocation.getCurrentPosition(e(k),f))}})},g.fetchSongkickContent=function(a){var b=ARTISTS[a].songkickId;ARTISTS[a].eventsCalendar="https://www.songkick.com/artists/"+b+"/calendar",c.ajax({url:"https://soundninja-node-js.herokuapp.com/calendar",data:{songkickId:b,per_page:50}}).done(function(b){g.formatSongkickContent(b,a)})},g.formatTrack=function(a,b,c,d){var e=ARTISTS[a].tracks[c],f={artistName:a,prevTrackIndex:b,trackIndex:c,nextTrackIndex:d,track:e};return g.templates.track(f)},g.formatEvent=function(a,b){var c={event:a,artistName:b,threshold:1e6};return g.templates.event(c)},g.spotifyCallbacks=[],g.spotifyLogin=function(a,b){if(g.storage.spotifyAccessToken&&(new Date).getTime()<g.storage.spotifyExpires)a&&g.trackEvent("login","Spotify","already authorized"),b(g.storage.spotifyAccessToken);else if(g.spotifyCallbacks.push(b),a){g.storage.spotifyAccessToken?g.trackEvent("login","Spotify","re-authorization attempt"):g.trackEvent("login","Spotify","authorization attempt");var c=Math.random(),d=chrome.extension.getURL("thanks.html"),e="https://accounts.spotify.com/authorize?";e+="client_id=9d6d07b8a0c04c83b53fcd21efa0207c&",e+="response_type=token&",e+="redirect_uri="+d+"&",e+="state="+c+"&",e+="scope=user-follow-modify user-follow-read user-library-read user-library-modify user-read-private playlist-read-private playlist-modify-public playlist-modify-private";var f="SoundninjaSpotify",h="menubar=no,status=yes,width=480,height=680",i=window.open(e,f,h),j=window.setInterval(function(){function a(a){var b={};return a.split("&").forEach(function(a){a=a.split("="),b[a[0]]=a[1]}),b}if(i.closed)g.trackEvent("login","Spotify","cancelled"),window.clearInterval(j);else if(0==i.location.href.indexOf(d)){var e=i.location.hash,f=i.location.search;window.clearInterval(j),i.close();var h=e.indexOf(c)>=0,k=f.indexOf(c)>=0;if((h||k)&&(k&&g.trackEvent("login","Spotify","unauthorized"),h))for(g.trackEvent("login","Spotify","authorized"),e=a(e.substr(1)),g.storage.spotifyAccessToken=e.access_token,g.storage.spotifyExpires=(new Date).getTime(),g.storage.spotifyExpires=parseInt(g.storage.spotifyExpires)+1e3*parseInt(e.expires_in);b=g.spotifyCallbacks.shift();)b(g.storage.spotifyAccessToken)}},5e3)}},g.spotifyProfile=function(a){g.spotifyLogin(!0,function(b){g.storage.spotifyUserId?a(b,g.storage.spotifyUserId):c.ajax({url:"https://api.spotify.com/v1/me",headers:{Authorization:"Bearer "+b}}).done(function(c){g.storage.spotifyUserId=c.id,g.trackEvent("country","Spotify",c.country),g.trackEvent("user","Spotify","followers",c.followers.total),g.trackEvent("id","Spotify",c.id),g.trackEvent("product","Spotify",c.product),a(b,g.storage.spotifyUserId)})})},g.resetPlayerExtension=function(){var a=c(".SN-player-extension").css("overflow-y","");a.animate({scrollTop:0}),a.children().css("left","")},g.spotifyPlaylistAddTrack=function(a,b,d,e){c.ajax({url:"https://api.spotify.com/v1/users/"+a+"/playlists/"+b+"/tracks?uris="+d,headers:{Authorization:"Bearer "+e},method:"POST",type:"POST"}).done(function(){g.trackEvent("alter","Spotify","add track to playlist"),g.resetPlayerExtension(),c(".SN-player-toggle-extension").trigger("click")})},g.addPlayer=function(){function a(a){g.trackEvent("track","Player","started"),e=this.getAttribute("data-artist-name"),f=this.getAttribute("data-prev-track-preview"),i=this.getAttribute("data-next-track-preview");var b=this.getAttribute("data-track-preview"),c=ARTISTS[e].tracks[b],d=c.previewUrl;g.addContentToPlayer(c),g.playTrack(d,a)}function b(a){var b=c(a).val(),d="spotify:track:"+c("#snPlayer").find("[data-track-add-spotify]").attr("data-track-add-spotify");g.spotifyProfile(function(a,e){c.ajax({url:"https://api.spotify.com/v1/users/"+e+"/playlists",data:JSON.stringify({name:b,"public":!1}),headers:{Authorization:"Bearer "+a
},contentType:"application/json",method:"POST",type:"POST"}).done(function(b){g.trackEvent("alter","Spotify","create playlist"),g.spotifyPlaylistAddTrack(e,b.id,d,a)})})}c.get(chrome.extension.getURL("images/svgdefs.svg"),function(a){var b=document.createElement("div");b.innerHTML=(new XMLSerializer).serializeToString(a.documentElement),document.body.insertBefore(b,document.body.childNodes[0])});var d=g.templates.player();c("body").append(d);var e,f,i;h.on("click","[data-track-preview]",a),c("#snTrackPlayer").on("ended",function(b){g.trackEvent("track","Player","ended");var d=c('[data-artist-name="'+e+'"][data-track-preview="'+i+'"]').get(0);a.call(d,b)}),h.on("click","[data-track-add-spotify]",function(){var a=this;g.spotifyLogin(!0,function(b){var d=a.getAttribute("data-track-add-spotify");c.ajax({url:"https://api.spotify.com/v1/me/tracks?ids="+d,headers:{Authorization:"Bearer "+b},method:"PUT",type:"PUT",dataType:"text"}).done(function(){g.trackEvent("alter","Spotify","add track to library"),c("[data-track-add-spotify="+d+"]").addClass("added")})})}),h.on("click","#snPlayerClose",function(){g.trackEvent("player","Player","closed"),g.togglePlayer("hide"),c(".SN-player-extension").css("height",0),c(".SN-player-extension").removeClass("active");var a=document.getElementById("snTrackPlayer");a.pause(),a.currentTime=0}),h.on("click",".SN-player-prev",function(b){g.trackEvent("track","Player","prev");var d=c('[data-artist-name="'+e+'"][data-track-preview="'+f+'"]').get(0);a.call(d,b),c(".SN-player-play").trigger("click")}),h.on("click",".SN-player-play",function(){g.trackEvent("track","Player","play");var a=document.getElementById("snTrackPlayer");a.play(),c(this).hide(),c(".SN-player-pause").show(),window.SC&&SC.Widget&&c("iframe").each(function(a,b){setTimeout(function(){var a=SC.Widget(b);a.pause(),a.bind(SC.Widget.Events.PLAY,function(){c(".SN-player-pause").click()})},0)})}),h.on("click",".SN-player-pause",function(){g.trackEvent("track","Player","pause");var a=document.getElementById("snTrackPlayer");a.pause(),c(this).hide(),c(".SN-player-play").show()}),h.on("click",".SN-player-next",function(){g.trackEvent("track","Player","next"),c("#snTrackPlayer").trigger("ended"),c(".SN-player-play").trigger("click")}),h.on("click","#snTipClose",function(){g.trackEvent("click","Tooltip","close"),c(".t_Tooltip").hide()}),h.on("click","[data-purchase-link]",function(a){{var b=c("#snPlayer").data();b.artistName+" - "+b.trackName,a.currentTarget.getAttribute("data-purchase-link")}g.trackEvent("click","Player","purchase")}),h.on("click",".SN-spotify-login",function(a){g.spotifyLogin(!0,function(b){var d=c(a.currentTarget),e=d.data("follow");e&&c.ajax({url:"https://api.spotify.com/v1/me/following?ids="+e+"&type=artist",headers:{Authorization:"Bearer "+b},method:"PUT",type:"PUT"}).done(function(){g.trackEvent("alter","Spotify","follow artist"),d.children(".spotify-bt-text").text("Following")})})}),h.on("click",".SN-player-toggle-extension",function(){var a=c("#snPlayer"),b=c(".SN-player-extension"),d=b.height(),e=0,f=a.outerHeight(),h=a.width();0==d||"0px"==d?(g.trackEvent("click","Player","open extension"),e=b.children(":first").height(),c(".SN-player-extension").addClass("active"),c(".SN-player-toggle-extension").addClass("active")):(g.trackEvent("click","Player","close extension"),c(".SN-player-extension").removeClass("active"),c(".SN-player-toggle-extension").removeClass("active")),b.css({height:e,bottom:f-4,width:h})}),h.on("click",".SN-player-select-action",function(){g.trackEvent("click","Player","copy url");var a=c(this).hide().data("for");c(a).show().each(function(){this.select()})}),h.on("click",".SN-player-spotify-add",function(){var a="spotify:track:"+c("#snPlayer").find("[data-track-add-spotify]").attr("data-track-add-spotify");g.spotifyProfile(function(b,d){c.ajax({url:"https://api.spotify.com/v1/users/"+d+"/playlists",data:{limit:50,offset:0},headers:{Authorization:"Bearer "+b},cache:!1}).done(function(e){g.trackEvent("user","Spotify","playlists",e.total);var f=c(".SN-player-extension-menu-playlists").empty(),h=c('<li class="SN-player-reset-extension SN-clickable"><i class="icon icon-fw icon-angle-left"></i> Back</li>');f.append(h),h=c('<li class="SN-player-spotify-add-new SN-clickable"><i class="icon icon-fw icon-plus"></i> New playlist</li>'),f.append(h);for(var i=0;i<e.items.length;i++){var j=e.items[i];g.trackEvent("user","Spotify","tracks in playlist",j.tracks.total);var k=j.name+" ("+j.tracks.total+")";h=c('<li class="SN-clickable"><i class="icon icon-fw icon-music"></i> '+k+"</li>"),function(c){h.on("click",function(){g.spotifyPlaylistAddTrack(d,c,a,b)})}(j.id),f.append(h)}var l=c(".SN-player-extension");l.children(":nth-child(1)").css("left","-100%"),l.children(":nth-child(2)").css("left",0),l.children(":nth-child(3)").css("left","100%"),setTimeout(function(){l.css("overflow-y","auto")},400)})})}),h.on("click",".SN-player-spotify-add-new",function(){var a=c(".SN-player-extension").css("overflow-y","");a.animate({scrollTop:0}),a.children(":nth-child(1)").css("left","-200%"),a.children(":nth-child(2)").css("left","-100%"),a.children(":nth-child(3)").css("left",0)}),h.on("keypress","#snNewPlaylistName",function(a){(13==a.which||10==a.which)&&b(this)}),h.on("click",".SN-player-spotify-add-new-submit",function(){var a=c(this).data("for");b(a)}),h.on("click",".SN-player-reset-extension",g.resetPlayerExtension)},g.addContentToPlayer=function(a){c("#snPlayer").data({artistName:a.artistName,trackName:a.trackName}),c("#snTrackCoverImage").attr("src",a.artworkUrl),c("#snArtistName").text(a.artistName),c("#snTrackName").text(a.trackName),c('.SN-player-select-action[data-for="#snTrackViewUrl"]').show(),c("#snTrackViewUrl").val(a.trackViewUrl).hide(),c("[data-purchase-link]").attr("href",a.trackViewUrl);var b=c(".SN-player-mymusic-add").removeClass("added");a.spotifyId?(b.attr("data-track-add-spotify",a.spotifyId),a.spotifyAdded&&b.addClass("added"),b.children("img.Partner-logo").attr("src",chrome.extension.getURL("images/add_to_playlist-black.png"))):b.children("img.Partner-logo").attr("src",chrome.extension.getURL("images/itunes-button-small.png"))},g.togglePlayer=function(a){"show"===a?c("#snPlayer").addClass("is-open"):c("#snPlayer").removeClass("is-open")},g.playTrack=function(a){c("#snTrackPlayer").attr("src",a),g.togglePlayer("show"),c(".SN-player-play").trigger("click");var b=c("#snPlayer").data(),d=b.artistName+" - "+b.trackName;g.trackEvent("click","Tooltip Play Button",d)},g.setupAnalaytics=function(){},g.trackEvent=function(a,b,c,d){"undefined"==typeof d&&(d=1),ga("soundninja.send",{hitType:"event",eventCategory:b,eventAction:a,eventLabel:c,eventValue:d})},g.addAdminPanel=function(){"sngod"!=window.location.hash.substring(1)||g.adminLoaded||(e.init(),c("<script src='../build/admin.min.js'>").appendTo("head"),g.adminLoaded=!0)},g.events=function(){h.on("sn-scan-complete",g.setupTooltips),h.on("format-tracks-content-complete",g.addContentToTooltip),h.on("format-seatgeek-content-complete",g.addContentToTooltip),h.on("format-events-content-complete",g.addContentToTooltip)},c(window).on("hashchange",g.addAdminPanel),g.loadCSS=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",chrome.extension.getURL("Soundninja.css")),document.getElementsByTagName("head")[0].appendChild(a)},g.loadSC=function(){c('<script src="https://w.soundcloud.com/player/api.js"></script>').appendTo("head")},g.init=function(){if(window.SoundninjaOpts||(SoundninjaOpts={}),g.setupAnalaytics(),g.events(),g.scan(),g.addPlayer(),g.loadCSS(),g.loadSC(),SoundninjaOpts.monitorSelector){var a=c.fn.html;c.fn.html=function(){a.apply(this,arguments);var b=c(this);b.is(SoundninjaOpts.monitorSelector)&&1==arguments.length&&(c.extend(SoundninjaOpts,{selector:this,selectorFullMatch:!1}),g.scan())}}},window.addEventListener("load",function(){console.log("Soundninja loading"),g.init()})}(jQuery),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(7)["default"],f=c(8)["default"];b.__esModule=!0;var g=c(1),h=e(g),i=c(2),j=f(i),k=c(3),l=f(k),m=c(4),n=e(m),o=c(5),p=e(o),q=c(6),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new l["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(b===!0)return e(this);if(b===!1||null==b)return d(this);if(p(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=f(c.data);g.contextPath=j.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){function c(b,c,e){i&&(i.key=b,i.index=c,i.first=0===c,i.last=!!e,k&&(i.contextPath=k+b)),h+=d(a[b],{data:i,blockParams:j.blockParams([a[b],b],[k+b,null])})}if(!b)throw new l["default"]("Must pass iterator to #each");var d=b.fn,e=b.inverse,g=0,h="",i=void 0,k=void 0;if(b.data&&b.ids&&(k=j.appendContextPath(b.data.contextPath,b.ids[0])+"."),q(a)&&(a=a.call(this)),b.data&&(i=f(b.data)),a&&"object"==typeof a)if(p(a))for(var m=a.length;m>g;g++)c(g,g,g===a.length-1);else{var n=void 0;for(var o in a)a.hasOwnProperty(o)&&(n&&c(n,g-1),n=o,g++);n&&c(n,g-1,!0)}return 0===g&&(h=e(this)),h}),a.registerHelper("if",function(a,b){return q(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||j.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){q(a)&&(a=a.call(this));var c=b.fn;if(j.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=f(b.data);d.contextPath=j.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}function f(a){var b=j.extend({},a);return b._parent=a,b}var g=c(7)["default"],h=c(8)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d,b.createFrame=f;var i=c(4),j=g(i),k=c(3),l=h(k),m="3.0.1";b.VERSION=m;var n=6;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=o;var p=j.isArray,q=j.isFunction,r=j.toString,s="[object Object]";d.prototype={constructor:d,logger:t,log:u,registerHelper:function(a,b){if(r.call(a)===s){if(b)throw new l["default"]("Arg not supported with multiple helpers");j.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(r.call(a)===s)j.extend(this.partials,a);else{if("undefined"==typeof b)throw new l["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var t={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,b){if("undefined"!=typeof console&&t.level<=a){var c=t.methodMap[a];(console[c]||console.log).call(console,b)}}};b.logger=t;var u=t.log;b.log=u},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a){return j[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return l.test(a)?a.replace(k,c):a}function g(a){return a||0===a?o(a)&&0===a.length?!0:!1:!0}function h(a,b){return a.path=b,a}function i(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.blockParams=h,b.appendContextPath=i;var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=/[&<>"'`]/g,l=/[&<>"'`]/,m=Object.prototype.toString;b.toString=m;var n=function(a){return"function"==typeof a};n(/x/)&&(b.isFunction=n=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)});var n;b.isFunction=n;var o=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===m.call(a):!1};b.isArray=o},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=q.COMPILER_REVISION;if(b!==c){if(c>b){var d=q.REVISION_CHANGES[c],e=q.REVISION_CHANGES[b];throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=n.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new p["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){var c=void 0===arguments[1]?{}:arguments[1],f=c.data;d._setup(c),!c.partial&&a.useData&&(f=j(b,f));var g=void 0,h=a.useBlockParams?[]:void 0;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(e,b,e.helpers,e.partials,f,h,g)}if(!b)throw new p["default"]("No environment passed to template");if(!a||!a.main)throw new p["default"]("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new p["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:n.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=n.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new p["default"]("must pass block params");if(a.useDepths&&!g)throw new p["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=void 0===arguments[1]?{}:arguments[1];return c.call(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),g&&[b].concat(g))}return h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=c.partials[c.name],a}function h(a,b,c){if(c.partial=!0,void 0===a)throw new p["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?q.createFrame(b):{},b.root=a),b}var k=c(7)["default"],l=c(8)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var m=c(4),n=k(m),o=c(3),p=l(o),q=c(1)},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){b.Handlebars===a&&(b.Handlebars=d)}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if("object"==typeof a&&null!==a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0}])}),Handlebars.registerHelper("closeEvent",function(a,b,c){return b>a?c.fn(this):c.inverse(this)}),this.SN=this.SN||{},this.SN.templates=this.SN.templates||{},this.SN.templates.event=Handlebars.template({1:function(a){var b,c=this.lambda,d=this.escapeExpression;return'        <div class="Event">\n            <div class="Event-date">'+d(c(null!=(b=null!=a?a.event:a)?b.date:b,a))+'</div>\n            <div class="Event-title"><a href="'+d(c(null!=(b=null!=a?a.event:a)?b.url:b,a))+'" target="_blank">'+d(c(null!=(b=null!=a?a.event:a)?b.title:b,a))+'</a></div>\n            <div class="Event-location">'+d(c(null!=(b=null!=a?a.event:a)?b.city:b,a))+", "+d(c(null!=(b=null!=a?a.event:a)?b.province:b,a))+"</div>\n        </div>\n"},3:function(a,b,c,d){var e,f,g=this.escapeExpression;return'        <span class="artistName">'+g((f=null!=(f=b.artistName||(null!=a?a.artistName:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"artistName",hash:{},data:d}):f))+'</span> is currently not on tour near you.\n        Check the <a href="'+g(this.lambda(null!=(e=null!=a?a.event:a)?e.url:e,a))+'" target="_blank">full schedule</a> to find their concerts in other cities.\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return"<li>\n"+(null!=(e=(b.closeEvent||a&&a.closeEvent||b.helperMissing).call(a,null!=(e=null!=a?a.event:a)?e.distance:e,null!=a?a.threshold:a,{name:"closeEvent",hash:{},fn:this.program(1,d,0),inverse:this.program(3,d,0),data:d}))?e:"")+"</li>"},useData:!0}),this.SN.templates.player=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="SN-player" id="snPlayer">\n    <div class="SN-player-front-panel">\n        <span class="SN-player-close SN-clickable" id="snPlayerClose"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg></span>\n        <div class="SN-player-col-b">\n            <div class="SN-player-trackData">\n                <svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-spotify" /></svg>\n                <a data-purchase-link="2" target="spotify" class="SN-clickable">\n                    <span id="snArtistName"></span> &ndash; <span id="snTrackName"></span>\n                </a>\n            </div>\n        </div>\n        <div class="SN-player-controlbar">\n            <span class="SN-player-mymusic-add SN-clickable">\n                <svg class="icon add" viewBox="0 0 100 100"><use xlink:href="#icon-plus" /></svg>\n                <svg class="icon added" viewBox="0 0 100 100"><use xlink:href="#icon-ok" /></svg>\n                <svg class="icon remove" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg>\n            </span>\n            <span class="SN-player-prev SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-last" /></svg></span>\n            <span class="SN-player-play SN-clickable" style="display: none;"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-play"/></svg></span> \n            <span class="SN-player-pause SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-pause" /></svg></span>\n            <span class="SN-player-next SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-next" /></svg></span>\n            <audio class="SN-player-controls" id="snTrackPlayer" src="" autoplay>Sorry your browser is not supported\n            </audio>\n            <span class="SN-player-toggle-extension SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-dots" /></svg></span>\n        </div>\n    </div>\n</div>\n<div class="SN-player-extension">\n    <ul class="SN-player-extension-menu SN-player-extension-menu-top">\n        <li class="SN-player-spotify-add SN-clickable"><i class="icon icon-fw icon-music"></i> Add to playlist</li>\n        <li>\n            <div class="SN-player-select-action SN-clickable" data-for="#snTrackViewUrl"><i class="icon icon-fw icon-link"></i> Copy spotify URL</div>\n            <input id="snTrackViewUrl" readonly style="width: 100%">\n        </li>\n        <li><i class="icon icon-fw icon-help"></i> Feedback</li>\n    </ul>\n    <ul class="SN-player-extension-menu SN-player-extension-menu-playlists">\n    </ul>\n    <ul class="SN-player-extension-menu SN-player-extension-menu-playlist-new">\n        <li class="SN-player-spotify-add SN-clickable"><i class="icon icon-fw icon-angle-left"></i> Add to existing playlist</li>\n        <li>\n            <input id="snNewPlaylistName" placeholder="Playlist name" style="width: 50%;">\n            <button class="SN-player-spotify-add-new-submit SN-spotify-button" data-for="#snNewPlaylistName">Create</button>\n        </li>\n    </ul>\n</div>'},useData:!0}),this.SN.templates.track=Handlebars.template({1:function(){return"added "},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=this.lambda,h=this.escapeExpression,i=b.helperMissing,j="function";return'<li>\n    <span class="Track-icon add '+(null!=(e=b["if"].call(a,null!=(e=null!=a?a.track:a)?e.spotifyAdded:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'icon" data-track-add-spotify="'+h(g(null!=(e=null!=a?a.track:a)?e.spotifyId:e,a))+'">\n                <svg class="icon plus" viewBox="0 0 100 100"><use xlink:href="#icon-plus" /></svg>\n                <svg class="icon ok" viewBox="0 0 100 100"><use xlink:href="#icon-ok" /></svg>\n                <svg class="icon remove" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg>\n    </span>\n    <p class="Track-title Track-previewLink SN-clickable" data-prev-track-preview="'+h((f=null!=(f=b.prevTrackIndex||(null!=a?a.prevTrackIndex:a))?f:i,typeof f===j?f.call(a,{name:"prevTrackIndex",hash:{},data:d}):f))+'" data-track-preview="'+h((f=null!=(f=b.trackIndex||(null!=a?a.trackIndex:a))?f:i,typeof f===j?f.call(a,{name:"trackIndex",hash:{},data:d}):f))+'" data-next-track-preview="'+h((f=null!=(f=b.nextTrackIndex||(null!=a?a.nextTrackIndex:a))?f:i,typeof f===j?f.call(a,{name:"nextTrackIndex",hash:{},data:d}):f))+'" title="Click to preview this song..." data-artist-name="'+h((f=null!=(f=b.artistName||(null!=a?a.artistName:a))?f:i,typeof f===j?f.call(a,{name:"artistName",hash:{},data:d}):f))+'">\n      <span class="SNplay-icon">\n          <svg class="icon play" viewBox="0 0 100 100"><use xlink:href="#icon-play" /></svg>\n      </span>\n      '+h(g(null!=(e=null!=a?a.track:a)?e.trackName:e,a))+"\n    </p>\n</li>\n\n\n"},useData:!0});
//# sourceMappingURL=Soundninja.min.js.map