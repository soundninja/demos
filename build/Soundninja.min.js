/*! Soundninja 2015-06-10 */

!function(jQuery){var $=jQuery;!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-61781353-1","auto",{name:"soundninja"}),ga("soundninja.send","pageview"),jQuery.extend({highlight:function(a,b,c,d){if(3===a.nodeType){var e=a.data.replace("é","e").match(b);if(e){var f=document.createElement(c||"span");f.className=d||"highlight";var g=a.splitText(e.index);g.splitText(e[0].length);var h=g.cloneNode(!0);return f.appendChild(h),g.parentNode.replaceChild(f,g),1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&(a.tagName!==c.toUpperCase()||a.className!==d))for(var i=0;i<a.childNodes.length;i++)i+=jQuery.highlight(a.childNodes[i],b,c,d);return 0}}),jQuery.fn.unhighlight=function(a){var b={className:"highlight",element:"span"};return jQuery.extend(b,a),this.find(b.element+"."+b.className).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()},jQuery.fn.highlight=function(a,b){var c={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,fullMatch:!1};if(jQuery.extend(c,b),a.constructor===String&&(a=[a]),a=jQuery.grep(a,function(a){return""!=a}),a=jQuery.map(a,function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==a.length)return this;var d=c.caseSensitive?"":"i",e="("+a.join("|")+")";c.wordsOnly&&(e="\\b"+e+"\\b"),c.fullMatch&&(e="^"+e+"$"),e=e.replace("é","e");var f=new RegExp(e,d);return this.each(function(){jQuery.highlight(this,f,c.element,c.className)})};var Spinners={version:"3.0.0"};!function(a){function b(a){return a*Math.PI/180}function c(a){this.element=a}function d(b,c){b&&(this.element=b,h.remove(b),h.removeDetached(),this._position=0,this._state="stopped",this.setOptions(a.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},c||{})),this.drawPosition(0),h.add(this))}var e={scroll:function(a,b){if(!b)return a;var c=a.slice(0,b);return a.slice(b,a.length).concat(c)},isElement:function(a){return a&&1==a.nodeType},element:{isAttached:function(){return function(a){for(;a&&a.parentNode;)a=a.parentNode;return!!a&&!!a.body}}()}},f={drawRoundedRectangle:function(c,d){var e=a.extend({top:0,left:0,width:0,height:0,radius:0},d||{}),f=e.left,g=e.top,h=e.width,i=e.height,e=e.radius;c.beginPath(),c.moveTo(f+e,g),c.arc(f+h-e,g+e,e,b(-90),b(0),!1),c.arc(f+h-e,g+i-e,e,b(0),b(90),!1),c.arc(f+e,g+i-e,e,b(90),b(180),!1),c.arc(f+e,g+e,e,b(-180),b(-90),!1),c.closePath(),c.fill()}},g=function(){function a(a){var c=[];if(0==a.indexOf("#")&&(a=a.substring(1)),a=a.toLowerCase(),""!=a.replace(b,""))return null;for(3==a.length?(c[0]=a.charAt(0)+a.charAt(0),c[1]=a.charAt(1)+a.charAt(1),c[2]=a.charAt(2)+a.charAt(2)):(c[0]=a.substring(0,2),c[1]=a.substring(2,4),c[2]=a.substring(4)),a=0;a<c.length;a++)c[a]=parseInt(c[a],16);return c.red=c[0],c.green=c[1],c.blue=c[2],c}var b=RegExp("[0123456789abcdef]","g"),c=function(){function a(a,b,c){return a=a.toString(c||10),Array(b-a.length).join("0")+a}return function(b,c,d){return"#"+a(b,2,16)+a(c,2,16)+a(d,2,16)}}();return{hex2rgb:a,hex2fill:function(b,c){"undefined"==typeof c&&(c=1);var d=c,e=a(b);return e[3]=d,e.opacity=d,"rgba("+e.join()+")"},rgb2hex:c}}();a.extend(Spinners,{enabled:!1,support:{canvas:function(){var b=a("<canvas>")[0];return!!b.getContext&&!!b.getContext("2d")}()},init:function(){(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&-1===navigator.userAgent.indexOf("Opera"))&&(window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0)},create:function(a,b){return c.create(a,b),this.get(a)},get:function(a){return new c(a)},play:function(a){return this.get(a).play(),this},pause:function(a){return this.get(a).pause(),this},toggle:function(a){return this.get(a).toggle(),this},stop:function(a){return this.get(a).stop(),this},remove:function(a){return this.get(a).remove(),this},removeDetached:function(){return h.removeDetached(),this},center:function(a){return this.get(a).center(),this},setOptions:function(a,b){return this.get(a).setOptions(b),this},getDimensions:function(a){return a=2*h.get(a)[0].getLayout().workspace.radius,{width:a,height:a}}});var h={spinners:[],get:function(b){if(b){var c=[];return a.each(this.spinners,function(d,f){f&&(e.isElement(b)?f.element==b:a(f.element).is(b))&&c.push(f)}),c}},add:function(a){this.spinners.push(a)},remove:function(b){a(a.map(this.spinners,function(c){return(e.isElement(b)?c.element==b:a(c.element).is(b))?c.element:void 0})).each(a.proxy(function(a,b){this.removeByElement(b)},this))},removeByElement:function(b){var c=this.get(b)[0];c&&(c.remove(),this.spinners=a.grep(this.spinners,function(a){return a.element!=b}))},removeDetached:function(){a.each(this.spinners,a.proxy(function(a,b){b&&b.element&&!e.element.isAttached(b.element)&&this.remove(b.element)},this))}};a.extend(c,{create:function(b,c){if(b){var f=c||{},g=[];return e.isElement(b)?g.push(new d(b,f)):a(b).each(function(a,b){g.push(new d(b,f))}),g}}}),a.extend(c.prototype,{items:function(){return h.get(this.element)},play:function(){return a.each(this.items(),function(a,b){b.play()}),this},stop:function(){return a.each(this.items(),function(a,b){b.stop()}),this},pause:function(){return a.each(this.items(),function(a,b){b.pause()}),this},toggle:function(){return a.each(this.items(),function(a,b){b.toggle()}),this},center:function(){return a.each(this.items(),function(a,b){b.center()}),this},setOptions:function(b){return a.each(this.items(),function(a,c){c.setOptions(b)}),this},remove:function(){return h.remove(this.element),this}}),a.extend(d.prototype,{setOptions:function(b){this.options=a.extend({},this.options,b||{}),this.options.radii&&(b=this.options.radii,this.options.radius=Math.min(b[0],b[1]),this.options.height=Math.max(b[0],b[1])-this.options.radius),this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);var b=this._state,c=this._position;switch(this._layout=null,this.build(),c&&c>=this.options.dashes-1&&(this._position=this.options.dashes-1),b){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),a(this.canvas).remove(),this.ctx=this.canvas=null)},build:function(){this.remove();var b=this.getLayout().workspace.radius;return a(document.body).append(this.canvas=a("<canvas>").attr({width:2*b,height:2*b}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,a(this.element).append(this.canvas),this.ctx.translate(b,b),this},drawPosition:function(a){var c=this.getLayout().workspace,a=e.scroll(c.opacities,-1*a),d=c.radius,c=this.options.dashes,f=b(360/c);for(this.ctx.clearRect(-1*d,-1*d,2*d,2*d),d=0;c>d;d++)this.drawDash(a[d],this.options.color),this.ctx.rotate(f)},drawDash:function(a,b){this.ctx.fillStyle=g.hex2fill(b,a);var c=this.getLayout(),d=c.workspace.radius,e=c.dash.position,c=c.dash.dimensions;f.drawRoundedRectangle(this.ctx,{top:e.top-d,left:e.left-d,width:c.width,height:c.height,radius:Math.min(c.height,c.width)/2})},_nextPosition:function(){var b=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout(a.proxy(this._nextPosition,this),b)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var b=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout(a.proxy(this._nextPosition,this),b),this}},pause:function(){return"paused"!=this._state?(this._pause(),this._state="paused",this):void 0},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){return"stopped"!=this._state?(this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this):void 0},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;for(var a=this.options,b=a.dashes,c=a.width,d=a.radius,e=a.radius+a.height,f=Math.max(c,e),f=Math.ceil(Math.max(f,Math.sqrt(e*e+c/2*(c/2)))),a=f+=a.padding,g=1/b,h=[],i=0;b>i;i++)h.push((i+1)*g);return this._layout=b={workspace:{radius:a,opacities:h},dash:{position:{top:f-e,left:f-c/2},dimensions:{width:c,height:e-d}}}},center:function(){var b=2*this.getLayout().workspace.radius;a(this.element.parentNode).css({position:"relative"}),a(this.element).css({position:"absolute",height:b+"px",width:b+"px",top:"50%",left:"50%",marginLeft:-.5*b+"px",marginTop:-.5*b+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(c.create=function(){return[]})}(jQuery);var Tipped={version:"3.2.0"};Tipped.Skins={base:{afterUpdate:!1,ajax:{cache:!0,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:180,fadeOut:220,showDelay:75,hideDelay:25,radius:{size:5,position:"background"},hideAfter:!1,hideOn:{element:"self",event:"mouseleave"},hideOthers:!1,hook:"topleft",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:.12},showOn:"mousemove",spinner:!0,stem:{height:9,width:18,offset:{x:9,y:9},spacing:2},target:"self"},reset:{ajax:!1,closeButton:!1,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:!0},dark:{background:{color:"#121314"},border:{color:"#9b9b9b",opacity:.4,size:1},shadow:{opacity:.02},spinner:{color:"#fff"}},light:{background:{color:"#fff"},border:{color:"#646464",opacity:.4,size:1},shadow:{opacity:.04}},gray:{background:{color:[{position:0,color:"#8f8f8f"},{position:1,color:"#808080"}]},border:{color:"#131313",size:1,opacity:.6}},tiny:{background:{color:"#161616"},border:{color:"#969696",opacity:.35,size:1},fadeIn:0,fadeOut:0,radius:4,stem:{width:11,height:6,offset:{x:6,y:6}},shadow:!1,spinner:{color:"#fff"}},yellow:{background:"#ffffaa",border:{size:1,color:"#6d5208",opacity:.4}},red:{background:{color:[{position:0,color:"#e13c37"},{position:1,color:"#e13c37"}]},border:{size:1,color:"#150201",opacity:.6},spinner:{color:"#fff"}},green:{background:{color:[{position:0,color:"#4bb638"},{position:1,color:"#4aab3a"}]},border:{size:1,color:"#122703",opacity:.6},spinner:{color:"#fff"}},blue:{background:{color:[{position:0,color:"#4588c8"},{position:1,color:"#3d7cb9"}]},border:{color:"#020b17",opacity:.6},spinner:{color:"#fff"}}},function(a){a.extend(Tipped.Skins,{black:a.extend(!0,{},Tipped.Skins.dark,{radius:0}),white:a.extend(!0,{},Tipped.Skins.light,{radius:0})})}(jQuery),Tipped.Skins.CloseButtons={base:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:.46,color:"#171717"},{position:.53,color:"#121212"},{position:.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},hover:{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:1,color:"#000",offset:{x:0,y:0},opacity:.5}},reset:{},"default":{},light:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:.48,color:"#717171"},{position:.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:.95},border:{color:"#676767",opacity:1}},hover:{background:{color:[{position:0,color:"#868686"},{position:.48,color:"#7f7f7f"},{position:.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}},eval(function(a,b,c,d,e,f){if(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}('!12(a){12 c(a,b){13 c=[a,b];1a c.15=a,c.17=b,c}12 f(a){1I.5z&&5z[5z.6F?"6F":"8j"](a)}12 j(a){11.1g=a}12 k(a){13 b={};28(13 c 5A a)b[c]=a[c]+"2y";1a b}12 l(a,b){1a 1b.8k(a*a+b*b)}12 m(a){1a 2F*a/1b.30}12 n(a){1a a*1b.30/2F}12 o(a){1a 1/1b.4G(a)}12 v(b){1f(b){11.1g=b,u.1y(b);13 c=11.2e();11.19=a.1k({},c.19),11.2z=1,11.1o={},11.1V=a(b).1X("2s-1V"),u.31(11),11.29=11.19.1u.1D,11.6G=11.19.1l&&11.29,11.3d={x:0,y:0},11.3n={17:0,15:0},11.1P()}}12 x(b,c){11.1g=b,11.1g&&c&&(11.19=a.1k({32:3,1A:{x:0,y:0},1Q:"#4H",1L:.5,2M:1},20[2]||{}),11.2z=11.19.2M,11.1o={},11.1V=a(b).1X("2s-1V"),w.31(11),11.1P())}12 z(b){11.1g=b,11.1g&&(11.19=a.1k({32:5,1A:{x:0,y:0},1Q:"#4H",1L:.5,2M:1},20[1]||{}),11.2z=11.19.2M,11.1V=a(b).1X("2s-1V"),y.31(11),11.1P())}12 A(b,c){28(13 d 5A c)c[d]&&c[d].3G&&c[d].3G===5B?(b[d]=a.1k({},b[d])||{},A(b[d],c[d])):b[d]=c[d];1a b}12 C(b,c){1f(11.1g=b,11.1g){13 e=a(b).1X("2s-1V");e&&B.1y(b),e=h(),a(b).1X("2s-1V",e),11.1V=e;13 f;"8l"!=a.1p(c)||d.2k(c)?f=20[2]||{}:(f=c,c=1r),11.19=B.6H(f);13 g=b.6I("5C");1f(!c){13 i=b.6I("1X-2s");i?c=i:g&&(c=g)}g&&(a(b).1X("5D",g),b.8m("5C","")),11.2G=c,11.2l=11.19.2l||+B.19.4I,11.1o={2H:{14:1,18:1},5E:[],3e:[],2t:{4J:!1,2m:!1,1M:!1,3f:!1,1P:!1,4K:!1,5F:!1,3H:!1},5G:""};13 j=11.19.1C;11.1C="2N"==j?"2N":"4L"!=j&&j?d.2k(j)?j:j&&1x.6J(j)||11.1g:11.1g,11.6K(),B.31(11)}}13 b=6L.3I.8n,d={8o:12(c,d){13 e=c;1a 12(){13 c=[a.1v(e,11)].6M(b.5H(20));1a d.5I(11,c)}},2k:12(a){1a a&&1==a.8p},4M:12(a,c){13 d=b.5H(20,2);1a 8q(12(){1a a.5I(a,d)},c)},46:12(a){1a d.4M.5I(11,[a,1].6M(b.5H(20,1)))},5J:12(a){1a{x:a.5K,y:a.6N}},1g:{4N:12(a){13 b=0,d=0;8r b+=a.4O||0,d+=a.4P||0,a=a.4Q;8s(a);1a c(d,b)},4R:12(b){13 e=a(b).1A(),f=d.1g.4N(b),g={17:a(1I).4O(),15:a(1I).4P()};1a e.15+=f.15-g.15,e.17+=f.17-g.17,c(e.15,e.17)},4S:12(){12 a(a){28(13 b=a;b&&b.4Q;)b=b.4Q;1a b}1a 12(b){13 c=a(b);1a!(!c||!c.33)}}()}},e=12(a){12 b(b){13 c=2I 5L(b+"([\\\\d.]+)").8t(a);1a c?5M(c[1]):!0}1a{3o:!(!1I.8u||-1!==a.3p("5N"))&&b("8v "),5N:a.3p("5N")>-1&&(!!1I.5O&&5O.6O&&5M(5O.6O())||7.55),5P:a.3p("6P/")>-1&&b("6P/"),4T:a.3p("4T")>-1&&-1===a.3p("8w")&&b("8x:"),6Q:!!a.3g(/8y.*8z.*8A/),4U:a.3p("4U")>-1&&b("4U/")}}(8B.8C),g={34:{47:{5Q:"1.4.4",5R:1I.47&&47.8D.8E}},6R:12(){12 b(b){28(13 c=b.3g(a),d=c&&c[1]&&c[1].2O(".")||[],e=0,f=0,g=d.2a;g>f;f++)e+=2P(d[f]*1b.6S(10,6-2*f));1a c&&c[3]?e-1:e}13 a=/^(\\d+(\\.?\\d+){0,3})([A-6T-8F-]+[A-6T-8G-9]+)?/;1a 12(a){11.34[a].6U||(11.34[a].6U=!0,(!11.34[a].5R||b(11.34[a].5R)<b(11.34[a].5Q)&&!11.34[a].6V)&&(11.34[a].6V=!0,f("1R 8H "+a+" >= "+11.34[a].5Q)))}}()},h=12(){13 a=0,b="8I";1a 12(c){28(c=c||b,a++;1x.6J(c+a);)a++;1a c+a}}(),i=12(){13 b=[];1a{1t:12(c){28(13 d=1r,e=0;e<b.2a;e++)b[e]&&b[e].48==c.48&&b[e].1p.6W()==c.1p.6W()&&a.6X(b[e].1X||{})==a.6X(c.1X||{})&&(d=b[e].4V);1a d},4W:12(c,d){11.1y(c.48),b.2n(a.1k({},c,{4V:d}))},1y:12(a){28(13 c=0;c<b.2a;c++)b[c]&&b[c].48==a&&3J b[c]},6Y:12(){b=[]}}}();a.1k(1R,12(){1a{2A:{3h:12(){13 a=1x.22("3h");1a!(!a.3q||!a.3q("2d"))}(),3r:12(){6Z{1a!!("8J"5A 1I||1I.70&&1x 8K 70)}71(a){1a!1}}(),49:12(){13 b=["8L","72","8M"],c=!!1I.72;1a a.1w(b,12(a,b){6Z{1x.8N(b),c=!0}71(d){}}),c}()},3s:12(){(11.2A.3h||e.3o)&&(g.6R("47"),B.3t.1i&&(B.3t.1i.1y(),B.3t.1i=1r),a(1x).8O(12(){B.73(),B.74()}))},4X:12(a,b,c){1a j.4X(a,b,c),11.1t(a)},1t:12(a){1a 2I j(a)},5S:12(a){1a B.5S(a)},1W:12(a){1a 11.1t(a).1W(),11},1J:12(a){1a 11.1t(a).1J(),11},35:12(a){1a 11.1t(a).35(),11},2Q:12(a){1a 11.1t(a).2Q(),11},1y:12(a){1a 11.1t(a).1y(),11},4Y:12(){1a B.4Y(),11},5T:12(a){1a B.5T(a),11},5U:12(a){1a B.5U(a),11},1M:12(b){1f(d.2k(b))1a B.5V(b);1f("5W"!=a.1p(b)){13 c=a(b),e=0;1a a.1w(c,12(a,b){B.5V(b)&&e++}),e}1a B.3K().2a},5X:12(){1a B.5X(),11}}}()),a.1k(j,{4X:12(b,c){1f(b){13 e=20[2]||{},f=[];1a B.75(),d.2k(b)?f.2n(2I C(b,c,e)):a(b).1w(12(a,b){f.2n(2I C(b,c,e))}),f}}}),a.1k(j.3I,{4a:12(){1a B.2f.4Z={x:0,y:0},B.1t(11.1g)},1W:12(){1a a.1w(11.4a(),12(a,b){b.1W()}),11},1J:12(){1a a.1w(11.4a(),12(a,b){b.1J()}),11},35:12(){1a a.1w(11.4a(),12(a,b){b.35()}),11},2Q:12(){1a a.1w(11.4a(),12(a,b){b.2Q()}),11},1y:12(){1a B.1y(11.1g),11}});13 p={51:12(){13 b;1a b=e.6Q?{14:1I.5Y,18:1I.5Z}:{18:a(1I).18(),14:a(1I).14()}}},q={3u:1b.1E(1b.52(1I.3u?5M(1I.3u)||1:1,2)),3s:12(){12 a(a){13 b=a.3q("2d");b.8P(q.3u,q.3u)}1a 1I.53&&!1R.2A.3h&&e.3o?12(b){53.8Q(b),a(b)}:12(b){a(b)}}(),3v:12(b,c){a(b).3i({14:c.14*11.3u,18:c.18*11.3u}).1q(k(c))},76:12(b){13 c=a.1k({17:0,15:0,14:0,18:0,1n:0},20[1]||{}),d=c,e=d.15,f=d.17,g=d.14,h=d.18,i=d.1n;1a i?(b.2g(),b.3w(e+i,f),b.26(e+g-i,f+i,i,n(-90),n(0),!1),b.26(e+g-i,f+h-i,i,n(0),n(90),!1),b.26(e+i,f+h-i,i,n(90),n(2F),!1),b.26(e+i,f+i,i,n(-2F),n(-90),!1),b.2h(),b.36(),3x 0):(b.77(e,f,g,h),3x 0)},8R:12(b,c){28(13 d=a.1k({x:0,y:0,1Q:"#4H"},20[2]||{}),e=0,f=c.2a;f>e;e++)28(13 g=0,h=c[e].2a;h>g;g++){13 i=2P(c[e].3y(g))*(1/9);b.2R=t.2S(d.1Q,i),i&&b.77(d.x+g,d.y+e,1,1)}},4b:12(b,c){13 d;1f("2u"==a.1p(c))d=t.2S(c);1G 1f("2u"==a.1p(c.1Q))d=t.2S(c.1Q,"2B"==a.1p(c.1L)?c.1L:1);1G 1f(a.78(c.1Q)){13 e=a.1k({3L:0,3M:0,3N:0,3O:0},20[2]||{});d=q.79.7a(b.8S(e.3L,e.3M,e.3N,e.3O),c.1Q,c.1L)}1a d}};q.79={7a:12(b,c){28(13 d="2B"==a.1p(20[2])?20[2]:1,e=0,f=c.2a;f>e;e++){13 g=c[e];("5W"==a.1p(g.1L)||"2B"!=a.1p(g.1L))&&(g.1L=1),b.8T(g.1e,t.2S(g.1Q,g.1L*d))}1a b}};13 r={7b:["3P","4c","3Q","3R","4d","4e","4f","4g","4h","4i","4j","3S"],4k:{7c:/^(17|15|1S|1O)(17|15|1S|1O|2v|2T)$/,1K:/^(17|1S)/,37:/(2v|2T)/,7d:/^(17|1S|15|1O)/},7e:12(){13 a={17:"18",15:"14",1S:"18",1O:"14"};1a 12(b){1a a[b]}}(),37:12(a){1a!!a.3z().3g(11.4k.37)},7f:12(a){1a!11.37(a)},2J:12(a){1a a.3z().3g(11.4k.1K)?"1K":"2b"},60:12(a){13 b=1r,c=a.3z().3g(11.4k.7d);1a c&&c[1]&&(b=c[1]),b},2O:12(a){1a a.3z().3g(11.4k.7c)}},s={61:12(a){13 b=a.19.1l;1a{14:b.14,18:b.18}},4l:12(b,c){13 d=a.1k({3T:"1E"},20[2]||{}),e=b.19.1l,f=e.14,g=e.18,h=11.54(f,g,c);1a d.3T&&(h.14=1b[d.3T](h.14),h.18=1b[d.3T](h.18)),{14:h.14,18:h.18}},54:12(a,b,c){13 d=m(1b.7g(.5*(b/a))),e=2F-d,f=1b.4G(n(e-90))*c,g=a+2*f,h=g*b/a;1a{14:g,18:h}},3U:12(a,b){13 c=11.4l(a,b),d=11.61(a),f=(r.37(a.29),1b.1E(c.18+b));1a a.19.1l.1A||0,a.19.1n&&a.19.1n.2w||0,{2C:{1c:{14:1b.1E(c.14),18:1b.1E(f)}},1j:{1c:c},1l:{1c:{14:d.14,18:d.18}}}},62:12(b,c,d){13 f=b.19,g={17:0,15:0},h={17:0,15:0},i=a.1k({},c),j=b.1j,k=k||11.3U(b,b.1j),l=k.2C.1c;d&&(l.18=d,j=0);13 m=r.2O(b.29),n=r.2J(b.29);1f(b.19.1l){13 o=r.60(b.29);1f("17"==o?g.17=l.18-j:"15"==o&&(g.15=l.18-j),"1K"==n){1T(m[2]){1h"2v":1h"2T":h.15=.5*i.14;1B;1h"1O":h.15=i.14}"1S"==m[1]&&(h.17=i.18-j+l.18)}1G{1T(m[2]){1h"2v":1h"2T":h.17=.5*i.18;1B;1h"1S":h.17=i.18}"1O"==m[1]&&(h.15=i.14-j+l.18)}i[r.7e(o)]+=l.18-j}1G 1f("1K"==n){1T(m[2]){1h"2v":1h"2T":h.15=.5*i.14;1B;1h"1O":h.15=i.14}"1S"==m[1]&&(h.17=i.18)}1G{1T(m[2]){1h"2v":1h"2T":h.17=.5*i.18;1B;1h"1S":h.17=i.18}"1O"==m[1]&&(h.15=i.14)}13 p=f.1n&&f.1n.2w||0,q=f.1j&&f.1j.2w||0;1f(b.19.1l){13 t=p&&"1m"==f.1n.1e?p:0,u=p&&"1j"==f.1n.1e?p:p+q,v=q+t+.5*k.1l.1c.14-.5*k.1j.1c.14,w=u>v?u-v:0,x=1b.1E(q+t+.5*k.1l.1c.14+w);1f("1K"==n)1T(m[2]){1h"15":h.15+=x;1B;1h"1O":h.15-=x}1G 1T(m[2]){1h"17":h.17+=x;1B;1h"1S":h.17-=x}}13 y;1f(f.1l&&(y=f.1l.1A)){13 z=s.63(y,b.6G,c,k.1j.1c,q,p);1f(y=z.1A,z.4m,"1K"==n)1T(m[2]){1h"15":h.15+=y.x;1B;1h"1O":h.15-=y.x}1G 1T(m[2]){1h"17":h.17+=y.y;1B;1h"1S":h.17-=y.y}}13 B;1f(f.1l&&(B=f.1l.8U))1f("1K"==n)1T(m[1]){1h"17":h.17-=B;1B;1h"1S":h.17+=B}1G 1T(m[1]){1h"15":h.15-=B;1B;1h"1O":h.15+=B}1a{1c:i,1e:{17:0,15:0},1m:{1e:g,1c:c},1l:{1c:l},2K:h}},63:12(b,c,d,e,f,g){13 h=r.2J(c),i=a.1k({},b),j={x:0,y:0},k=0;1a"1K"==h&&(k=d.14-e.14-2*f-2*g)<2*b.x&&(j.x=i.x,/(1O)$/.3j(c)&&(j.x*=-1),i.x=0),"2b"==h&&(k=d.18-e.18-2*f-2*g)<2*b.y&&(j.y=i.y,/(1S)$/.3j(c)&&(j.y*=-1),i.y=0),{1A:i,4m:j}}},t=12(){12 d(a){13 b=a;1a b.7h=a[0],b.7i=a[1],b.7j=a[2],b}12 e(a){1a 2P(a,16)}12 f(a){13 b=2I 6L(3);1f(0==a.3p("#")&&(a=a.56(1)),a=a.3z(),""!=a.64(c,""))1a 1r;3==a.2a?(b[0]=a.3y(0)+a.3y(0),b[1]=a.3y(1)+a.3y(1),b[2]=a.3y(2)+a.3y(2)):(b[0]=a.56(0,2),b[1]=a.56(2,4),b[2]=a.56(4));28(13 f=0;f<b.2a;f++)b[f]=e(b[f]);1a d(b)}12 g(a,b){13 c=f(a);1a c[3]=b,c.1L=b,c}12 h(b,c){1a"5W"==a.1p(c)&&(c=1),"8V("+g(b,c).8W()+")"}12 i(a){1a"#"+(j(a)[2]>50?"4H":"8X")}12 j(a){1a k(f(a))}12 k(a){13 f,g,h,a=d(a),b=a.7h,c=a.7i,e=a.7j,i=b>c?b:c;e>i&&(i=e);13 j=c>b?b:c;1f(j>e&&(j=e),h=i/8Y,g=0!=i?(i-j)/i:0,0==g)f=0;1G{13 k=(i-b)/(i-j),l=(i-c)/(i-j),m=(i-e)/(i-j);f=b==i?m-l:c==i?2+k-m:4+l-k,f/=6,0>f&&(f+=1)}f=1b.23(7k*f),g=1b.23(65*g),h=1b.23(65*h);13 n=[];1a n[0]=f,n[1]=g,n[2]=h,n.8Z=f,n.91=g,n.92=h,n}13 b="93",c=2I 5L("["+b+"]","g");1a{94:f,2S:h,95:i}}(),u={57:{},1t:12(b){1f(!b)1a 1r;13 c=1r,d=a(b).1X("2s-1V");1a d&&(c=11.57[d]),c},31:12(a){11.57[a.1V]=a},1y:12(a){13 b=11.1t(a);b&&(3J 11.57[b.1V],b.1y())}};a.1k(v.3I,12(){12 b(){11.1o.1u={};13 b=11.29;a.1w(r.7b,a.1v(12(b,c){13 d,e=11.1o.1u[c]={};11.29=c;13 f=11.2p();d=f,e.2K=d.2K;13 g=d.1H.1c,h={17:d.1H.1e.17,15:d.1H.1e.15};1f(e.1H={1c:g,1e:h},e.1D={1c:d.21.1c},11.1s){13 i=11.1s.2p(),j=i.21.1e,k=e.1H.1e;a.1k(!0,e,{2K:i.2K,1H:{1e:{17:k.17+j.17,15:k.15+j.15}},1D:{1c:i.1D.1c}})}},11)),11.29=b}12 c(){11.38(),11.19.1s&&(w.1y(11.1g),11.19.1z&&11.19.1z.1s&&y.1y(11.1g)),11.2U&&(11.2U.1y(),11.2U=1r),11.1i&&(a(11.1i).1y(),11.1i=1r)}12 d(){11.1H&&(11.1z&&(a(11.1z).1y(),11.1z=1r,11.66=1r,11.67=1r),a(11.1H).1y(),11.1l=1r,11.1m=1r,11.1H=1r,11.1o={})}12 f(){13 a=11.2e();11.2H=a.1o.2H;13 b=a.19;11.1n=b.1n&&b.1n.2w||0,11.1j=b.1j&&b.1j.2w||0,11.2o=b.2o;13 c=1b.52(11.2H.18,11.2H.14);11.1n>c/2&&(11.1n=1b.68(c/2)),"1j"==11.19.1n.1e&&11.1n>11.1j&&(11.1j=11.1n),11.1o={19:{1n:11.1n,1j:11.1j,2o:11.2o}}}12 g(){11.38(),1I.53&&1I.53.96(1x);13 b=11.2e(),c=11.19;11.1H=a("<2i>").1Y("97")[0],a(b.58).1Z(11.1H),11.59(),11.7l(b),c.1z&&(11.7m(b),c.1z.1s&&(11.2V?(11.2V.19=c.1z.1s,11.2V.1P()):11.2V=2I z(11.1g,a.1k({2M:11.2z},c.1z.1s)))),e.3o&&e.3o<7&&a(b.1i).69(11.2U=a("<98>").1Y("99").3i({9a:0,4n:"9b:\'\';"})),11.5a(),c.1s&&(11.1s?(11.1s.19=c.1s,11.1s.1P()):11.1s=2I x(11.1g,11,a.1k({2M:11.2z},c.1s))),11.7n()}12 h(){13 b=11.2e(),c=a(b.1i),d=a(b.1i).6a(".7o").7p()[0];1f(d){a(d).1q({14:"6b",18:"6b"});13 e=2P(c.1q("17")),f=2P(c.1q("15")),g=2P(c.1q("14"));c.1q({15:"-7q",17:"-7q",14:"9c",18:"6b"}),b.1F("1M")||a(b.1i).1W();13 h=B.3t.6c(d);b.19.3k&&"2B"==a.1p(b.19.3k)&&h.14>b.19.3k&&(a(d).1q({14:b.19.3k+"2y"}),h=B.3t.6c(d)),b.1F("1M")||a(b.1i).1J(),b.1o.2H=h,c.1q({15:f+"2y",17:e+"2y",14:g+"2y"}),11.1P()}}12 i(a,b,c){13 d=!1;11.4o(a)&&(d=!0),11.7r(b)&&(d=!0),c&&11.7s(c)&&(d=!0),d&&11.1P()}12 j(a){13 b=!1;1a(11.3n.15!=a.15||11.3n.17!=a.17)&&(b=!0,11.3n=a),b}12 l(a){13 b=!1;1a(11.3d.x!=a.x||11.3d.y!=a.y)&&(b=!0,11.3d=a),b}12 m(a){13 c=!1;1a 11.29!=a&&(c=!0,11.29=a),c}12 o(){1a B.1t(11.1g)[0]}12 p(){1a s.3U(11,11.1j)}12 u(){13 b=11.2e().19.1z,c=b.3A+2*b.1j;a(11.66).1q({15:-1*c+"2y"}),a(11.67).1q({15:0})}12 v(){13 b=11.2e().19.1z,c=b.3A+2*b.1j;a(11.66).1q({15:0}),a(11.67).1q({15:c+"2y"})}12 A(b){13 c=b.19.1z,d={14:c.3A+2*c.1j,18:c.3A+2*c.1j};a(b.1i).1Z(a(11.1z=1x.22("2i")).1Y("6d").1q(k(d)).1Z(a(11.7t=1x.22("2i")).1Y("9d").1q(k(d)))),11.6e(b,"6f"),11.6e(b,"6g"),1R.2A.3r||e.4U||a(11.1z).3V("4p",a.1v(11.7u,11)).3V("5b",a.1v(11.7v,11))}12 C(b,c){13 d=b.19.1z,e=d.3A,f=d.1j||0,g=d.x.3A,h=d.x.2w,j=(d.x.9e,d.2t[c||"6f"]),l={14:e+2*f,18:e+2*f};g>=e&&(g=e-2);13 m;a(11.7t).1Z(a(11[c+"7w"]=1x.22("2i")).1Y("9f").1q(a.1k(k(l),{15:("6g"==c?l.14:0)+"2y"}))),a(1x.33).1Z(a(m=1x.22("3h"))),q.3v(m,l),q.3s(m);13 o=m.3q("2d");o.2M=11.2z,a(11[c+"7w"]).1Z(m),o.9g(l.14/2,l.18/2),o.2R=q.4b(o,j.1m,{3L:0,3M:0-e/2,3N:0,3O:0+e/2}),o.2g(),o.26(0,0,e/2,0,2*1b.30,!0),o.2h(),o.36(),f&&(o.2R=q.4b(o,j.1j,{3L:0,3M:0-e/2-f,3N:0,3O:0+e/2+f}),o.2g(),o.26(0,0,e/2,1b.30,0,!1),o.1d((e+f)/2,0),o.26(0,0,e/2+f,0,1b.30,!0),o.26(0,0,e/2+f,1b.30,0,!0),o.1d(e/2,0),o.26(0,0,e/2,0,1b.30,!1),o.2h(),o.36());13 p=g/2,r=h/2;1f(r>p){13 s=r;r=p,p=s}o.2R=t.2S(j.x.1Q||j.x,j.x.1L||1),o.5c(n(45)),o.2g(),o.3w(0,0),o.1d(0,p);28(13 u=0;4>u;u++)o.1d(0,p),o.1d(r,p),o.1d(r,p-(p-r)),o.1d(p,r),o.1d(p,0),o.5c(n(90));o.2h(),o.36()}12 D(b){13 l,m,o,p,q,c=a.1k({1l:!1,3B:1r,9h:1r,2g:!1,2h:!1,3C:1r,3D:1r,1n:0,1j:0,5d:0,39:{x:0,y:0}},20[1]||{}),d=c.3C,e=c.3D,f=c.39,g=c.1j,h=c.1n,i=c.3B,j=d.1m.1e,k=d.1m.1c,t={x:1b.2W(11.3d.x),y:1b.2W(11.3d.y)},u={x:0,y:0},v={x:0,y:0};1f(e){l=e.1l.1c,m=e.2C.1e,o=e.2C.1c,p=o.14-l.14;13 w=c.5d,x=g+h+.5*l.14-.5*e.1j.1c.14;q=1b.1E(w>x?w-x:0);13 y=s.63(f,i,k,e.1j.1c,g,h);f=y.1A,v=y.4m,u={x:1b.1U(k.14-2*1b.1U(q,f.x||0)-e.1j.1c.14-(2*h||0),0),y:1b.1U(k.18-2*1b.1U(q,f.y||0)-e.1j.1c.18-(2*h||0),0)},r.37(i)&&(u.x*=.5,u.y*=.5),t.x=1b.52(t.x,u.x),t.y=1b.52(t.y,u.y),r.37(i)&&(11.3d.x<0&&t.x>0&&(t.x*=-1),11.3d.y<0&&t.y>0&&(t.y*=-1)),11.3n&&11.3n.3E&&a.1w(11.3n.3E,12(b,c){a.1w("17 1O 1S 15".2O(" "),12(a,b){c==b&&2I 5L("("+b+")$").3j(i)&&(t[/^(15|1O)$/.3j(b)?"x":"y"]=0)})})}13 z,A;1f(h?(z=j.15+g+h,A=j.17+g):(z=j.15+g,A=j.17+g),f&&f.x&&/^(3P|3S)$/.3j(i)&&(z+=f.x),c.2g&&b.2g(),b.3w(z,A),c.1l)1T(i){1h"3P":z=j.15+g,h&&(z+=h),z+=1b.1U(q,f.x||0),z+=t.x,b.1d(z,A),A-=l.18,z+=.5*l.14,b.1d(z,A),A+=l.18,z+=.5*l.14,b.1d(z,A);1B;1h"4c":1h"5e":z=j.15+.5*k.14-.5*l.14,z+=t.x,b.1d(z,A),A-=l.18,z+=.5*l.14,b.1d(z,A),A+=l.18,z+=.5*l.14,b.1d(z,A),z=j.15+.5*k.14-.5*o.14,b.1d(z,A);1B;1h"3Q":z=j.15+k.14-g-l.14,h&&(z-=h),z-=1b.1U(q,f.x||0),z-=t.x,b.1d(z,A),A-=l.18,z+=.5*l.14,b.1d(z,A),A+=l.18,z+=.5*l.14,b.1d(z,A)}1f(h?h&&(b.26(j.15+k.14-g-h,j.17+g+h,h,n(-90),n(0),!1),z=j.15+k.14-g,A=j.17+g+h):(z=j.15+k.14-g,A=j.17+g,b.1d(z,A)),c.1l)1T(i){1h"3R":A=j.17+g,h&&(A+=h),A+=1b.1U(q,f.y||0),A+=t.y,b.1d(z,A),z+=l.18,A+=.5*l.14,b.1d(z,A),z-=l.18,A+=.5*l.14,b.1d(z,A);1B;1h"4d":1h"5f":A=j.17+.5*k.18-.5*l.14,A+=t.y,b.1d(z,A),z+=l.18,A+=.5*l.14,b.1d(z,A),z-=l.18,A+=.5*l.14,b.1d(z,A);1B;1h"4e":A=j.17+k.18-g,h&&(A-=h),A-=l.14,A-=1b.1U(q,f.y||0),A-=t.y,b.1d(z,A),z+=l.18,A+=.5*l.14,b.1d(z,A),z-=l.18,A+=.5*l.14,b.1d(z,A)}1f(h?h&&(b.26(j.15+k.14-g-h,j.17+k.18-g-h,h,n(0),n(90),!1),z=j.15+k.14-g-h,A=j.17+k.18-g):(z=j.15+k.14-g,A=j.17+k.18-g,b.1d(z,A)),c.1l)1T(i){1h"4f":z=j.15+k.14-g,h&&(z-=h),z-=1b.1U(q,f.x||0),z-=t.x,b.1d(z,A),z-=.5*l.14,A+=l.18,b.1d(z,A),z-=.5*l.14,A-=l.18,b.1d(z,A);1B;1h"4g":1h"5g":z=j.15+.5*k.14+.5*l.14,z+=t.x,b.1d(z,A),z-=.5*l.14,A+=l.18,b.1d(z,A),z-=.5*l.14,A-=l.18,b.1d(z,A);1B;1h"4h":z=j.15+g+l.14,h&&(z+=h),z+=1b.1U(q,f.x||0),z+=t.x,b.1d(z,A),z-=.5*l.14,A+=l.18,b.1d(z,A),z-=.5*l.14,A-=l.18,b.1d(z,A)}1f(h?h&&(b.26(j.15+g+h,j.17+k.18-g-h,h,n(90),n(2F),!1),z=j.15+g,A=j.17+k.18-g-h):(z=j.15+g,A=j.17+k.18-g,b.1d(z,A)),c.1l)1T(i){1h"4i":A=j.17+k.18-g,h&&(A-=h),A-=1b.1U(q,f.y||0),A-=t.y,b.1d(z,A),z-=l.18,A-=.5*l.14,b.1d(z,A),z+=l.18,A-=.5*l.14,b.1d(z,A);1B;1h"4j":1h"5h":A=j.17+.5*k.18+.5*l.14,A+=t.y,b.1d(z,A),z-=l.18,A-=.5*l.14,b.1d(z,A),z+=l.18,A-=.5*l.14,b.1d(z,A);1B;1h"3S":A=j.17+g+l.14,h&&(A+=h),A+=1b.1U(q,f.y||0),A+=t.y,b.1d(z,A),z-=l.18,A-=.5*l.14,b.1d(z,A),z+=l.18,A-=.5*l.14,b.1d(z,A)}1a h?h&&(b.26(j.15+g+h,j.17+g+h,h,n(-2F),n(-90),!1),z=j.15+g+h,A=j.17+g,z+=1,b.1d(z,A)):(z=j.15+g,A=j.17+g,b.1d(z,A)),c.2h&&b.2h(),{x:z,y:A,1l:t,5i:v,39:f}}12 E(b){13 o,p,q,r,s,t,c=a.1k({1l:!1,3B:1r,2g:!1,2h:!1,3C:1r,3D:1r,1n:0,1j:0,7x:0,39:{x:0,y:0},5j:1r},20[1]||{}),d=c.3C,e=c.3D,g=(c.7x,c.39),h=c.1j,i=c.1n&&c.1n.2w||0,j=c.7y,k=c.3B,l=d.1m.1e,m=d.1m.1c,u=c.5j&&c.5j.1l||{x:0,y:0};1f(e){o=e.1l.1c,p=e.2C.1e,q=e.2C.1c,r=e.1j.1c,s=q.14-o.14;13 v=h+j+.5*o.14-.5*r.14;t=1b.1E(i>v?i-v:0)}13 w=l.15+h+j,x=l.17+h;j&&(w+=1),a.1k({},{x:w,y:x}),c.2g&&b.2g();13 z=a.1k({},{x:w,y:x});1f(x-=h,b.1d(w,x),i?i&&(b.26(l.15+i,l.17+i,i,n(-90),n(-2F),!0),w=l.15,x=l.17+i):(w=l.15,x=l.17,b.1d(w,x)),c.1l)1T(k){1h"3S":x=l.17+h,j&&(x+=j),x-=.5*r.14,x+=.5*o.14,x+=1b.1U(t,g.y||0),x+=u.y,b.1d(w,x),w-=r.18,x+=.5*r.14,b.1d(w,x),w+=r.18,x+=.5*r.14,b.1d(w,x);1B;1h"4j":1h"5h":x=l.17+.5*m.18-.5*r.14,x+=u.y,b.1d(w,x),w-=r.18,x+=.5*r.14,b.1d(w,x),w+=r.18,x+=.5*r.14,b.1d(w,x);1B;1h"4i":x=l.17+m.18-h-r.14,j&&(x-=j),x+=.5*r.14,x-=.5*o.14,x-=1b.1U(t,g.y||0),x-=u.y,b.1d(w,x),w-=r.18,x+=.5*r.14,b.1d(w,x),w+=r.18,x+=.5*r.14,b.1d(w,x)}1f(i?i&&(b.26(l.15+i,l.17+m.18-i,i,n(-2F),n(-9i),!0),w=l.15+i,x=l.17+m.18):(w=l.15,x=l.17+m.18,b.1d(w,x)),c.1l)1T(k){1h"4h":w=l.15+h,j&&(w+=j),w-=.5*r.14,w+=.5*o.14,w+=1b.1U(t,g.x||0),w+=u.x,b.1d(w,x),x+=r.18,w+=.5*r.14,b.1d(w,x),x-=r.18,w+=.5*r.14,b.1d(w,x);1B;1h"4g":1h"5g":w=l.15+.5*m.14-.5*r.14,w+=u.x,b.1d(w,x),x+=r.18,w+=.5*r.14,b.1d(w,x),x-=r.18,w+=.5*r.14,b.1d(w,x),w=l.15+.5*m.14+r.14,b.1d(w,x);1B;1h"4f":w=l.15+m.14-h-r.14,j&&(w-=j),w+=.5*r.14,w-=.5*o.14,w-=1b.1U(t,g.x||0),w-=u.x,b.1d(w,x),x+=r.18,w+=.5*r.14,b.1d(w,x),x-=r.18,w+=.5*r.14,b.1d(w,x)}1f(i?i&&(b.26(l.15+m.14-i,l.17+m.18-i,i,n(90),n(0),!0),w=l.15+m.14,x=l.17+m.14+i):(w=l.15+m.14,x=l.17+m.18,b.1d(w,x)),c.1l)1T(k){1h"4e":x=l.17+m.18-h,x+=.5*r.14,x-=.5*o.14,j&&(x-=j),x-=1b.1U(t,g.y||0),x-=u.y,b.1d(w,x),w+=r.18,x-=.5*r.14,b.1d(w,x),w-=r.18,x-=.5*r.14,b.1d(w,x);1B;1h"4d":1h"5f":x=l.17+.5*m.18+.5*r.14,x+=u.y,b.1d(w,x),w+=r.18,x-=.5*r.14,b.1d(w,x),w-=r.18,x-=.5*r.14,b.1d(w,x);1B;1h"3R":x=l.17+h,j&&(x+=j),x+=r.14,x-=.5*r.14-.5*o.14,x+=1b.1U(t,g.y||0),x+=u.y,b.1d(w,x),w+=r.18,x-=.5*r.14,b.1d(w,x),w-=r.18,x-=.5*r.14,b.1d(w,x)}1f(i?i&&(b.26(l.15+m.14-i,l.17+i,i,n(0),n(-90),!0),w=l.15+m.14-i,x=l.17):(w=l.15+m.14,x=l.17,b.1d(w,x)),c.1l)1T(k){1h"3Q":w=l.15+m.14-h,w+=.5*r.14-.5*o.14,j&&(w-=j),w-=1b.1U(t,g.x||0),w-=u.x,b.1d(w,x),x-=r.18,w-=.5*r.14,b.1d(w,x),x+=r.18,w-=.5*r.14,b.1d(w,x);1B;1h"4c":1h"5e":w=l.15+.5*m.14+.5*r.14,w+=u.x,b.1d(w,x),x-=r.18,w-=.5*r.14,b.1d(w,x),x+=r.18,w-=.5*r.14,b.1d(w,x),w=l.15+.5*m.14-r.14,b.1d(w,x),b.1d(w,x);1B;1h"3P":w=l.15+h+r.14,w-=.5*r.14,w+=.5*o.14,j&&(w+=j),w+=1b.1U(t,g.x||0),w+=u.x,b.1d(w,x),x-=r.18,w-=.5*r.14,b.1d(w,x),x+=r.18,w-=.5*r.14,b.1d(w,x)}b.1d(z.x,z.y-h),b.1d(z.x,z.y),c.2h&&b.2h()}12 F(b){13 c=11.2p(),d=11.19.1l&&11.4q(),e=11.29&&11.29.3z(),f=11.1n,h=11.1j,i=11.2o,k=({14:2*h+2*i+11.2H.14,18:2*h+2*i+11.2H.18},b.19.1l&&b.19.1l.1A||{x:0,y:0}),l=0,m=0;f&&(l="1m"==11.19.1n.1e?f:0,m="1j"==11.19.1n.1e?f:l+h),a(1x.33).1Z(11.2X=1x.22("3h")),q.3v(11.2X,c.1H.1c),q.3s(11.2X);13 n=11.2X.3q("2d");n.2M=11.2z,a(11.1H).1Z(11.2X),n.2R=q.4b(n,11.19.1m,{3L:0,3M:c.1m.1e.17+h,3N:0,3O:c.1m.1e.17+c.1m.1c.18-h}),n.9j=0;13 o;1f(o=11.6h(n,{2g:!0,2h:!0,1j:h,1n:l,5d:m,3C:c,3D:d,1l:11.19.1l,3B:e,39:k}),n.36(),h){13 p=q.4b(n,11.19.1j,{3L:0,3M:c.1m.1e.17,3N:0,3O:c.1m.1e.17+c.1m.1c.18});n.2R=p,o=11.6h(n,{2g:!0,2h:!1,1j:h,1n:l,5d:m,3C:c,3D:d,1l:11.19.1l,3B:e,39:k}),11.7z(n,{2g:!1,2h:!0,1j:h,7y:l,1n:{2w:m,1e:11.19.1n.1e},3C:c,3D:d,1l:11.19.1l,3B:e,39:o.39,5j:o}),n.36()}11.3F=o}12 G(){13 i,a=11.2e(),b=11.2H,c=a.19,d=11.1n,f=11.1j,g=11.2o,h={14:2*f+2*g+b.14,18:2*f+2*g+b.18};1f(11.19.1l){13 j=11.4q();i=j.2C.1c}13 k=s.62(11,h),l=k.1c,m=k.1e,h=k.1m.1c,o=k.1m.1e;k.1l.1c;13 r,t,u,q={17:0,15:0},v={14:l.14,18:l.18};1f(c.1z){13 w=d;"1m"==c.1n.1e&&(w+=f);13 x=w-1b.9k(n(45))*w,y="1O";11.29.3z().3g(/^(3Q|3R)$/)&&(y="15");13 z=c.1z.3A+2*c.1z.1j,r={14:z,18:z};1f(q.15=o.15-z/2+("15"==y?x:h.14-x),q.17=o.17-z/2+x,"15"==y){1f(q.15<0){13 A=1b.2W(q.15);v.14+=A,m.15+=A,q.15=0}}1G{13 B=q.15+z-v.14;B>0&&(v.14+=B)}1f(q.17<0){13 C=1b.2W(q.17);v.18+=C,m.17+=C,q.17=0}1f(11.19.1z.1s){13 D=11.19.1z.1s,E=D.32,F=D.1A;1f(t={14:r.14+2*E,18:r.18+2*E},u={17:q.17-E+F.y,15:q.15-E+F.x},"15"==y){1f(u.15<0){13 A=1b.2W(u.15);v.14+=A,m.15+=A,q.15+=A,u.15=0}}1G{13 B=u.15+t.14-v.14;B>0&&(v.14+=B)}1f(u.17<0){13 C=1b.2W(u.17);v.18+=C,m.17+=C,q.17+=C,u.17=0}}}13 G=k.2K;G.17+=m.17,G.15+=m.15;13 H={15:1b.1E(m.15+o.15+11.1j+11.19.2o),17:1b.1E(m.17+o.17+11.1j+11.19.2o)},I={1D:{1c:{14:1b.1E(v.14),18:1b.1E(v.18)}},21:{1c:{14:1b.1E(v.14),18:1b.1E(v.18)}},1H:{1c:l,1e:{17:1b.23(m.17),15:1b.23(m.15)}},1m:{1c:{14:1b.1E(h.14),18:1b.1E(h.18)},1e:{17:1b.23(o.17),15:1b.23(o.15)}},2K:{17:1b.23(G.17),15:1b.23(G.15)},2G:{1e:H}};1a 11.19.1z&&(I.1z={1c:{14:1b.1E(r.14),18:1b.1E(r.18)},1e:{17:1b.23(q.17),15:1b.23(q.15)}},11.19.1z.1s&&(I.2V={1c:{14:1b.1E(t.14),18:1b.1E(t.18)},1e:{17:1b.23(u.17),15:1b.23(u.15)}})),I}12 H(){13 b=11.2p(),c=11.2e();a(c.1i).1q(k(b.1D.1c)),a(c.58).1q(k(b.21.1c)),11.2U&&11.2U.1q(k(b.1D.1c)),a(11.1H).1q(a.1k(k(b.1H.1c),k(b.1H.1e))),11.1z&&(a(11.1z).1q(k(b.1z.1e)),b.2V&&a(11.2V.1i).1q(k(b.2V.1e))),a(c.3a).1q(k(b.2G.1e))}12 I(a){11.2z=a||0,11.1s&&(11.1s.2z=11.2z)}12 J(a){11.7A(a),11.1P()}1a{59:f,7n:b,1P:g,1y:c,38:d,2e:o,2Q:h,5k:i,7s:j,7r:l,4o:m,7m:A,6e:C,7l:F,6h:D,7z:E,7u:u,7v:v,4q:p,2p:G,5a:H,7A:I,9l:J}}());13 w={3l:{},1t:12(b){1f(!b)1a 1r;13 c=1r,d=a(b).1X("2s-1V");1a d&&(c=11.3l[d]),c},31:12(a){11.3l[a.1V]=a},1y:12(a){13 b=11.1t(a);b&&(3J 11.3l[b.1V],b.1y())},4r:12(a){1a 1b.30/2-1b.6S(a,1b.4G(a)*1b.30)}};w.4s={4l:12(a,b){13 c=u.1t(a.1g),d=c.4q().1j.1c,e=11.54(d.14,d.18,b,{3T:!1});1a{14:e.14,18:e.18}},9m:12(a,b,c){13 d=.5*a,e=m(1b.9n(d/l(d,b))),f=2F-e-90,g=o(n(f))*c,h=2*(d+g),i=h/a*b;1a{14:h,18:i}},54:12(a,b,c){13 d=m(1b.7g(.5*(b/a))),e=2F-d,f=1b.4G(n(e-90))*c,g=a+2*f,h=g*b/a;1a{14:g,18:h}},3U:12(b){13 c=u.1t(b.1g),d=b.19.32,e=r.7f(c.29),g=(r.2J(c.29),w.4s.4l(b,d)),h={2C:{1c:{14:1b.1E(g.14),18:1b.1E(g.18)},1e:{17:0,15:0}}};1f(d){h.2Y=[];28(13 i=0;d>=i;i++){13 j=w.4s.4l(b,i,{3T:!1}),k={1e:{17:h.2C.1c.18-j.18,15:e?d-i:(h.2C.1c.14-j.14)/2},1c:j};h.2Y.2n(k)}}1G h.2Y=[a.1k({},h.2C)];1a h},5c:12(a,b,c){s.5c(a,b.3m(),c)}},a.1k(x.3I,12(){12 b(){1a B.1t(11.1g)[0]}12 c(){1a u.1t(11.1g)}12 d(){11.38()}12 e(){11.1i&&(a(11.1i).1y(),11.1l=1r,11.1m=1r,11.1H=1r,11.1i=1r,11.1o={})}12 f(){}12 g(){11.38(),11.59();13 b=11.2e(),c=11.3m();11.1i=a("<2i>").1Y("9o")[0],a(b.1i).69(11.1i),c.2U&&a(b.1i).69(c.2U),c.2p(),a(11.1i).1q({17:0,15:0}),11.7B(),11.5a()}12 h(){1a 11.19.1L/(11.19.32+1)}12 i(){13 b=11.3m(),c=b.2p(),d=11.2e(),e=11.2p(),f=11.19.32,g=w.4s.3U(11),h=b.29,i=r.60(h),j={17:f,15:f};1f(d.19.1l){13 l=g.2Y[g.2Y.2a-1];"15"==i&&(j.15+=1b.1E(l.1c.18)),"17"==i&&(j.17+=1b.1E(l.1c.18))}13 m=b.1o.19,n=m.1n,o=m.1j;"1m"==d.19.1n.1e&&n&&(n+=o);13 p=e.1H.1c;a(11.1i).1Z(a(11.1H=1x.22("2i")).1Y("9p").1q(k(p))).1q(k(p)),a(1x.33).1Z(a(11.2X=1x.22("3h"))),q.3v(11.2X,e.1H.1c),q.3s(11.2X);13 s=11.2X.3q("2d");s.2M=11.2z,a(11.1H).1Z(11.2X);28(13 u=f+1,v=0;f>=v;v++)s.2R=t.2S(11.19.1Q,w.4r(v*(1/u))*(11.19.1L/u)),q.76(s,{14:c.1m.1c.14+2*v,18:c.1m.1c.18+2*v,17:j.17-v,15:j.15-v,1n:n+v});1f(b.19.1l){13 x={x:j.15,y:j.17},y=g.2Y[0].1c,z=b.19.1l,A=o;A+=.5*z.14;13 B=b.19.1n&&"1m"==b.19.1n.1e?b.19.1n.2w||0:0;B&&(A+=B);13 C=o+B+.5*z.14-.5*y.14,D=1b.1E(n>C?n-C:0),E=b.3F&&b.3F.1l||{x:0,y:0},F=b.3F&&b.3F.5i||{x:0,y:0};1f(A+=1b.1U(D,b.19.1l.1A&&b.19.1l.1A[i&&/^(15|1O)$/.3j(i)?"y":"x"]||0),"17"==i||"1S"==i){1T(h){1h"3P":1h"4h":x.x+=A+E.x-F.x;1B;1h"4c":1h"5e":1h"4g":1h"5g":x.x+=.5*c.1m.1c.14+E.x;1B;1h"3Q":1h"4f":x.x+=c.1m.1c.14-(A-E.x+F.x)}"1S"==i&&(x.y+=c.1m.1c.18);28(13 v=0,G=g.2Y.2a;G>v;v++){s.2R=t.2S(11.19.1Q,w.4r(v*(1/u))*(11.19.1L/u));13 f=g.2Y[v];s.2g(),"17"==i?(s.3w(x.x,x.y-v),s.1d(x.x-.5*f.1c.14,x.y-v),s.1d(x.x,x.y-v-f.1c.18),s.1d(x.x+.5*f.1c.14,x.y-v)):(s.3w(x.x,x.y+v),s.1d(x.x-.5*f.1c.14,x.y+v),s.1d(x.x,x.y+v+f.1c.18),s.1d(x.x+.5*f.1c.14,x.y+v)),s.2h(),s.36()}}1G{1T(h){1h"3S":1h"3R":x.y+=A+E.y-F.y;1B;1h"4j":1h"5h":1h"4d":1h"5f":x.y+=.5*c.1m.1c.18+E.y;1B;1h"4i":1h"4e":x.y+=c.1m.1c.18-(A-E.y+F.y)}"1O"==i&&(x.x+=c.1m.1c.14);28(13 v=0,G=g.2Y.2a;G>v;v++){s.2R=t.2S(11.19.1Q,w.4r(v*(1/u))*(11.19.1L/u));13 f=g.2Y[v];s.2g(),"15"==i?(s.3w(x.x-v,x.y),s.1d(x.x-v,x.y-.5*f.1c.14),s.1d(x.x-v-f.1c.18,x.y),s.1d(x.x-v,x.y+.5*f.1c.14)):(s.3w(x.x+v,x.y),s.1d(x.x+v,x.y-.5*f.1c.14),s.1d(x.x+v+f.1c.18,x.y),s.1d(x.x+v,x.y+.5*f.1c.14)),s.2h(),s.36()}}}}12 j(){13 b=11.3m();b.2H,b.1n;13 e=b.2p(),g=(11.2e(),11.19.32),h=a.1k({},e.1m.1c);h.14+=2*g,h.18+=2*g;13 i,k;1f(b.19.1l){13 l=w.4s.3U(11);i=l.2C.1c,k=i.18}13 m=s.62(b,h,k),n=m.1c,o=m.1e,h=m.1m.1c,p=m.1m.1e,r=e.1H.1e,t=e.1m.1e,u={17:r.17+t.17-(p.17+g)+11.19.1A.y,15:r.15+t.15-(p.15+g)+11.19.1A.x},v=e.2K,x=e.21.1c,y={17:0,15:0};1f(u.17<0){13 z=1b.2W(u.17);y.17+=z,u.17=0,v.17+=z}1f(u.15<0){13 A=1b.2W(u.15);y.15+=A,u.15=0,v.15+=A}13 B={18:1b.1U(n.18+u.17,x.18+y.17),14:1b.1U(n.14+u.15,x.14+y.15)},C={15:1b.1E(y.15+e.1H.1e.15+e.1m.1e.15+b.1j+b.2o),17:1b.1E(y.17+e.1H.1e.17+e.1m.1e.17+b.1j+b.2o)},D={1D:{1c:B},21:{1c:x,1e:y},1i:{1c:n,1e:u},1H:{1c:n,1e:{17:1b.23(o.17),15:1b.23(o.15)}},1m:{1c:{14:1b.1E(h.14),18:1b.1E(h.18)},1e:{17:1b.23(p.17),15:1b.23(p.15)}},2K:v,2G:{1e:C}};1a D}12 l(){13 b=11.2p(),c=11.3m(),d=11.2e();1f(a(d.1i).1q(k(b.1D.1c)),a(d.58).1q(a.1k(k(b.21.1e),k(b.21.1c))),c.2U&&c.2U.1q(k(b.1D.1c)),d.19.1z){13 e=c.2p(),f=b.21.1e,g=e.1z.1e;1f(a(c.1z).1q(k({17:f.17+g.17,15:f.15+g.15})),d.19.1z.1s){13 h=e.2V.1e;a(c.2V.1i).1q(k({17:f.17+h.17,15:f.15+h.15}))}}a(11.1i).1q(a.1k(k(b.1i.1c),k(b.1i.1e))),a(11.1H).1q(k(b.1H.1c)),a(d.3a).1q(k(b.2G.1e))}1a{59:f,1y:d,38:e,1P:g,2e:b,3m:c,2p:j,7C:h,7B:i,5a:l}}());13 y={3l:{},1t:12(b){1f(!b)1a 1r;13 c=a(b).1X("2s-1V");1a c?11.3l[c]:1r},31:12(a){11.3l[a.1V]=a},1y:12(a){13 b=11.1t(a);b&&(3J 11.3l[b.1V],b.1y())}};a.1k(z.3I,12(){12 b(){1a B.1t(11.1g)[0]}12 c(){1a u.1t(11.1g)}12 d(){1a 11.19.1L/(11.19.32+1)}12 e(){11.38()}12 f(){11.1i&&(a(11.1i).1y(),11.1i=1r)}12 g(){11.38();13 c=(11.2e(),11.3m()),d=c.2p().1z.1c,e=a.1k({},d),f=11.19.32;e.14+=2*f,e.18+=2*f,a(c.1z).6i(a(11.1i=1x.22("2i")).1Y("9q")),a(1x.33).1Z(a(11.4t=1x.22("3h"))),q.3v(11.4t,e),q.3s(11.4t);13 g=11.4t.3q("2d");g.2M=11.2z,a(11.1i).1Z(11.4t);28(13 h=e.14/2,i=e.18/2,j=d.18/2,k=f+1,l=0;f>=l;l++)g.2R=t.2S(11.19.1Q,w.4r(l*(1/k))*(11.19.1L/k)),g.2g(),g.26(h,i,j+l,n(0),n(7k),!0),g.2h(),g.36()}1a{1P:g,1y:e,38:f,2e:b,3m:c,7C:d}}());13 B={2q:{},19:{3W:"6j",4I:9r},7D:12(){13 b=["2r"];1R.2A.3r&&(b.2n("7E"),11.4u&&a(1x.33).4v("2r",11.4u),11.4u=1r),a.1w(b,12(b,c){a(1x.6k).9s(".3b .6d, .3b .7F-1D",c)}),11.4w&&(a(1I).4v("3v",11.4w),11.4w=1r),a(1x).4v("4x",B.2f.6l)},74:12(){12 b(){11.7D();13 b=["2r"];1R.2A.3r&&(b.2n("7E"),11.4u=12(){1a 3x 0},a(1x.33).3V("2r",11.4u)),a.1w(b,12(b,c){a(1x.6k).9t(".3b .6d, .3b .7F-1D",c,12(b){b.9u(),b.9v(),B.6m(a(b.1C).5l(".3b")[0]).1J()})}),11.4w=a.1v(11.7G,11),a(1I).3V("3v",11.4w),a(1x).3V("4x",B.2f.6l)}1a b}(),7G:12(){11.5m&&(1I.6n(11.5m),11.5m=1r),11.5m=d.4M(a.1v(12(){13 b=11.3K();a.1w(b,12(a,b){b.1e()})},11),9w)},5n:12(b){13 d,c=a(b).1X("2s-1V");1f(!c){13 e=11.6m(a(b).5l(".3b")[0]);e&&e.1g&&(c=a(e.1g).1X("2s-1V"))}1a c&&(d=11.2q[c])?d:3x 0},5S:12(a){13 b;1a d.2k(a)&&(b=11.5n(a)),b&&b.1g},1t:12(b){13 c=[];1f(d.2k(b)){13 e=11.5n(b);e&&(c=[e])}1G a.1w(11.2q,12(d,e){e.1g&&a(e.1g).7H(b)&&c.2n(e)});1a c},6m:12(b){1f(!b)1a 1r;13 c=1r;1a a.1w(11.2q,12(a,d){d.1F("1P")&&d.1i===b&&(c=d)}),c},9x:12(b){13 c=[];1a a.1w(11.2q,12(d,e){e.1g&&a(e.1g).7H(b)&&c.2n(e)}),c},1W:12(b){1f(d.2k(b)){13 c=b,e=11.1t(c)[0];e&&e.1W()}1G a(b).1w(a.1v(12(a,b){13 c=11.1t(b)[0];c&&c.1W()},11))},1J:12(b){1f(d.2k(b)){13 c=11.1t(b)[0];c&&c.1J()}1G a(b).1w(a.1v(12(a,b){13 c=11.1t(b)[0];c&&c.1J()},11))},35:12(b){1f(d.2k(b)){13 c=b,e=11.1t(c)[0];e&&e.35()}1G a(b).1w(a.1v(12(a,b){13 c=11.1t(b)[0];c&&c.35()},11))},4Y:12(){a.1w(11.3K(),12(a,b){b.1J()})},2Q:12(b){1f(d.2k(b)){13 c=b,e=11.1t(c)[0];e&&e.2Q()}1G a(b).1w(a.1v(12(a,b){13 c=11.1t(b)[0];c&&c.2Q()},11))},3K:12(){13 b=[];1a a.1w(11.2q,12(a,c){c.1M()&&b.2n(c)}),b},5V:12(b){13 c=!1;1a d.2k(b)&&a.1w(11.3K()||[],12(a,d){1a d.1g==b?(c=!0,!1):3x 0}),c},7I:12(){13 c,b=0;1a a.1w(11.2q,12(a,d){d.2l>b&&(b=d.2l,c=d)}),c},7J:12(){11.3K().2a<=1&&a.1w(11.2q,12(b,c){c.1F("1P")&&!c.19.2l&&a(c.1i).1q({2l:c.2l=+B.19.4I})})},31:12(a){11.2q[a.1V]=a},4y:12(b){13 c=11.5n(b);1f(c){13 d=a(c.1g).1X("2s-1V");3J 11.2q[d],c.1J(),c.1y()}},1y:12(b){d.2k(b)?11.4y(b):a(b).1w(a.1v(12(a,b){11.4y(b)},11))},75:12(){a.1w(11.2q,a.1v(12(a,b){b.1g&&!d.1g.4S(b.1g)&&11.4y(b.1g)},11))},73:12(){a.1w(11.2q,a.1v(12(a,b){b.1g&&11.4y(b.1g)},11)),11.2q={}},5T:12(a){11.19.3W=a||"6j"},5U:12(a){11.19.4I=a||0},5X:12(){a.1w(11.2q,a.1v(12(a,b){b.1o&&b.1o.2m&&(b.1o.2m.6o(),b.1o.2m=1r),b.27("3f",!1)},11)),i.6Y()},6H:12(){12 f(d){13 e;1a e="2u"==a.1p(d)?{1g:c.25&&c.25.1g||b.25.1g,2x:d}:A(a.1k({},b.25),d)}12 g(f){1a b=1R.2D.7K,c=A(a.1k({},b),1R.2D.6p),d=1R.2D.6q.7K,e=A(a.1k({},d),1R.2D.6q.6p),g=h,h(f)}12 h(g){g.21=g.21&&1R.2D[g.21]?g.21:1R.2D[B.19.3W]?B.19.3W:"6j";13 h=g.21?a.1k({},1R.2D[g.21]||1R.2D[B.19.3W]):{},i=A(a.1k({},c),h),j=A(a.1k({},i),g);1f(j.2c){13 k=c.2c||{},l=b.2c;"4z"==a.1p(j.2c)&&(j.2c={3X:k.3X||l.3X,1p:k.1p||l.1p}),j.2c=A(a.1k({},l),j.2c)}1f(j.1m&&"2u"==a.1p(j.1m)&&(j.1m={1Q:j.1m,1L:1}),j.1j){13 m,n=c.1j||{},o=b.1j;m="2B"==a.1p(j.1j)?{2w:j.1j,1Q:n.1Q||o.1Q,1L:n.1L||o.1L}:A(a.1k({},o),j.1j),j.1j=0===m.2w?!1:m}1f(j.1n){13 p;p="2B"==a.1p(j.1n)?{2w:j.1n,1e:c.1n&&c.1n.1e||b.1n.1e}:A(a.1k({},b.1n),j.1n),j.1n=0===p.2w?!1:p}13 q,s=s=j.1u&&j.1u.1C||"2u"==a.1p(j.1u)&&j.1u||c.1u&&c.1u.1C||"2u"==a.1p(c.1u)&&c.1u||b.1u&&b.1u.1C||b.1u,t=j.1u&&j.1u.1D||c.1u&&c.1u.1D||b.1u&&b.1u.1D||B.2f.6r(s);1f(j.1u?"2u"==a.1p(j.1u)?q={1C:j.1u,1D:B.2f.7L(j.1u)}:(q={1D:t,1C:s},j.1u.1D&&(q.1D=j.1u.1D),j.1u.1C&&(q.1C=j.1u.1C)):q={1D:t,1C:s},"2N"==j.1C){13 u=r.2J(q.1C);q.1C="1K"==u?q.1C.64(/(15|1O)/,"2v"):q.1C.64(/(17|1S)/,"2v")}j.1u=q;13 v;1f("2N"==j.1C?(v=a.1k({},b.1A),a.1k(v,1R.2D.6p.1A||{}),g.21&&a.1k(v,(1R.2D[g.21]||1R.2D[B.19.3W]).1A||{}),v=B.2f.7M(b.1A,b.1u,q.1C,!0),g.1A&&(v=a.1k(v,g.1A||{})),j.3Y=0):v={x:j.1A.x,y:j.1A.y},j.1A=v,j.1z&&j.7N){13 w=a.1k({},1R.2D.6q[j.7N]),x=A(a.1k({},e),w);1f(x.2t&&a.1w(["6f","6g"],12(b,c){13 f=x.2t[c],g=e.2t&&e.2t[c];1f(f.1m){13 h=g&&g.1m;1f("2B"==a.1p(f.1m))f.1m={1Q:h&&h.1Q||d.2t[c].1m.1Q,1L:f.1m};1G 1f("2u"==a.1p(f.1m)){13 i=h&&"2B"==a.1p(h.1L)&&h.1L||d.2t[c].1m.1L;f.1m={1Q:f.1m,1L:i}}1G f.1m=A(a.1k({},d.2t[c].1m),f.1m)}1f(f.1j){13 j=g&&g.1j;f.1j="2B"==a.1p(f.1j)?{1Q:j&&j.1Q||d.2t[c].1j.1Q,1L:f.1j}:A(a.1k({},d.2t[c].1j),f.1j)}}),x.1s){13 z=e.1s&&e.1s.3G&&e.1s.3G==5B?e.1s:d.1s;x.1s.3G&&x.1s.3G==5B&&(z=A(z,x.1s)),x.1s=z}j.1z=x}1f(j.1s){13 C;C="4z"==a.1p(j.1s)?c.1s&&"4z"==a.1p(c.1s)?b.1s:c.1s?c.1s:b.1s:A(a.1k({},b.1s),j.1s||{}),"2B"==a.1p(C.1A)&&(C.1A={x:C.1A,y:C.1A}),j.1s=C}1f(j.1l){13 D={};D="4z"==a.1p(j.1l)?A({},b.1l):A(A({},b.1l),a.1k({},j.1l)),"2B"==a.1p(D.1A)&&(D.1A={x:D.1A,y:D.1A}),j.1l=D}1f(j.2Z&&("2u"==a.1p(j.2Z)?j.2Z={5o:j.2Z,7O:!0}:"4z"==a.1p(j.2Z)&&(j.2Z=j.2Z?{5o:"51",7O:!0}:!1)),j.25&&"2r-9y"==j.25&&(j.7P=!0,j.25=!1),j.25)1f(a.78(j.25)){13 E=[];a.1w(j.25,12(a,b){E.2n(f(b))}),j.25=E}1G j.25=[f(j.25)];1a j.2L&&"2u"==a.1p(j.2L)&&(j.2L=[""+j.2L]),j.2o=0,j.1N&&(1I.6s||(j.1N=!1)),j}13 b,c,d,e;1a g}()};B.2f=12(){12 c(c){13 d=r.2O(c),e=d[1],f=d[2],g=r.2J(c),h=a.1k({1K:!0,2b:!0},20[1]||{});1a"1K"==g?(h.2b&&(e=b[e]),h.1K&&(f=b[f])):(h.2b&&(f=b[f]),h.1K&&(e=b[e])),e+f}12 f(a){13 d=r.2O(a);1a c(d[1]+b[d[2]])}12 h(b,c){a(b.1i).1q({17:c.17+"2y",15:c.15+"2y"})}12 j(a,b,d,e){13 g=y(a,b,d,e),h=d&&"2u"==7Q d.1p?d.1p:"";1f(/9z$/.3j(h),1===g.3Z.40)1a l(a,g),g;13 m=b,n=e,o={1K:!g.3Z.1K,2b:!g.3Z.2b},p={1K:!1,2b:!1},q=r.2J(b);1a((p.2b="1K"==q&&o.2b)||(p.1K="2b"==q&&o.1K))&&(m=c(b,p),n=c(e,p),g=y(a,m,d,n),1===g.3Z.40)?(l(a,g),g):(g=k(g,a),l(a,g),g)}12 k(a,b){13 c=z(b),d=c.1c,e=c.1e,f=u.1t(b.1g).1o.1u[a.1u.1D].1D.1c,g=a.1e,h={17:0,15:0,3E:[]};1a e.15>g.15&&(h.15=e.15-g.15,h.3E.2n("15"),a.1e.15=e.15),e.17>g.17&&(h.17=g.17-e.17,h.3E.2n("17"),a.1e.17=e.17),e.15+d.14<g.15+f.14&&(h.15=e.15+d.14-(g.15+f.14),h.3E.2n("1O"),a.1e.15=e.15+d.14-f.14),e.17+d.18<g.17+f.18&&(h.17=e.17+d.18-(g.17+f.18),h.3E.2n("1S"),a.1e.17=e.17+d.18-f.18),a.7R=h,a}12 l(a,b){a.5k(b.1u.1D,b.3Z.4m,b.7R),h(a,b.1e)}12 m(a){1a a&&(/^2N|2r|3r$/.3j("2u"==7Q a.1p&&a.1p||"")||a.5K>=0)}12 n(a,b,c){1a a>=b&&c>=a}12 o(a,b,c,d){13 e=n(a,c,d),f=n(b,c,d);1f(e&&f)1a b-a;1f(e&&!f)1a d-a;1f(!e&&f)1a b-c;13 g=n(c,a,b),h=n(d,a,b);1a g&&h?d-c:g&&!h?b-c:!g&&h?d-a:0}12 q(a,b){1a o(a.1e.15,a.1e.15+a.1c.14,b.1e.15,b.1e.15+b.1c.14)*o(a.1e.17,a.1e.17+a.1c.18,b.1e.17,b.1e.17+b.1c.18)}12 s(a,b){13 c=a.1c.14*a.1c.18;1a c?q(a,b)/c:0}12 t(a,b){13 c=r.2O(b),d=r.2J(b),e={15:0,17:0};1f("1K"==d){1T(c[2]){1h"2v":1h"2T":e.15=.5*a.14;1B;1h"1O":e.15=a.14}"1S"==c[1]&&(e.17=a.18)}1G{1T(c[2]){1h"2v":1h"2T":e.17=.5*a.18;1B;1h"1S":e.17=a.18}"1O"==c[1]&&(e.15=a.14)}1a e}12 v(b){13 c=d.1g.4R(b),e=d.1g.4N(b),f={17:a(1I).4O(),15:a(1I).4P()};1a c.15+=-1*(e.15-f.15),c.17+=-1*(e.17-f.17),c}12 y(b,e,f,g){13 h,i,j,k=u.1t(b.1g),l=k.19,n=l.1A,o=m(f);1f(o||!f){1f(j={14:24,18:24},o){13 p=d.5J(f);h={17:p.y-.5*j.18+6,15:p.x-.5*j.14+6}}1G{13 q=b.1o.2x;h={17:(q?q.y:0)-.5*j.18+6,15:(q?q.x:0)-.5*j.14+6}}b.1o.2x={x:h.15,y:h.17}}1G h=v(f),j={14:a(f).7S(),18:a(f).7T()};1f(l.1l&&"2N"!=l.1C){13 y=r.2O(g),A=r.2O(e),C=r.2J(g),D=k.1o.19,E=k.4q().1j.1c,F=D.1n,G=D.1j,H=F&&"1m"==l.1n.1e?F:0,I=F&&"1j"==l.1n.1e?F:F+G,J=G+H+.5*l.1l.14-.5*E.14,K=I>J?I-J:0;4A=1b.1E(G+H+.5*l.1l.14+K+l.1l.1A["1K"==C?"x":"y"]),"1K"==C&&"15"==y[2]&&"15"==A[2]||"1O"==y[2]&&"1O"==A[2]?(j.14-=2*4A,h.15+=4A):("2b"==C&&"17"==y[2]&&"17"==A[2]||"1S"==y[2]&&"1S"==A[2])&&(j.18-=2*4A,h.17+=4A)}i=a.1k({},h);13 L=o?c(l.1u.1D):l.1u.1C,M=t(j,L),N=t(j,g);({17:h.17+M.17+n.y,15:h.15+M.15+n.x}),h={15:h.15+N.15,17:h.17+N.17};13 P=a.1k({},n);P=x(P,L,g,"2N"==k.19.1C),h.17+=P.y,h.15+=P.x;13 k=u.1t(b.1g),Q=k.1o.1u,R=a.1k({},Q[e]),S={x:0,y:0},y=r.2O(g);1f("2v"!=y[2]){13 C=C=r.2J(g),T=B.2f.6r(g,"2b"==C?{1K:!0,2b:!1}:{1K:!1,2b:!0});e==T&&(S.y=k.3F.5i.y,S.x=k.3F.5i.x)}13 U={17:h.17-R.2K.17-S.y,15:h.15-R.2K.15-S.x};R.1D.1e=U;13 V={1K:!0,2b:!0},W={x:0,y:0};1f(b.19.2Z){13 X=z(b),Y=b.19.1s?w.1t(b.1g):k,Z=Y.2p().1D.1c;V.40=s({1c:Z,1e:U},X),V.40<1&&((U.15<X.1e.15||U.15+Z.14>X.1e.15+X.1c.14)&&(V.1K=!1,W.x=U.15<X.1e.15?U.15-X.1e.15:U.15+Z.14-(X.1e.15+X.1c.14)),(U.17<X.1e.17||U.17+Z.18>X.1e.17+X.1c.18)&&(V.2b=!1,W.y=U.17<X.1e.17?U.17-X.1e.17:U.17+Z.18-(X.1e.17+X.1c.18)))}1G V.40=1;V.4m=W;13 $=Q[e].1H,7U=s({1c:j,1e:i},{1c:$.1c,1e:{17:U.17+$.1e.17,15:U.15+$.1e.15}});1a{1e:U,40:{1C:7U},3Z:V,1u:{1D:e,1C:g}}}12 z(b){13 c={17:a(1I).4O(),15:a(1I).4P()},e=b.19,f=e.1C;("2N"==f||"4L"==f)&&(f=b.1g);13 g=a(f).5l(e.2Z.5o).7p()[0];1f(!g||"51"==e.2Z.5o)1a{1c:p.51(),1e:c};13 h=d.1g.4R(g),i=d.1g.4N(g);1a h.15+=-1*(i.15-c.15),h.17+=-1*(i.17-c.17),{1c:{14:a(g).5Y(),18:a(g).5Z()},1e:h}}13 b={15:"1O",1O:"15",17:"1S",1S:"17",2v:"2v",2T:"2T"};e.3o&&e.3o<9||e.4T&&e.4T<2||e.5P&&e.5P<9A;13 x=12(){13 a=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],b={3S:0,3P:0,4c:1,5e:1,3Q:2,3R:2,4d:5,5f:5,4e:8,4f:8,4g:7,5g:7,4h:6,4i:6,4j:3,5h:3};1a 12(c,d,e,f){13 g=a[b[d]],h=a[b[e]],i=[1b.68(.5*1b.2W(g[0]-h[0]))?-1:1,1b.68(.5*1b.2W(g[1]-h[1]))?-1:1];1a r.37(d)||!r.37(e)||f||("1K"==r.2J(e)?i[0]=0:i[1]=0),{x:i[0]*c.x,y:i[1]*c.y}}}();1a{1t:y,4W:j,6r:c,7L:f,7V:v,7M:x,6t:m}}(),B.2f.4Z={x:0,y:0},B.2f.6l=12(a){B.2f.4Z={x:a.5K,y:a.6N}},B.3t=12(){12 b(){a(1x.33).1Z(a(1x.22("2i")).1Y("9B").1Z(a(1x.22("2i")).1Y("3b").1Z(a(11.1i=1x.22("2i")).1Y("7W"))))}12 c(b){1a{14:a(b).5Y(),18:a(b).5Z()}}12 e(b){13 d=c(b),e=b.4Q;1a e&&a(e).1q({14:d.14+"2y"})&&c(b).18>d.18&&d.14++,a(e).1q({14:"65%"}),d}12 f(b,c,e){(!11.1i||11.1i&&!d.1g.4S(11.1i))&&11.1P();13 f=b.19,g=a.1k({1N:!1},20[3]||{});!f.7X&&!d.2k(c)||a(c).1X("7Y")||(f.7X&&"2u"==a.1p(c)&&(b.3c=a("#"+c)[0],c=b.3c),!b.41&&c&&d.1g.4S(c)&&(a(b.3c).1X("7Z",a(b.3c).1q("80")),b.41=1x.22("2i"),a(b.3c).6i(a(b.41).1J())));13 h=1x.22("2i");a(11.1i).1Z(a(h).1Y("7o 9C").1Z(c)),d.2k(c)&&a(c).1W(),f.21&&a(h).1Y("9D"+b.19.21);13 i=a(h).6a("81[4n]").9E(12(){1a!(a(11).3i("18")&&a(11).3i("14"))});1f(i.2a>0&&!b.1F("3H")){b.27("3H",!0),f.1N&&(g.1N||b.1N||(b.1N=b.6u(f.1N)),b.1F("1M")&&(b.1e(),a(b.1i).1W()),b.1N.6v());13 j=0,k=1b.1U(9F,9G*(i.2a||0));b.2j("3H"),b.42("3H",a.1v(12(){i.1w(12(){11.6w=12(){}}),j>=i.2a||(11.5p(b,h),e&&e())},11),k),a.1w(i,a.1v(12(c,d){13 f=2I 9H;f.6w=a.1v(12(){f.6w=12(){};13 c=f.14,g=f.18,k=a(d).3i("14"),l=a(d).3i("18");k&&l||(!k&&l?(c=1b.23(l*c/g),g=l):!l&&k&&(g=1b.23(k*g/c),c=k),a(d).3i({14:c,18:g}),j++),j==i.2a&&(b.2j("3H"),b.1N&&(b.1N.1y(),b.1N=1r),b.1F("1M")&&a(b.1i).1J(),11.5p(b,h),e&&e())},11),f.4n=d.4n},11))}1G 11.5p(b,h),e&&e()}12 g(b,c){13 d=e(c),f={14:d.14-(2P(a(c).1q("2o-15"))||0)-(2P(a(c).1q("2o-1O"))||0),18:d.18-(2P(a(c).1q("2o-17"))||0)-(2P(a(c).1q("2o-1S"))||0)};b.19.3k&&"2B"==a.1p(b.19.3k)&&f.14>b.19.3k&&(a(c).1q({14:b.19.3k+"2y"}),d=e(c)),b.1o.2H=d,a(b.3a).82(c)}1a{1P:b,43:f,5p:g,6c:e}}(),a.1k(C.3I,12(){12 b(a,b,c){11.1o.3e[a]=d.4M(b,c)}12 c(a){1a 11.1o.3e[a]}12 e(a){11.1o.3e[a]&&(1I.6n(11.1o.3e[a]),3J 11.1o.3e[a])}12 f(){a.1w(11.1o.3e,12(a,b){1I.6n(b)}),11.1o.3e=[]}12 g(b,c,d,e){c=c;13 f=a.1v(d,e||11);11.1o.5E.2n({1g:b,83:c,84:f}),a(b).3V(c,f)}12 h(){a.1w(11.1o.5E,12(b,c){a(c.1g).4v(c.83,c.84)})}12 j(a,b){11.1o.2t[a]=b}12 l(a){1a 11.1o.2t[a]}12 m(){11.2E(11.1g,"4p",11.5q),11.2E(11.1g,"5b",a.1v(12(a){11.6x(a)},11)),11.19.2L&&a.1w(11.19.2L,a.1v(12(b,c){13 d=!1;"2r"==c&&(11.19.25&&a.1w(11.19.25,12(a,b){1a"4L"==b.1g&&"2r"==b.2x?(d=!0,!1):3x 0}),11.27("5F",d)),11.2E(11.1g,c,"2r"==c?d?11.35:11.1W:a.1v(12(){11.85()},11))},11)),11.19.25?a.1w(11.19.25,a.1v(12(b,c){13 d;1T(c.1g){1h"4L":1f(11.1F("5F")&&"2r"==c.2x)1a;d=11.1g;1B;1h"1C":d=11.1C}d&&11.2E(d,c.2x,"2r"==c.2x?11.1J:a.1v(12(){11.6y()},11))},11)):11.19.86&&11.19.2L&&!a.6z("2r",11.19.2L)>-1&&11.2E(11.1g,"5b",a.1v(12(){11.2j("1W")},11));13 b=!1;!11.19.9I&&11.19.2L&&((b=a.6z("4x",11.19.2L)>-1)||a.6z("5r",11.19.2L)>-1)&&"2N"==11.1C&&11.2E(11.1g,b?"4x":"5r",12(a){11.1F("4K")&&11.1e(a)})}12 n(){11.2E(11.1i,1R.2A.3r?"5r":"4p",11.5q),11.2E(11.1i,"5b",11.6x),11.2E(11.1i,1R.2A.3r?"5r":"4p",a.1v(12(){11.5s("4B")||11.1W()},11)),11.19.25&&a.1w(11.19.25,a.1v(12(b,c){13 d;1T(c.1g){1h"1D":d=11.1i}d&&11.2E(d,c.2x,c.2x.3g(/^(2r|4x|4p)$/)?11.1J:a.1v(12(){11.6y()},11))},11))}12 o(a,b,c){13 d=u.1t(11.1g);d&&d.5k(a,b,c)}12 p(a){13 b=u.1t(11.1g);b&&b.4o(a)}12 q(){11.4o(11.19.1u.1D)}12 r(){a(11.1i=1x.22("2i")).1Y("3b"),11.87()}12 s(){11.1P();13 a=u.1t(11.1g);a?a.1P():(2I v(11.1g),11.27("4K",!0))}12 t(){11.1F("1P")||(a(1x.33).1Z(a(11.1i).1q({15:"-5t",17:"-5t",2l:11.2l}).1Z(a(11.58=1x.22("2i")).1Y("9J")).1Z(a(11.3a=1x.22("2i")).1Y("7W"))),a(11.1i).1Y("9K"+11.19.21),11.19.7P&&(a(11.1g).1Y("88"),11.2E(1x.6k,"2r",a.1v(12(b){1f(11.1M()){13 c=a(b.1C).5l(".3b, .88")[0];(!c||c&&c!=11.1i&&c!=11.1g)&&11.1J()}},11))),1R.2A.49&&(11.19.4C||11.19.3Y)&&(11.5u(11.19.4C),a(11.1i).1Y("6A")),11.89(),11.27("1P",!0),B.31(11))}12 w(){13 c;11.2G,11.41&&11.3c&&((c=a(11.3c).1X("7Z"))&&a(11.3c).1q({80:c}),a(11.41).6i(11.3c).1y(),11.41=1r)}12 x(){d.46(a.1v(12(){11.8a()},11)),11.8b(),11.6B(),d.46(a.1v(12(){a(11.1i).6a("81[4n]").4v("9L")},11)),u.1y(11.1g),11.1F("1P")&&11.1i&&(a(11.1i).1y(),11.1i=1r);13 c,b="5D";(c=a(11.1g).1X(b))&&a(11.1g).3i("5C",c).8c("5D"),a(11.1g).8c("2s-1V")}12 y(b){13 c=a.1k({4D:11.19.4D,1N:!1},20[1]||{});11.1P(),11.1F("1M")&&a(11.1i).1J(),B.3t.43(11,b,a.1v(12(){13 b=11.1F("1M");b||11.27("1M",!0),11.8d(),b||11.27("1M",!1),11.1F("1M")&&(a(11.1i).1J(),11.1e(),11.5v(),a(11.1i).1W()),11.27("3f",!0),c.4D&&c.4D(11.3a.4E,11.1g),c.4F&&c.4F()},11),{1N:c.1N})}12 z(b){13 c,d={48:11.2G,1p:11.19.2c.1p,1X:11.19.2c.1X||{},8e:11.19.2c.8e||"82"};1f(!(11.1F("2m")||11.19.2c.3X&&11.1F("3f"))){1f(11.19.2c.3X&&(c=i.1t(d)))1a 11.6C(c,{4F:a.1v(12(){11.1F("1M")&&11.19.44&&11.19.44(11.3a.4E,11.1g)},11)}),3x 0;11.27("2m",!0),11.19.1N&&(11.1N?11.1N.6v():(11.1N=11.6u(11.19.1N),11.27("3f",!1)),11.1e(b)),11.1o.2m&&(11.1o.2m.6o(),11.1o.2m=1r),11.1o.2m=a.2c(a.1k({},d,{9M:a.1v(12(b,c,e){0!==e.9N&&(i.4W(d,e.4V),11.6C(e.4V,{4F:a.1v(12(){11.27("2m",!1),11.1F("1M")&&11.19.44&&11.19.44(11.3a.4E,11.1g),11.1N&&(11.1N.1y(),11.1N=1r)},11)}))},11)}))}}12 A(b){13 c=a.1k({1N:11.19.1N&&11.1N},20[1]||{});11.43(b,c)}12 C(){13 b=1x.22("2i");a(b).1X("7Y",!0);13 c=6s.4X(b,a.1k({},20[0]||{})),d=6s.61(b);1a a(b).1q(k(d)),11.43(b,{4D:!1,4F:12(){c.6v()}}),c}12 E(){1f(11.1F("1P")&&!11.19.2l){13 b=B.7I();b&&b!=11&&11.2l<=b.2l&&a(11.1i).1q({2l:11.2l=b.2l+1})}}12 F(){13 a=u.1t(11.1g);a&&(a.2Q(),11.1M()&&11.1e())}12 G(a){1f(1R.2A.49){a=a||0;13 b=11.1i.9O;b.9P=a+"5w",b.9Q=a+"5w",b.9R=a+"5w",b.9S=a+"5w"}}12 H(b){11.2j("1J"),11.2j("4B"),11.1F("1M")||11.5s("1W")||11.42("1W",a.1v(12(){11.2j("1W"),11.1W(b)},11),11.19.86||1)}12 I(b){1f(11.2j("1J"),11.2j("4B"),!11.1M()){1f("12"==a.1p(11.2G)||"12"==a.1p(11.1o.5x)){"12"!=a.1p(11.1o.5x)&&(11.1o.5x=11.2G);13 c=11.1o.5x(11.1g)||!1;1f(c!=11.1o.5G&&(11.1o.5G=c,11.27("3f",!1),11.6B()),11.2G=c,!c)1a}11.19.9T&&B.4Y(),11.27("1M",!0),11.19.2c?11.8f(b):11.1F("3f")||11.43(11.2G),11.1F("4K")&&11.1e(b),11.5v(),11.19.5y&&d.46(a.1v(12(){11.5q()},11)),"12"==a.1p(11.19.44)&&(!11.19.2c||11.19.2c&&11.19.2c.3X&&11.1F("3f"))&&11.19.44(11.3a.4E,11.1g),1R.2A.49&&(11.19.4C||11.19.3Y)&&(11.5u(11.19.4C),a(11.1i).1Y("8g").8h("6A")),a(11.1i).1W()}}12 J(){11.2j("1W"),11.1F("1M")&&(11.27("1M",!1),1R.2A.49&&(11.19.4C||11.19.3Y)?(11.5u(11.19.3Y),a(11.1i).8h("8g").1Y("6A"),11.42("4B",a.1v(11.6D,11),11.19.3Y)):11.6D(),11.1o.2m&&(11.1o.2m.6o(),11.1o.2m=1r,11.27("2m",!1)))}12 K(){11.1F("1P")&&(a(11.1i).1q({15:"-5t",17:"-5t"}),B.7J(),"12"!=a.1p(11.19.8i)||11.1N||11.19.8i(11.3a.4E,11.1g))}12 L(){11.2j("1W"),!11.5s("1J")&&11.1F("1M")&&11.42("1J",a.1v(12(){11.2j("1J"),11.2j("4B"),11.1J()},11),11.19.9U||1)}12 M(a){11[11.1M()?"1J":"1W"](a)}12 N(){1a 11.1F("1M")}12 O(){11.27("4J",!0),11.1F("1M")&&11.5v(),11.19.5y&&11.2j("6E")}12 P(){11.27("4J",!1),11.19.5y&&11.42("6E",a.1v(12(){11.2j("6E"),11.1F("4J")||11.1J()},11),11.19.5y)}13 D=12(b){1f(11.1M()){13 c;1f("2N"==11.19.1C){13 e=B.2f.6t(b),f=B.2f.4Z;1f(e)f.x||f.y?(11.1o.2x={x:f.x,y:f.y},c=1r):c=b;1G{1f(f.x||f.y)11.1o.2x={x:f.x,y:f.y};1G 1f(!11.1o.2x){13 g=B.2f.7V(11.1g);11.1o.2x={x:g.15,y:g.17}}c=1r}}1G c=11.1C;1f(B.2f.4W(11,11.19.1u.1D,c,11.19.1u.1C),b&&B.2f.6t(b)){13 h={14:a(11.1i).7S(),18:a(11.1i).7T()},i=d.5J(b),g=d.1g.4R(11.1i);i.x>=g.15&&i.x<=g.15+h.14&&i.y>=g.17&&i.y<=g.17+h.18&&d.46(a.1v(12(){11.2j("1J")},11))}}};1a{1P:t,6K:r,8d:s,87:m,89:n,1W:I,1J:J,6D:K,35:M,1M:N,85:H,6y:L,5u:G,27:j,1F:l,5q:O,6x:P,5s:c,42:b,2j:e,8b:f,2E:g,8a:h,5k:o,4o:p,9V:q,2Q:F,43:y,8f:z,6C:A,6u:C,1e:D,5v:E,6B:w,1y:x}}()),1R.3s()}(47);',62,616,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||this|function|var|width|left||top|height|options|return|Math|dimensions|lineTo|position|if|element|case|container|border|extend|stem|background|radius|_cache|type|css|null|shadow|get|hook|proxy|each|document|remove|closeButton|offset|break|target|tooltip|ceil|getState|else|bubble|window|hide|horizontal|opacity|visible|spinner|right|build|color|Tipped|bottom|switch|max|uid|show|data|addClass|append|arguments|skin|createElement|round||hideOn|arc|setState|for|_hookPosition|length|vertical|ajax||getTooltip|Position|beginPath|closePath|div|clearTimer|isElement|zIndex|xhr|push|padding|getOrderLayout|tooltips|click|tipped|states|string|middle|size|event|px|_globalAlpha|support|number|box|Skins|setEvent|180|content|contentDimensions|new|getOrientation|anchor|showOn|globalAlpha|mouse|split|parseInt|refresh|fillStyle|hex2fill|center|iframeShim|closeButtonShadow|abs|bubbleCanvas|blurs|containment|PI|add|blur|body|scripts|toggle|fill|isCenter|cleanup|cornerOffset|contentElement|t_Tooltip|inlineContent|_stemCorrection|timers|updated|match|canvas|attr|test|maxWidth|shadows|getSkin|_adjustment|IE|indexOf|getContext|touch|init|UpdateQueue|devicePixelRatio|resize|moveTo|void|charAt|toLowerCase|diameter|hookPosition|layout|stemLayout|sides|_corrections|constructor|preloading_images|prototype|delete|getVisible|x1|y1|x2|y2|topleft|topright|righttop|lefttop|math|getLayout|bind|defaultSkin|cache|fadeOut|contained|overlap|inlineMarker|setTimer|update|onShow||defer|jQuery|url|cssTransitions|items|createFillStyle|topmiddle|rightmiddle|rightbottom|bottomright|bottommiddle|bottomleft|leftbottom|leftmiddle|regex|getBorderDimensions|correction|src|setHookPosition|mouseenter|getStemLayout|transition|Stem|closeButtonCanvas|_void|unbind|_onWindowResizeHandler|mousemove|_remove|boolean|sideOffset|fadeTransition|fadeIn|afterUpdate|firstChild|callback|cos|000|startingZIndex|active|skinned|self|delay|cumulativeScrollOffset|scrollTop|scrollLeft|parentNode|cumulativeOffset|isAttached|Gecko|Chrome|responseText|set|create|hideAll|mouseBuffer||viewport|min|G_vmlCanvasManager|getCenterBorderDimensions||substring|skins|skinElement|prepare|order|mouseleave|rotate|borderRadius|topcenter|rightcenter|bottomcenter|leftcenter|corner|corrections|setHookPositionAndStemCorrection|closest|_resizeTimer|_getTooltip|selector|_updateTooltip|setActive|touchmove|getTimer|10000px|setFadeDuration|raise|ms|contentFunction|hideAfter|console|in|Object|title|tipped_restore_title|events|toggles|fnCallContent|call|apply|pointer|pageX|RegExp|parseFloat|Opera|opera|WebKit|required|available|findElement|setDefaultSkin|setStartingZIndex|isVisibleByElement|undefined|clearAjaxCache|innerWidth|innerHeight|getSide|getDimensions|getBubbleLayout|nullifyCornerOffset|replace|100|defaultCloseButton|hoverCloseButton|floor|prepend|find|auto|getMeasureElementDimensions|t_Close|drawCloseButtonState|default|hover|_drawBackgroundPath|before|dark|documentElement|_mouseBufferHandler|getByTooltipElement|clearTimeout|abort|reset|CloseButtons|getInversedPosition|Spinners|isPointerEvent|insertSpinner|play|onload|setIdle|hideDelayed|inArray|t_hidden|_restoreInlineContent|afterAjaxUpdate|_hide|idle|warn|_stemPosition|createOptions|getAttribute|getElementById|_preBuild|Array|concat|pageY|version|AppleWebKit|MobileSafari|check|pow|Za|checked|notified|toUpperCase|param|clear|try|DocumentTouch|catch|TransitionEvent|removeAll|startDelegating|removeDetached|drawRoundedRectangle|fillRect|isArray|Gradient|addColorStops|positions|toOrientation|side|toDimension|isCorner|atan|red|green|blue|360|drawBubble|drawCloseButton|createHookCache|t_ContentContainer|first|25000px|setStemCorrection|setAdjustment|closeButtonShift|closeButtonMouseover|closeButtonMouseout|CloseButton|stemOffset|backgroundRadius|_drawBorderPath|setGlobalAlpha|drawBackground|getBlurOpacity|stopDelegating|touchstart|close|onWindowResize|is|getHighestTooltip|resetZ|base|getTooltipPositionFromTarget|adjustOffsetBasedOnHooks|closeButtonSkin|flip|hideOnClickOutside|typeof|adjustment|outerWidth|outerHeight|_|getAbsoluteOffset|t_Content|inline|isSpinner|tipped_restore_inline_display|display|img|html|eventName|handler|showDelayed|showDelay|createPreBuildObservers|t_hideOnClickOutside|createPostBuildObservers|clearEvents|clearTimers|removeData|_buildSkin|dataType|ajaxUpdate|t_visible|removeClass|onHide|log|sqrt|object|setAttribute|slice|wrap|nodeType|setTimeout|do|while|exec|attachEvent|MSIE|KHTML|rv|Apple|Mobile|Safari|navigator|userAgent|fn|jquery|z_|z0|requires|_t_uid_|ontouchstart|instanceof|WebKitTransitionEvent|OTransitionEvent|createEvent|ready|scale|initElement|drawPixelArray|createLinearGradient|addColorStop|spacing|rgba|join|fff|255|hue||saturation|brightness|0123456789abcdef|hex2rgb|getSaturatedBW|init_|t_Bubble|iframe|t_iframeShim|frameBorder|javascript|15000px|t_CloseButtonShift|lineCap|t_CloseState|translate|stemCorrection|270|lineWidth|sin|setOpacity|getCenterBorderDimensions2|acos|t_Shadow|t_ShadowBubble|t_CloseButtonShadow|999999|undelegate|delegate|preventDefault|stopPropagation|200|getBySelector|outside|move|530|t_UpdateQueue|t_clearfix|t_Content_|filter|8e3|750|Image|fixed|t_Skin|t_Tooltip_|load|success|status|style|MozTransitionDuration|webkitTransitionDuration|OTransitionDuration|transitionDuration|hideOthers|hideDelay|resetHookPosition".split("|"),0,{}));

var BLACKLIST={ARMI8BW1187FB57B2E:!0,ARC3EZO1187B9B9314:!0,ARJR50M1187FB4F05A:!0,ARRMZVY12420781231:!0,ARSUCM81187B993875:!0,ARNFBYO132D578F55D:!0,ARWTNJG1269FCD3F08:!0,ARGKUUS1187B995AF7:!0,ARHRVFU1242077F2BE:!0,AR8JO7R1187B99AEA8:!0,ARSQOL91187B9A31E0:!0,ARNUZPP11F4C83BF15:!0,ARAFUZE1412A3175F6:!0,AR3I6YW1187B990DAA:!0,ARVXD591187FB44199:!0,ARSI6GV1187FB5CC73:!0,ARKJP2A1187FB41672:!0,AR0TQII1187B98FD27:!0,AR5YGS01187FB4FEE8:!0,ARE2DJ41187B99083E:!0,ARANPHH1187B9B33C8:!0,ARP8GB91187B9A45FB:!0,ARUK6A91187B992CCA:!0,ARILYBW11EB3016A0B:!0,AR8FK8V1187FB585AF:!0,ARJIG5P1187B98D9DE:!0,ARXJNFW12086C128F9:!0,ARKIQ6X1187B999742:!0,ARRDXPV1187FB38A66:!0,ARA7M471187B9A7215:!0,ARU6KCR1187B9A07C2:!0,ARVTPSM12086C1745D:!0,ARRFTQO138BEC18BC5:!0,ARAVJSE1269FCD0199:!0,ARU6Q641187B98CC0D:!0,AR5F7N11187B98B981:!0,ART48CP1187B9AE314:!0,AR94EZ61187B990729:!0,ARYWTQI1187B9AE146:!0,AR9F8TH1187B9B5A83:!0,AREH7LP1187B9B7164:!0,ARZ2IJA1187FB53B9F:!0,ARCI05Y1187B9AE8C0:!0,ARVXD591187FB44199:!0,ARN5DWZ1187FB3DE5C:!0,ARZF9EA1187FB39378:!0,AR3KFM11187FB51278:!0,ARSI6GV1187FB5CC73:!0,ARMS69O1187B9AEB9E:!0,ARSFRHB1187FB49AD9:!0,AR811DN1187B9A3C04:!0,AR3W0BY1187B989FFA:!0,AR43LAH1187FB50455:!0,ARMRTFD11C8A414957:!0,ARLDKCN122BCFCBF9C:!0,ARHEYYH11E2835C1F5:!0,ARRE7OC1187B9891B6:!0,AR3JN3J1187B9A148E:!0,ARWA06A1187B9AE557:!0,ARMTFAI1187B99B09A:!0,ARWPWEE11F4C842D30:!0,ART6XAN1187FB41466:!0,ARE2DJ41187B99083E:!0,ARTIPMT1187B98CD4A:!0,ARGV5II1187FB3DE8B:!0,ARQEPSF12F6AE5B910:!0,AR9JADT1187FB3C8AE:!0,AR7RHXY1187FB598E0:!0,AR1FH021187FB3DB18:!0,ARSFKT51187FB4A729:!0,ARDS99I1187B98B5AF:!0,ARVAJYV1257509E2DF:!0,ARGGQ6T1187B99AB85:!0,ARG0I631187FB43881:!0,ARZNG681187B999F28:!0,ARB0SBS1187FB4AA69:!0,ARMJ7BA1187B992989:!0,ARG0A7M1187FB46CF2:!0,ARSPS801187FB44A22:!0,ARUVGBJ1187FB5A02B:!0,ARHZCJG1187FB49290:!0,ARFST161187B9AA427:!0,ARMRX211187FB40614:!0,AR75K361187B9A43CB:!0,AR1WKBM1187FB38900:!0,ARVDAGT11F50C50DA4:!0,ARIOCR01187B9B4248:!0,ARWCLWT1269FB384FA:!0,AR9Q9YC1187FB5609B:!0,ARZTLDJ11F50C4CDBA:!0,AR1FH021187FB3DB18:!0,ARZ15SG1187B98D8D2:!0,ARDHUJX12086C15405:!0,ARP7U1O1187FB4BAE0:!0,ARSL6ZW1187B989997:!0,ARPHHXR1187B98B4AB:!0,ARI1R9J1187B996359:!0,AR5F7N11187B98B981:!0,ARUB6PA1187B99C4FD:!0,ARDYLUJ120AB963910:!0,ARLGBIT1269FB30149:!0,ARONYNO1187FB4352B:!0,ARHJRSX12420783BD7:!0,ARH2VA41187B993AF6:!0,ARGMGZV1269FB34568:!0,AR03PY81187B9894AB:!0,AR1FNK61187B98D87F:!0,ARPNCRJ12AA0D8C1B8:!0,ARYQQAW1187B9A9847:!0,ARL0XDQ1187FB39B2B:!0,AR8QANH1187B9B9EC7:!0,AR0GF811187B9AD3D6:!0,ARI9CYU1187B9B260E:!0,ARM1O2C1187FB3F0C6:!0,ARU7LB61187FB4F956:!0,AR9I0AS1187FB49FDF:!0,ARPC0S71187FB55F22:!0,ARFTLTO1187B9A7730:!0,AR1XQQU1187FB43579:!0,ARJAJ231187B9A7A6F:!0,AR4Z92X1187B98F274:!0,ARKXISN1187FB563C7:!0,ARPHHXR1187B98B4AB:!0,AR5RYL21187B9A5287:!0,ARPJEQY1187B992C1C:!0,ARTFTAQ12D5CD7C646:!0,ARLGEQT1242077E23B:!0,AR1S9Z41187B989DC6:!0,AR6O0KV1187FB4FB81:!0,ARWABY51187B9AF999:!0,ARALRRU12D5CD706D9:!0,ARMFZDJ12D5CD7B85D:!0,ARK4W5W1187B99753D:!0,ARQRPAA120AB961CBB:!0,ARDYLUJ120AB963910:!0,ARKZGLQ1187FB40E63:!0,ARAIMLU12AF7DB7716:!0,ARS5EW31187FB4149E:!0,ARIBYGD12592CDB004:!0,ARC33S0119B86696BC:!0,ARRCZXC139111DE95E:!0,ARRGXNI12AF7D91EE3:!0,ARZOLM01187B9A32FF:!0,ARJIPBB12F6F3EFA32:!0,ARBTEPD11F50C4BBF0:!0,AREAHUR14384D12582:!0,ARUVTYC14678F4A8E8:!0,ARLPUFB12B3B3544E3:!0,ARCKMBU1242077FE67:!0,ARFPQCU14A6B9279E0:!0,ARQTHMR1487F203C3A:!0},startPerfCheck=window.performance.now(),SN=window.SN=window.SN||{},$doc=$(document),body=document.body,itunesAffiliateToken="1l3vtEs",iTunesCountry="us",userId="",createUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})};window.chrome&&chrome.storage&&chrome.storage.sync&&chrome.storage.sync.get?(chrome.storage.sync.get("iTunesCountry",function(a){iTunesCountry=a.hasOwnProperty("iTunesCountry")?a.iTunesCountry:"us"}),chrome.storage.sync.get("userId",function(a){a.hasOwnProperty("userId")?userId=a.userId:(userId=createUniqueId(),chrome.storage.sync.set({userId:userId}))})):userId=createUniqueId();var script=document.currentScript||function(){var a=document.getElementsByTagName("script");return a[a.length-1]}();chrome=window.chrome||{},chrome.extension={},chrome.extension.getURL=function(a){return script.src.replace(/[^/]+$/,"")+a},SN.location=$.ajax("https://soundninja-node-js.herokuapp.com/location"),SN.storage=window.localStorage||{};try{SN.storage.test=1}catch(ignored){SN.storage={}}SN.scan=function(){var a="body",b=!1,c=!0,d=0,e=0;SoundninjaOpts.selector&&(a=SoundninjaOpts.selector,b=SoundninjaOpts.selectorFullMatch,d=0,e=0),SoundninjaOpts.hasOwnProperty("minHotttnesss")&&(d=SoundninjaOpts.minHotttnesss),SoundninjaOpts.hasOwnProperty("minFamiliarity")&&(e=SoundninjaOpts.minFamiliarity),SN.trackEvent("request","Extract","hotttnesss",d),SN.trackEvent("request","Extract","familiarity",e),$("body noscript,body script").remove();var f="";$(a).each(function(a,b){f+=$(b).text()+" "}),f=f.replace(/\s+/g," ");var g=["id:spotify","id:songkick","genre"];c||g.push("hotttnesss","familiarity"),$.ajax({url:"//soundninja-node-js.herokuapp.com/extract",data:{format:"json",text:f,results:100,bucket:g,min_hotttnesss:d,min_familiarity:e,sort:"familiarity-desc"},dataType:"json",traditional:!0,type:"POST",success:function(d){function e(c,d){setTimeout(function(){$(a).highlight(c,{caseSensitive:d,className:"sn-match",wordsOnly:!0,fullMatch:b}),--s,0==s&&($(".sn-match").not(r).each(function(a,b){var c=$(b),d=$(b.parentNode).closest("a"),e=c.text(),f=ARTISTS[e.toLowerCase()].name;c.data("soundninja-artist",f),(0==d.length||d.text()!=e)&&(d=c),d.after(' <i class="icon icon-headphones fa-soundninja" data-soundninja-artist="'+f+'"></i>'),SN.trackEvent("appearance","Page content",f)}),$doc.trigger("sn-scan-complete"))},0),++s}var f;ARTISTS=window.ARTISTS||{},d=d.response.artists,d=d.map(function(a){return a.name=a.name.replace("é","e"),a}),SN.trackEvent("response","Extract","artists",d.length);var g={};c||$.ajax(chrome.extension.getURL("words.txt"),{async:!1,success:function(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b];g[c.toLowerCase()]=c}}});for(var h={},i="\n",j=0;j<d.length;j++){var k=d[j];if(SN.trackEvent("response","Extract",k.id),!c||!BLACKLIST[k.id]){!c&&g[k.name.toLowerCase()]&&(i+='"'+k.id+'":  true, //'+k.familiarity.toFixed(6)+"	"+k.hotttnesss.toFixed(6)+"	"+k.name+"\n"),k.genres&&(f=k.genres.map(function(a){var b=a.name;return SN.trackEvent("response","Extract",b),b}).slice(0,2));var l={loaded:!1,elements:[],genres:f,name:k.name};if(k.foreign_ids)for(var m=0;m<k.foreign_ids.length;m++){var n=k.foreign_ids[m];"spotify"==n.catalog&&(l.spotifyId=n.foreign_id.replace("spotify:artist:",""),h[l.spotifyId]=l),"songkick"==n.catalog&&(l.songkickId=n.foreign_id.replace("songkick:artist:",""))}else console.log("Who is "+k.name+"?");ARTISTS[k.name.toLowerCase()]=l}}if(c||console.log(i),h)for(var o=Object.keys(h),p=0;p<o.length;p+=50)!function(a){SN.spotifyLogin(!1,function(b){$.ajax("https://api.spotify.com/v1/me/following/contains",{data:{ids:a.join(","),type:"artist"},headers:{Authorization:"Bearer "+b}}).done(function(b){for(var c=0;c<a.length;c++){var d=a[c];h[d].spotifyFollowing=b[c],SN.trackEvent("following","Spotify",d,b[c]?1:0)}})}),$.ajax("https://api.spotify.com/v1/artists",{data:{ids:a.join(",")}}).done(function(a){for(var b=0;b<a.artists.length;b++){var c=a.artists[b];c.images&&c.images.length&&(h[c.id].image=c.images[c.images.length-1].url);var d=c.followers.total;SN.trackEvent("followers","Spotify","count",d);var e="";if(d>=1e3){var f=100;if(d>=1e4&&(f=1e3),d=Math.round(d/f)*f/1e3,e="k",d>=1e3){var f=100;d>=1e4&&(f=1e3),d=Math.round(d/f)*f/1e3,e="m"}}d=d.toString()+e,h[c.id].spotifyFollowers=d}})}(o.slice(p,p+50));var q=Object.keys(ARTISTS).map(function(a){return ARTISTS[a].name});console.log(q.length+" artists loaded"),q.sort(function(a,b){return b.length-a.length});var r=$(".sn-match"),s=0;e($.grep(q,function(a){return!/ /.test(a)}),!0),e($.grep(q,function(a){return/ /.test(a)}),!0)},error:function(a,b,c){console.warn(a),console.warn(b),console.warn(c)}})},SN.setupTooltips=function(){var a=!1;$(".sn-match, i.fa-soundninja").each(function(){var b=$(this).data("soundninja-artist");if(b){var c=b.toString().toLowerCase();ARTISTS[c].elements.push(this),ARTISTS[c].loaded||("iTunes"==SoundninjaOpts.preview?SN.fetchItunesContent(c):ARTISTS[c].spotifyId&&SN.fetchSpotifyContent(c,ARTISTS[c].spotifyId),"SeatGeek"==SoundninjaOpts.events?SN.fetchSeatGeekContent(c):ARTISTS[c].songkickId&&SN.fetchSongkickContent(c)),ARTISTS[c].loaded=!0,a=!0}});window.performance.now()},SN.addContentToTooltip=function(a,b){var c,d,e=ARTISTS[b].elements;ARTISTS[b].tip?ARTISTS[b].tip.refresh():(d=!0,c={hook:"topmiddle",target:"mouse",fixed:!0,maxWidth:400,spinner:{radius:7,height:1,width:2.5,dashes:30,opacity:1,padding:10,rotation:700,color:"#fff"},onShow:function(a,b){var c=$(b).data("soundninja-artist");SN.trackEvent("hover","Artist Name",c)}},d||$.extend(c,{hideOn:!1,hideOthers:!0}),ARTISTS[b].tip=Tipped.create(e,function(){return SN.createTooltip(b)},c),$(".sn-match").addClass("is-active"))},SN.createTooltip=function(a){var b=ARTISTS[a].genres,c=ARTISTS[a].tracks,d=ARTISTS[a].seatGeekContent,e=ARTISTS[a].events,f=ARTISTS[a].eventsCalendar,g=ARTISTS[a].spotifyId,h=ARTISTS[a].spotifyFollowing,i=ARTISTS[a].image,j=ARTISTS[a].spotifyFollowers,k=ARTISTS[a].name,l='<div class="Tip">';if(g){var m=h?"disabled":"",n=h?"Following":"Follow";l+='<div class="spotify-div spotify-theme-dark">',i&&(l+='    <a target="_spotify" href="https://open.spotify.com/artist/'+g+'" target="spotify">',l+='       <div class="spotify-img" width="50px" height="50px" style="background-image:url(\''+i+"')\"></div>",l+="        </a>"),l+='    <div class="spotify-bd">',l+='        <div class="title"><a href="https://open.spotify.com/artist/'+g+'" target="spotify">'+k+"</a></div>",l+="        <button "+m+' class="SN-spotify-button SN-spotify-login" data-follow="'+g+'" title="Follow on Spotify">',l+='            <span class="spotify-bt-icon"></span>',l+='            <span class="spotify-bt-text">'+n+"</span>",l+="        </button>",j&&(l+='                    <div class="spotify-count"><div class="spotify-count-num spotify-front">'+j+"</div></div>"),l+="            </div>",l+="    </div>"}else if(l+='<a href="http://getsoundninja.com" target="_blank"><img class="Logo" width="63" src="'+chrome.extension.getURL("images/sn-logo-white.png")+'"></a>',l+='<h3 class="Artist">'+k+"</h3>",b){l+='<ul class="Genres">';for(var o=0;o<b.length;o++){var p=b[o];l+="<li>"+p+"</li>"}l+="</ul>"}if(c){for(var q="",r=Math.min(5,c.length),s=0;r>s;s++)q+=SN.formatTrack(a,(s+r-1)%r,s,(s+1)%r);SN.trackEvent("tracks","Preview Source","count",c.length),l+='<ul class="Tracks">',l+=q,l+="</ul>"}if(d&&(l+='<p class="upcomingEvents">Playing nearest you</p>',l+='<ul class="Events">',l+=d,l+="</ul>"),e){for(var t="",u=0;u<e.length;u++){t+=SN.formatEvent(e[u],a);break}SN.trackEvent("events","Events","count",e.length);for(var u=0;u<e.length;u++)SN.trackEvent("events","Events","distance",e[u].distance);l+='<div class="Playing-near-you">',l+='<span class="nearYouText">Playing near you</span>',l+='<span class="Full-schedule"><a href="'+f+'" target="_blank"><i class="icon icon-calendar"></i> Full schedule</a></span>',l+="</div>",l+='<ul class="Events">',l+=t,l+="</ul>"}else l+='<div class="Playing-near-you">',l+='<span class="nearYouText">Playing near you</span>',l+='<span class="Full-schedule"><a href="'+f+'" target="_blank"><i class="icon icon-calendar"></i> Full schedule</a></span>',l+='<div class="gimme5">',l+='<span class="artistName">'+k+'</span> is currently not on tour. Check the <a href="'+f+'" target="_blank">full schedule</a> to find out about future concerts.',l+="</div>",l+="</div>";return l+='<div class="sk-bt">',l+='<img class="skLogo">',l+="</div>",l+="</div>"},SN.formatItunesContent=function(a,b){for(var c=[],d="",e=0;e<a.resultCount;e++)c.push({trackId:a.results[e].trackId,artistName:a.results[e].artistName,artworkUrl:a.results[e].artworkUrl100,trackName:a.results[e].trackName,trackViewUrl:a.results[e].trackViewUrl+"&at="+itunesAffiliateToken+"&mt=8",previewUrl:a.results[e].previewUrl,collectionViewUrl:a.results[e].collectionViewUrl}),d=a.results[0].collectionViewUrl;ARTISTS[b].tracks=c,$doc.trigger("format-tracks-content-complete",b)},SN.formatSpotifyContent=function(a,b){for(var c=[],d={},e=0;e<a.tracks.length;e++){var f=a.tracks[e],g={trackId:f.id,artistName:f.artists[0].name,trackName:f.name,trackViewUrl:f.external_urls.spotify,previewUrl:f.preview_url,spotifyId:f.id};f.album.images&&f.album.images.length&&(g.artworkUrl=f.album.images.slice(-1)[0].url),c.push(g),d[g.spotifyId]=g}ARTISTS[b].tracks=c,d&&SN.spotifyLogin(!1,function(a){var b=Object.keys(d);$.ajax("https://api.spotify.com/v1/me/tracks/contains",{data:{ids:b.join(",")},headers:{Authorization:"Bearer "+a}}).done(function(a){for(var c=0;c<b.length;c++){var e=b[c];(d[e].spotifyAdded=a[c])&&$("[data-track-add-spotify="+e+"]").addClass("added")}})}),$doc.trigger("format-tracks-content-complete",b)},SN.toNumericDayShortMonth=function(a){var b=["Jan","Feb","Mar"," Apr"," May"," Jun"," Jul"," Aug"," Sep"," Oct"," Nov"," Dec"];return b[a.getMonth()]+" "+a.getDate()};try{(new Date).toLocaleDateString("i")}catch(e){"RangeError"===e.name&&(SN.toNumericDayShortMonth=function(a){return a.toLocaleDateString([],{month:"short",day:"numeric"})})}SN.formatSongkickContent=function(a,b){if(a=a.resultsPage,a.totalEntries>=50&&console.warn("we should get more pages from songkick for "+b),a=a.results.event){ARTISTS[b].events=[];for(var c=0;c<a.length;c++){var d=a[c],e={},f=new Date(d.start.date);e.date=SN.toNumericDayShortMonth(f),e.title=d.displayName.replace(/ \([^)]*\)$/,""),e.city=d.venue.metroArea.displayName;var g=d.venue.metroArea.state,h=d.venue.metroArea.country.displayName;e.province=g?g.displayName+", "+h:h,e.url=d.uri,e.location=d.location,ARTISTS[b].events.push(e)}SN.location.done(function(a){function c(a,b,c,d){var e=6371e3,f=a*Math.PI/180,g=c*Math.PI/180,h=(c-a)*Math.PI/180,i=(d-b)*Math.PI/180,j=Math.sin(h/2)*Math.sin(h/2)+Math.cos(f)*Math.cos(g)*Math.sin(i/2)*Math.sin(i/2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),l=e*k;return l}for(var d=0;d<ARTISTS[b].events.length;d++){var e=ARTISTS[b].events[d];e.distance=c(a.location.latitude,a.location.longitude,e.location.lat,e.location.lng)}ARTISTS[b].events.sort(function(a,b){return a.distance-b.distance})})}$doc.trigger("format-events-content-complete",b)},SN.fetchItunesContent=function(a){var b=a.replace(" ","+").trim();$.ajax({url:"https://itunes.apple.com/search",type:"GET",dataType:"jsonp",cache:!0,data:{term:b,limit:5,entity:"musicTrack",sort:"recent",country:iTunesCountry}}).done(function(b){SN.formatItunesContent(b,a)}).fail(function(){ARTISTS[a].loaded=!1})},SN.fetchSpotifyContent=function(a,b){$.ajax({url:"https://api.spotify.com/v1/artists/"+b+"/top-tracks",type:"GET",dataType:"json",cache:!0,data:{country:iTunesCountry}}).done(function(b){SN.formatSpotifyContent(b,a)}).fail(function(){ARTISTS[a].loaded=!1})},SN.fetchSeatGeekContent=function(a){$.ajax("http://api.seatgeek.com/2/events",{data:{q:a}}).done(function(b){function c(b){if(0==b){var c=Object.keys(f),d="";c.sort(function(a,b){return a-b});for(var e=0;e<c.length;e++){var g=c[e],h=f[g];d+="<li>"+a+" is performing "+g/1e3+" km away</li>";for(var i=0;i<h.length;i++){var j=h[i];$.each(j,function(a,b){d+='<li class="'+a+'">'+JSON.stringify(b)+"</li>"})}}ARTISTS[a].seatGeekContent=d,$doc.trigger("format-seatgeek-content-complete",a)}}function d(a){var b=a.venue.location,d=b.lat,e=b.lon;return function(b){var h=b.coords.latitude,i=b.coords.longitude,j=6371e3,k=d*Math.PI/180,l=h*Math.PI/180,m=(h-d)*Math.PI/180,n=(i-e)*Math.PI/180,o=Math.sin(m/2)*Math.sin(m/2)+Math.cos(k)*Math.cos(l)*Math.sin(n/2)*Math.sin(n/2),p=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),q=j*p;a.distance=q,f[q]=f[q]||[],f[q].push(a),--g,c(g)}}function e(a){switch(a.code){case a.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case a.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case a.TIMEOUT:console.log("The request to get user location timed out.");break;case a.UNKNOWN_ERROR:console.log("An unknown error occurred.")}f[0]=f[0]||[],f[0].push(i),--g,c(g)}for(var f={},g=0,h=0;h<b.events.length;h++){var i=b.events[h];navigator.geolocation&&(++g,navigator.geolocation.getCurrentPosition(d(i),e))}})},SN.fetchSongkickContent=function(a){var b=ARTISTS[a].songkickId;ARTISTS[a].eventsCalendar="http://www.songkick.com/artists/"+b+"/calendar",$.ajax("//soundninja-node-js.herokuapp.com/calendar",{data:{songkickId:b,per_page:50}}).done(function(b){SN.formatSongkickContent(b,a)})},SN.formatTrack=function(a,b,c,d){var e=ARTISTS[a].tracks[c],f={artistName:a,prevTrackIndex:b,trackIndex:c,nextTrackIndex:d,track:e};return SN.templates.track(f)},SN.formatEvent=function(a,b){var c={event:a,artistName:b,threshold:1e6};return SN.templates.event(c)},SN.spotifyCallbacks=[],SN.spotifyLogin=function(a,b){if(SN.storage.spotifyAccessToken&&(new Date).getTime()<SN.storage.spotifyExpires)a&&SN.trackEvent("login","Spotify","already authorized"),b(SN.storage.spotifyAccessToken);else if(SN.spotifyCallbacks.push(b),a){SN.storage.spotifyAccessToken?SN.trackEvent("login","Spotify","re-authorization attempt"):SN.trackEvent("login","Spotify","authorization attempt");var c=Math.random(),d=chrome.extension.getURL("thanks.html"),e="https://accounts.spotify.com/authorize?";e+="client_id=9d6d07b8a0c04c83b53fcd21efa0207c&",e+="response_type=token&",e+="redirect_uri="+d+"&",e+="state="+c+"&",e+="scope=user-follow-modify user-follow-read user-library-read user-library-modify user-read-private playlist-read-private playlist-modify-public playlist-modify-private";var f="SoundninjaSpotify",g="menubar=no,status=yes,width=480,height=680",h=window.open(e,f,g),i=window.setInterval(function(){function a(a){var b={};return a.split("&").forEach(function(a){a=a.split("="),b[a[0]]=a[1]}),b}if(h.closed)SN.trackEvent("login","Spotify","cancelled"),window.clearInterval(i);else if(0==h.location.href.indexOf(d)){var e=h.location.hash,f=h.location.search;window.clearInterval(i),h.close();var g=e.indexOf(c)>=0,j=f.indexOf(c)>=0;if((g||j)&&(j&&SN.trackEvent("login","Spotify","unauthorized"),g))for(SN.trackEvent("login","Spotify","authorized"),e=a(e.substr(1)),SN.storage.spotifyAccessToken=e.access_token,SN.storage.spotifyExpires=(new Date).getTime(),SN.storage.spotifyExpires=parseInt(SN.storage.spotifyExpires)+1e3*parseInt(e.expires_in);b=SN.spotifyCallbacks.shift();)b(SN.storage.spotifyAccessToken)}},5e3)}},SN.spotifyProfile=function(a){SN.spotifyLogin(!0,function(b){SN.storage.spotifyUserId?a(b,SN.storage.spotifyUserId):$.ajax("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+b}}).done(function(c){SN.storage.spotifyUserId=c.id,SN.trackEvent("country","Spotify",c.country),SN.trackEvent("user","Spotify","followers",c.followers.total),SN.trackEvent("id","Spotify",c.id),SN.trackEvent("product","Spotify",c.product),a(b,SN.storage.spotifyUserId)})})},SN.resetPlayerExtension=function(){var a=$(".SN-player-extension").css("overflow-y","");a.animate({scrollTop:0}),a.children().css("left","")},SN.spotifyPlaylistAddTrack=function(a,b,c,d){$.ajax("https://api.spotify.com/v1/users/"+a+"/playlists/"+b+"/tracks?uris="+c,{headers:{Authorization:"Bearer "+d},method:"POST",type:"POST"}).done(function(){SN.trackEvent("alter","Spotify","add track to playlist"),SN.resetPlayerExtension(),$(".SN-player-toggle-extension").trigger("click")})},SN.addPlayer=function(){function a(a){SN.trackEvent("track","Player","started"),d=this.getAttribute("data-artist-name"),e=this.getAttribute("data-prev-track-preview"),f=this.getAttribute("data-next-track-preview");var b=this.getAttribute("data-track-preview"),c=ARTISTS[d].tracks[b],g=c.previewUrl;SN.addContentToPlayer(c),SN.playTrack(g,a)}function b(a){var b=$(a).val(),c="spotify:track:"+$("#snPlayer").find("[data-track-add-spotify]").attr("data-track-add-spotify");SN.spotifyProfile(function(a,d){$.ajax("https://api.spotify.com/v1/users/"+d+"/playlists",{data:JSON.stringify({name:b,"public":!1}),headers:{Authorization:"Bearer "+a},contentType:"application/json",method:"POST",type:"POST"}).done(function(b){SN.trackEvent("alter","Spotify","create playlist"),SN.spotifyPlaylistAddTrack(d,b.id,c,a)})})}$.get(chrome.extension.getURL("images/svgdefs.svg"),function(a){var b=document.createElement("div");b.innerHTML=(new XMLSerializer).serializeToString(a.documentElement),document.body.insertBefore(b,document.body.childNodes[0])});var c=SN.templates.player();$("body").append(c);var d,e,f;$doc.on("click","[data-track-preview]",a),$("#snTrackPlayer").on("ended",function(b){SN.trackEvent("track","Player","ended");var c=$('[data-artist-name="'+d+'"][data-track-preview="'+f+'"]').get(0);a.call(c,b)}),$doc.on("click","[data-track-add-spotify]",function(){var a=this;SN.spotifyLogin(!0,function(b){var c=a.getAttribute("data-track-add-spotify");$.ajax("https://api.spotify.com/v1/me/tracks?ids="+c,{headers:{Authorization:"Bearer "+b},method:"PUT",type:"PUT",dataType:"text"}).done(function(){SN.trackEvent("alter","Spotify","add track to library"),$("[data-track-add-spotify="+c+"]").addClass("added")})})}),$doc.on("click","#snPlayerClose",function(){SN.trackEvent("player","Player","closed"),SN.togglePlayer("hide"),$(".SN-player-extension").css("height",0),$(".SN-player-extension").removeClass("active");var a=document.getElementById("snTrackPlayer");a.pause(),a.currentTime=0}),$doc.on("click",".SN-player-prev",function(b){SN.trackEvent("track","Player","prev");var c=$('[data-artist-name="'+d+'"][data-track-preview="'+e+'"]').get(0);a.call(c,b),$(".SN-player-play").trigger("click")}),$doc.on("click",".SN-player-play",function(){SN.trackEvent("track","Player","play");var a=document.getElementById("snTrackPlayer");a.play(),$(this).hide(),$(".SN-player-pause").show()}),$doc.on("click",".SN-player-pause",function(){SN.trackEvent("track","Player","pause");var a=document.getElementById("snTrackPlayer");a.pause(),$(this).hide(),$(".SN-player-play").show()}),$doc.on("click",".SN-player-next",function(){SN.trackEvent("track","Player","next"),$("#snTrackPlayer").trigger("ended"),$(".SN-player-play").trigger("click")}),$doc.on("click","#snTipClose",function(){SN.trackEvent("click","Tooltip","close"),$(".t_Tooltip").hide()}),$doc.on("click","[data-purchase-link]",function(a){{var b=$("#snPlayer").data();b.artistName+" - "+b.trackName,a.currentTarget.getAttribute("data-purchase-link")}SN.trackEvent("click","Player","purchase")}),$doc.on("click",".SN-spotify-login",function(a){SN.spotifyLogin(!0,function(b){var c=$(a.currentTarget),d=c.data("follow");d&&$.ajax("https://api.spotify.com/v1/me/following?ids="+d+"&type=artist",{headers:{Authorization:"Bearer "+b},method:"PUT",type:"PUT"}).done(function(){SN.trackEvent("alter","Spotify","follow artist"),c.children(".spotify-bt-text").text("Following")})})}),$doc.on("click",".SN-player-toggle-extension",function(){var a=$("#snPlayer"),b=$(".SN-player-extension"),c=b.height(),d=0,e=a.outerHeight(),f=a.width();0==c||"0px"==c?(SN.trackEvent("click","Player","open extension"),d=b.children(":first").height(),$(".SN-player-extension").addClass("active"),$(".SN-player-toggle-extension").addClass("active")):(SN.trackEvent("click","Player","close extension"),$(".SN-player-extension").removeClass("active"),$(".SN-player-toggle-extension").removeClass("active")),b.css({height:d,bottom:e-4,width:f})}),$doc.on("click",".SN-player-select-action",function(){SN.trackEvent("click","Player","copy url");var a=$(this).hide().data("for");$(a).show().each(function(){this.select()})}),$doc.on("click",".SN-player-spotify-add",function(){var a="spotify:track:"+$("#snPlayer").find("[data-track-add-spotify]").attr("data-track-add-spotify");SN.spotifyProfile(function(b,c){$.ajax("https://api.spotify.com/v1/users/"+c+"/playlists",{data:{limit:50,offset:0},headers:{Authorization:"Bearer "+b},cache:!1}).done(function(d){SN.trackEvent("user","Spotify","playlists",d.total);var e=$(".SN-player-extension-menu-playlists").empty(),f=$('<li class="SN-player-reset-extension SN-clickable"><i class="icon icon-fw icon-angle-left"></i> Back</li>');e.append(f),f=$('<li class="SN-player-spotify-add-new SN-clickable"><i class="icon icon-fw icon-plus"></i> New playlist</li>'),e.append(f);for(var g=0;g<d.items.length;g++){var h=d.items[g];SN.trackEvent("user","Spotify","tracks in playlist",h.tracks.total);var i=h.name+" ("+h.tracks.total+")";f=$('<li class="SN-clickable"><i class="icon icon-fw icon-music"></i> '+i+"</li>"),function(d){f.on("click",function(){SN.spotifyPlaylistAddTrack(c,d,a,b)})}(h.id),e.append(f)}var j=$(".SN-player-extension");j.children(":nth-child(1)").css("left","-100%"),j.children(":nth-child(2)").css("left",0),j.children(":nth-child(3)").css("left","100%"),setTimeout(function(){j.css("overflow-y","auto")},400)})})}),$doc.on("click",".SN-player-spotify-add-new",function(){var a=$(".SN-player-extension").css("overflow-y","");a.animate({scrollTop:0}),a.children(":nth-child(1)").css("left","-200%"),a.children(":nth-child(2)").css("left","-100%"),a.children(":nth-child(3)").css("left",0)}),$doc.on("keypress","#snNewPlaylistName",function(a){(13==a.which||10==a.which)&&b(this)}),$doc.on("click",".SN-player-spotify-add-new-submit",function(){var a=$(this).data("for");b(a)}),$doc.on("click",".SN-player-reset-extension",SN.resetPlayerExtension)},SN.addContentToPlayer=function(a){$("#snPlayer").data({artistName:a.artistName,trackName:a.trackName}),$("#snTrackCoverImage").attr("src",a.artworkUrl),$("#snArtistName").text(a.artistName),$("#snTrackName").text(a.trackName),$('.SN-player-select-action[data-for="#snTrackViewUrl"]').show(),$("#snTrackViewUrl").val(a.trackViewUrl).hide(),$("[data-purchase-link]").attr("href",a.trackViewUrl);var b=$(".SN-player-mymusic-add").removeClass("added");a.spotifyId?(b.attr("data-track-add-spotify",a.spotifyId),a.spotifyAdded&&b.addClass("added"),b.children("img.Partner-logo").attr("src",chrome.extension.getURL("images/add_to_playlist-black.png"))):b.children("img.Partner-logo").attr("src",chrome.extension.getURL("images/itunes-button-small.png"))},SN.togglePlayer=function(a){"show"===a?$("#snPlayer").addClass("is-active"):$("#snPlayer").removeClass("is-active")},SN.playTrack=function(a){$("#snTrackPlayer").attr("src",a),SN.togglePlayer("show"),$(".SN-player-play").trigger("click");var b=$("#snPlayer").data(),c=b.artistName+" - "+b.trackName;SN.trackEvent("click","Tooltip Play Button",c)},SN.setupAnalaytics=function(){},SN.trackEvent=function(a,b,c,d){"undefined"==typeof d&&(d=1),ga("soundninja.send",{hitType:"event",eventCategory:b,eventAction:a,eventLabel:c,eventValue:d})},SN.addAdminPanel=function(){"sngod"!=window.location.hash.substring(1)||SN.adminLoaded||($.ajax(chrome.extension.getURL("admin.min.js"),{dataType:"script",cache:!0}),SN.adminLoaded=!0)},SN.events=function(){$doc.on("sn-scan-complete",SN.setupTooltips),$doc.on("format-tracks-content-complete",SN.addContentToTooltip),$doc.on("format-seatgeek-content-complete",SN.addContentToTooltip),$doc.on("format-events-content-complete",SN.addContentToTooltip)},$(window).on("hashchange",SN.addAdminPanel),SN.loadCSS=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",chrome.extension.getURL("Soundninja.css")),document.getElementsByTagName("head")[0].appendChild(a)},SN.init=function(){if(window.SoundninjaOpts||(SoundninjaOpts={}),SN.setupAnalaytics(),SN.events(),SN.scan(),SN.addPlayer(),SN.loadCSS(),SoundninjaOpts.monitorSelector){$.extend(SoundninjaOpts,{selector:SoundninjaOpts.monitorSelector,selectorFullMatch:!1});var a=$.fn.html;$.fn.html=function(){a.apply(this,arguments);var b=$(this);b.is(SoundninjaOpts.monitorSelector)&&1==arguments.length&&SN.scan()}}},$(window).on("load",function(){console.log("NINJA TIME"),SN.init()})}(jQuery),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(7)["default"],f=c(8)["default"];b.__esModule=!0;var g=c(1),h=e(g),i=c(2),j=f(i),k=c(3),l=f(k),m=c(4),n=e(m),o=c(5),p=e(o),q=c(6),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new l["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(b===!0)return e(this);if(b===!1||null==b)return d(this);if(p(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=f(c.data);g.contextPath=j.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){function c(b,c,e){i&&(i.key=b,i.index=c,i.first=0===c,i.last=!!e,k&&(i.contextPath=k+b)),h+=d(a[b],{data:i,blockParams:j.blockParams([a[b],b],[k+b,null])})}if(!b)throw new l["default"]("Must pass iterator to #each");var d=b.fn,e=b.inverse,g=0,h="",i=void 0,k=void 0;if(b.data&&b.ids&&(k=j.appendContextPath(b.data.contextPath,b.ids[0])+"."),q(a)&&(a=a.call(this)),b.data&&(i=f(b.data)),a&&"object"==typeof a)if(p(a))for(var m=a.length;m>g;g++)c(g,g,g===a.length-1);else{var n=void 0;for(var o in a)a.hasOwnProperty(o)&&(n&&c(n,g-1),n=o,g++);n&&c(n,g-1,!0)}return 0===g&&(h=e(this)),h}),a.registerHelper("if",function(a,b){return q(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||j.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){q(a)&&(a=a.call(this));var c=b.fn;if(j.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=f(b.data);d.contextPath=j.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}function f(a){var b=j.extend({},a);return b._parent=a,b}var g=c(7)["default"],h=c(8)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d,b.createFrame=f;var i=c(4),j=g(i),k=c(3),l=h(k),m="3.0.1";b.VERSION=m;var n=6;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=o;var p=j.isArray,q=j.isFunction,r=j.toString,s="[object Object]";d.prototype={constructor:d,logger:t,log:u,registerHelper:function(a,b){if(r.call(a)===s){if(b)throw new l["default"]("Arg not supported with multiple helpers");j.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(r.call(a)===s)j.extend(this.partials,a);else{if("undefined"==typeof b)throw new l["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var t={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,b){if("undefined"!=typeof console&&t.level<=a){var c=t.methodMap[a];(console[c]||console.log).call(console,b);

}}};b.logger=t;var u=t.log;b.log=u},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a){return j[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return l.test(a)?a.replace(k,c):a}function g(a){return a||0===a?o(a)&&0===a.length?!0:!1:!0}function h(a,b){return a.path=b,a}function i(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.blockParams=h,b.appendContextPath=i;var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=/[&<>"'`]/g,l=/[&<>"'`]/,m=Object.prototype.toString;b.toString=m;var n=function(a){return"function"==typeof a};n(/x/)&&(b.isFunction=n=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)});var n;b.isFunction=n;var o=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===m.call(a):!1};b.isArray=o},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=q.COMPILER_REVISION;if(b!==c){if(c>b){var d=q.REVISION_CHANGES[c],e=q.REVISION_CHANGES[b];throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=n.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new p["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){var c=void 0===arguments[1]?{}:arguments[1],f=c.data;d._setup(c),!c.partial&&a.useData&&(f=j(b,f));var g=void 0,h=a.useBlockParams?[]:void 0;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(e,b,e.helpers,e.partials,f,h,g)}if(!b)throw new p["default"]("No environment passed to template");if(!a||!a.main)throw new p["default"]("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new p["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:n.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=n.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new p["default"]("must pass block params");if(a.useDepths&&!g)throw new p["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=void 0===arguments[1]?{}:arguments[1];return c.call(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),g&&[b].concat(g))}return h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=c.partials[c.name],a}function h(a,b,c){if(c.partial=!0,void 0===a)throw new p["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?q.createFrame(b):{},b.root=a),b}var k=c(7)["default"],l=c(8)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var m=c(4),n=k(m),o=c(3),p=l(o),q=c(1)},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){b.Handlebars===a&&(b.Handlebars=d)}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if("object"==typeof a&&null!==a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0}])}),Handlebars.registerHelper("closeEvent",function(a,b,c){return b>a?c.fn(this):c.inverse(this)}),this.SN=this.SN||{},this.SN.templates=this.SN.templates||{},this.SN.templates.event=Handlebars.template({1:function(a){var b,c=this.lambda,d=this.escapeExpression;return'        <div class="Event">\r\n            <div class="Event-date">'+d(c(null!=(b=null!=a?a.event:a)?b.date:b,a))+'</div>\r\n            <div class="Event-title"><a href="'+d(c(null!=(b=null!=a?a.event:a)?b.url:b,a))+'" target="_blank">'+d(c(null!=(b=null!=a?a.event:a)?b.title:b,a))+'</a></div>\r\n            <div class="Event-location">'+d(c(null!=(b=null!=a?a.event:a)?b.city:b,a))+", "+d(c(null!=(b=null!=a?a.event:a)?b.province:b,a))+"</div>\r\n        </div>\r\n"},3:function(a,b,c,d){var e,f,g=this.escapeExpression;return'        <span class="artistName">'+g((f=null!=(f=b.artistName||(null!=a?a.artistName:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"artistName",hash:{},data:d}):f))+'</span> is currently not on tour near you.\r\n        Check the <a href="'+g(this.lambda(null!=(e=null!=a?a.event:a)?e.url:e,a))+'" target="_blank">full schedule</a> to find their concerts in other cities.\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return"<li>\r\n"+(null!=(e=(b.closeEvent||a&&a.closeEvent||b.helperMissing).call(a,null!=(e=null!=a?a.event:a)?e.distance:e,null!=a?a.threshold:a,{name:"closeEvent",hash:{},fn:this.program(1,d,0),inverse:this.program(3,d,0),data:d}))?e:"")+"</li>"},useData:!0}),this.SN.templates.player=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="SN-player" id="snPlayer">\r\n    <div class="SN-player-front-panel">\r\n        <span class="SN-player-close SN-clickable" id="snPlayerClose"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg></span>\r\n        <div class="SN-player-col-b">\r\n            <div class="SN-player-trackData">\r\n                <svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-spotify" /></svg>\r\n                <a data-purchase-link="2" target="spotify" class="SN-clickable">\r\n                    <span id="snArtistName"></span> &ndash; <span id="snTrackName"></span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class="SN-player-controlbar">\r\n            <span class="SN-player-mymusic-add SN-clickable">\r\n                <svg class="icon add" viewBox="0 0 100 100"><use xlink:href="#icon-plus" /></svg>\r\n                <svg class="icon added" viewBox="0 0 100 100"><use xlink:href="#icon-ok" /></svg>\r\n                <svg class="icon remove" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg>\r\n            </span>\r\n            <span class="SN-player-prev SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-last" /></svg></span>\r\n            <span class="SN-player-play SN-clickable" style="display: none;"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-play"/></svg></span> \r\n            <span class="SN-player-pause SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-pause" /></svg></span>\r\n            <span class="SN-player-next SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-next" /></svg></span>\r\n            <audio class="SN-player-controls" id="snTrackPlayer" src="" autoplay>Sorry your browser is not supported\r\n            </audio>\r\n            <span class="SN-player-toggle-extension SN-clickable"><svg class="icon" viewBox="0 0 100 100"><use xlink:href="#icon-dots" /></svg></span>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="SN-player-extension">\r\n    <ul class="SN-player-extension-menu SN-player-extension-menu-top">\r\n        <li class="SN-player-spotify-add SN-clickable"><i class="icon icon-fw icon-music"></i> Add to playlist</li>\r\n        <li>\r\n            <div class="SN-player-select-action SN-clickable" data-for="#snTrackViewUrl"><i class="icon icon-fw icon-link"></i> Copy spotify URL</div>\r\n            <input id="snTrackViewUrl" readonly style="width: 100%">\r\n        </li>\r\n        <li><i class="icon icon-fw icon-help"></i> Feedback</li>\r\n    </ul>\r\n    <ul class="SN-player-extension-menu SN-player-extension-menu-playlists">\r\n    </ul>\r\n    <ul class="SN-player-extension-menu SN-player-extension-menu-playlist-new">\r\n        <li class="SN-player-spotify-add SN-clickable"><i class="icon icon-fw icon-angle-left"></i> Add to existing playlist</li>\r\n        <li>\r\n            <input id="snNewPlaylistName" placeholder="Playlist name" style="width: 50%;">\r\n            <button class="SN-player-spotify-add-new-submit SN-spotify-button" data-for="#snNewPlaylistName">Create</button>\r\n        </li>\r\n    </ul>\r\n</div>'},useData:!0}),this.SN.templates.track=Handlebars.template({1:function(){return"added "},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=this.lambda,h=this.escapeExpression,i=b.helperMissing,j="function";return'<li>\r\n    <span class="Track-icon add '+(null!=(e=b["if"].call(a,null!=(e=null!=a?a.track:a)?e.spotifyAdded:e,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'icon" data-track-add-spotify="'+h(g(null!=(e=null!=a?a.track:a)?e.spotifyId:e,a))+'" title="Click to add this song...">\r\n                <svg class="icon plus" viewBox="0 0 100 100"><use xlink:href="#icon-plus" /></svg>\r\n                <svg class="icon ok" viewBox="0 0 100 100"><use xlink:href="#icon-ok" /></svg>\r\n                <svg class="icon remove" viewBox="0 0 100 100"><use xlink:href="#icon-cross" /></svg>\r\n    </span>\r\n    <p class="Track-title Track-previewLink SN-clickable" data-prev-track-preview="'+h((f=null!=(f=b.prevTrackIndex||(null!=a?a.prevTrackIndex:a))?f:i,typeof f===j?f.call(a,{name:"prevTrackIndex",hash:{},data:d}):f))+'" data-track-preview="'+h((f=null!=(f=b.trackIndex||(null!=a?a.trackIndex:a))?f:i,typeof f===j?f.call(a,{name:"trackIndex",hash:{},data:d}):f))+'" data-next-track-preview="'+h((f=null!=(f=b.nextTrackIndex||(null!=a?a.nextTrackIndex:a))?f:i,typeof f===j?f.call(a,{name:"nextTrackIndex",hash:{},data:d}):f))+'" title="Click to preview this song..." data-artist-name="'+h((f=null!=(f=b.artistName||(null!=a?a.artistName:a))?f:i,typeof f===j?f.call(a,{name:"artistName",hash:{},data:d}):f))+'">\r\n      <span class="play-icon">\r\n          <svg class="icon play" viewBox="0 0 100 100"><use xlink:href="#icon-play" /></svg>\r\n      </span>\r\n      '+h(g(null!=(e=null!=a?a.track:a)?e.trackName:e,a))+"\r\n    </p>\r\n</li>\r\n\r\n\r\n"},useData:!0});
//# sourceMappingURL=Soundninja.min.js.map