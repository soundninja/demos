"use strict";function debug(a){console&&console.log&&console.log(a)}function playiPad(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).isolateScope();b.API.play()}function initialize(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"initialize",params:{id:b.playerId,state:b.API.getState(),fullscreen:b.API.isFullScreen(),volume:b.API.getVolume(),controls:!b.config.hideControls,isiOSDevice:b.API.isiOSDevice(),isMobileDevice:b.API.isMobileDevice(),isWindowsPhone:b.API.isWindowsPhone()},success:function(){b.API.initialized()},error:function(a,b){debug("Error while initializing the player. Error: "+a+" message: "+b)}})}function updateVolumeState(a){var b=document.getElementsByTagName("videogular"),c=angular.element(b).scope();chan.call({method:"updateVolume",params:{id:c.playerId,value:a},success:function(){},error:function(a,b){debug("Error while updating volume state or onVolume callback. Error: "+a+" message: "+b)}})}function onPlayerReady(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();initialize(),chan.call({method:"onPlayerReady",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onReady callback. Error: "+a+" message: "+b)}})}function updateSize(a,b,c){var d=document.getElementsByTagName("videogular"),e=angular.element(d).scope();chan.call({method:"setSize",params:{id:e.playerId,width:a,height:b,onready:c},success:function(){},error:function(a,b){debug("Error while updating size of player. Error: "+a+" message: "+b)}})}function onUpdateTime(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onUpdateTime",params:{id:d.playerId,position:a,duration:b},success:function(){},error:function(a,b){debug("Error while calling onUpdateTime of player. Error: "+a+" message: "+b)}})}function onSeek(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onSeek",params:{id:d.playerId,position:a,offset:b},success:function(){},error:function(a,b){debug("Error while calling onSeek of player. Error: "+a+" message: "+b)}})}function onFullScreenEvent(a){var b=document.getElementsByTagName("videogular"),c=angular.element(b).scope();chan.call({method:"onFullScreenEvent",params:{id:c.playerId,value:a},success:function(){},error:function(a,b){debug("Error while updating fullscreen state or onFullScreen callback. Error: "+a+" message: "+b)}})}function onPlayStarted(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onPlayStarted",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onPlayStarted callback. Error: "+a+" message: "+b)}})}function onBuffering(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"playerBuffering",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onBuffering callback. Error: "+a+" message: "+b)}})}function onComplete(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onComplete",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onComplete callback. Error: "+a+" message: "+b)}})}function onMute(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"updateMuteState",params:{id:d.playerId,muted:a,flag:b},success:function(){},error:function(a,b){debug("Error while updating the mute state of the player or onMuteChange callback. Error: "+a+" message: "+b)}})}function formatToNumber(a,b){var c;return"number"==typeof a?a+"px":(-1!==a.indexOf("%")?(c=parseInt(a.split("%")[0],10),c=b*c/100):c=-1!==a.indexOf("px")?parseInt(a.split("px")[0],10):parseInt(a,10),c)}function onPause(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"playerPause",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while updating pause state of the player or onPause callback. Error: "+a+" message: "+b)}})}function onStop(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"playerStop",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while updating Stop state of the player or onStop callback. Error: "+a+" message: "+b)}})}function onClick(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onClick",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onClick callback. Error: "+a+" message: "+b)}})}function onReplay(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onReplay",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onReplay callback. Error: "+a+" message: "+b)}})}function onError(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onError",params:{id:d.playerId,message:b,source:a},success:function(){},error:function(a,b){debug("Error while sending the error to parent. Error: "+a+" message: "+b)}})}function onAdReady(a,b,c,d){var e=document.getElementsByTagName("videogular"),f=angular.element(e).scope();chan.call({method:"onAdReady",params:{id:f.playerId,mediaUrl:a,clickUrl:b,adType:c,adProperties:d},success:function(){},error:function(a,b){debug("Error while calling onAdReady callback. Error: "+a+" message: "+b)}})}function onCompanion(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onCompanion",params:{id:d.playerId,companions:b,adtag:a},success:function(){},error:function(a,b){debug("Error while calling onCompanion callback. Error: "+a+" message: "+b)}})}function onNonLinearAd(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onNonLinearAd",params:{id:d.playerId,nonlinear:b,adtag:a},success:function(){},error:function(a,b){debug("Error while calling onNonLinearAd callback. Error: "+a+" message: "+b)}})}function onAdComplete(a){var b=document.getElementsByTagName("videogular"),c=angular.element(b).scope();chan.call({method:"onAdComplete",params:{id:c.playerId,adTag:a},success:function(){},error:function(a,b){debug("Error while calling onAdComplete callback. Error: "+a+" message: "+b)}})}function onBeforePlay(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onBeforePlay",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onBeforePlay callback. Error: "+a+" message: "+b)}})}function onAdImpression(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onAdImpression",params:{id:d.playerId,impressions:b,adtag:a},success:function(){},error:function(a,b){debug("Error while calling onAdImpression callback. Error: "+a+" message: "+b)}})}function onAdClick(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();chan.call({method:"onAdClick",params:{id:d.playerId,adtag:a,page:b},success:function(){},error:function(a,b){debug("Error while calling onAdClick callback. Error: "+a+" message: "+b)}})}function onAdSkipped(a){var b=document.getElementsByTagName("videogular"),c=angular.element(b).scope();chan.call({method:"onAdSkipped",params:{id:c.playerId,adtag:a},success:function(){},error:function(a,b){debug("Error while calling onAdSkipped callback. Error: "+a+" message: "+b)}})}function onAdTimeUpdate(a,b,c){var d=document.getElementsByTagName("videogular"),e=angular.element(d).scope();chan.call({method:"onAdTimeUpdate",params:{id:e.playerId,adtag:a,position:b,duration:c},success:function(){},error:function(a,b){debug("Error while calling onAdTimeUpdate callback. Error: "+a+" message: "+b)}})}function onBeforeComplete(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();chan.call({method:"onBeforeComplete",params:{id:b.playerId},success:function(){},error:function(a,b){debug("Error while calling onBeforeComplete callback. Error: "+a+" message: "+b)}})}function onAdError(a,b,c){var d=document.getElementsByTagName("videogular"),e=angular.element(d).scope();chan.call({method:"onAdError",params:{id:e.playerId,message:b,adtag:a,errorObj:c},success:function(){},error:function(a,b){debug("Error while sending the onAdError to parent. Error: "+a+" message: "+b)}})}function onControls(a){var b=document.getElementsByTagName("videogular"),c=angular.element(b).scope();chan.call({method:"updateControlState",params:{id:c.playerId,state:a},success:function(){},error:function(a,b){debug("Error while updating control state of the player. Error: "+a+" message: "+b)}})}function setup(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();b.onUpdateVolumeCallBack=updateVolumeState,b.onPlayerReadyCallBack=onPlayerReady,b.onFullScreenEventCall=onFullScreenEvent,b.onPlayStartCallBack=onPlayStarted,b.onCompleteVideoCallBack=onComplete,b.onUpdateSizeCallBack=updateSize,b.onMuteCallBack=onMute,b.onPauseCallBack=onPause,b.onBufferingCallBack=onBuffering,b.onControllsCallBack=onControls,b.onAdReadyCallBack=onAdReady,b.onAdCompleteCallBack=onAdComplete,b.onAdCompanionCallBack=onCompanion,b.onNonLinearAdCallBack=onNonLinearAd,b.onBeforePlayCallBack=onBeforePlay,b.onAdImpressionCallBack=onAdImpression,b.onAdTimeUpdate=onAdTimeUpdate,b.onBeforeCompleteCallBack=onBeforeComplete,b.onAdErrorCallBack=onAdError,b.updateTimeCallBackAPI=onUpdateTime,b.onSeekCallBack=onSeek,b.onReplayCallBack=onReplay,b.onAdClickCallBack=onAdClick,b.onAdSkippedCallBack=onAdSkipped,b.onClickCallBack=onClick,b.onStopCallBack=onStop,b.onErrorCallBack=onError}var chan=Channel.build({window:window.parent,origin:"*",scope:"playerScope"});chan.bind("setConfig",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();d.setConfig(b)}),chan.bind("playPause",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();b.API.playPause()}),chan.bind("isFullScreen",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();return{id:b,result:d.API.isFullScreen()}}),chan.bind("getVolume",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.getVolume()}),chan.bind("isMuted",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.isMuted()}),chan.bind("setVolume",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();b=100-b;var e=1-b/100;return d.API.setVolume(e)}),chan.bind("hideDefaultControls",function(a,b){var c=document.getElementsByTagName("vg-controls"),d=angular.element(c).scope();angular.isUndefined(d)?(c=document.getElementsByTagName("videogular"),d=angular.element(c).scope(),d.config.hideControls=b):d.config.hideControls=b}),chan.bind("setMuted",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();return d.API.setMuted(b)}),chan.bind("play",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.play()}),chan.bind("replay",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.replay()}),chan.bind("pause",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.pause()}),chan.bind("stop",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.stop()}),chan.bind("seek",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();return d.API.seekTime(b)}),chan.bind("areControlsEnabled",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();return b.API.areControlsEnabled()}),chan.bind("resize",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope(),e=d.API.getSize(),f=formatToNumber(b.width,e.width),g=formatToNumber(b.height,e.height);return d.API.setSize(f,g)}),chan.bind("addButton",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();b.playerWidth=d.API.getSize().width,b.playerHeight=d.API.getSize().height;var e=d.addButton(b),f=document.getElementsByTagName("vg-vast-ads"),g=angular.element(f).isolateScope();!b.classname||angular.isUndefined(b.classname)||"fullscreen"!==b.classname&&"exit"!==b.classname||e.bind("click",function(){d.config.adMode?(g.vgFullscreenButtonClick=!0,g.onAdClick()):d.API.toggleFullScreen()}),e.bind("click",function(){chan.call({method:b.functionname,params:{id:d.playerId},success:function(){},error:function(a,b){debug("Error while calling click event. Error: "+a+" message: "+b)}})})}),chan.bind("hideButton",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();d.hideButton(b.buttonId)}),chan.bind("showButton",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();d.showButton(b.buttonId)}),chan.bind("deleteButton",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();d.deleteButton(b.buttonId)}),chan.bind("playAdTag",function(a,b){var c=document.getElementsByTagName("videogular"),d=angular.element(c).scope();d.playAdTag(b.inline,b.adtag)}),chan.bind("clearAdTag",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();b.clearAdTag()}),chan.bind("startAd",function(){var a=document.getElementsByTagName("videogular"),b=angular.element(a).scope();b.startAd()});