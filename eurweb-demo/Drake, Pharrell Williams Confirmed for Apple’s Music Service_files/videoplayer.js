"use strict";var VideoPlayer=function(a,b){function c(a){console&&console.log&&console.log(a)}this.id=a,this.parentDiv=document.getElementById(a),this.iframeElement=document.createElement("iframe"),this.companionDiv=document.createElement("div"),this.fullscreen=null,this.volume=1,this.currentWidth=0,this.currentHeight=0,this.isMuted=!1,this.controlsEnabled=!1,this.duration=0,this.currentPosition=0,this.config=b,this.isMobileDevice=!1,this.isiOSDevice=!1,this.isWindowsDevice=!1,this.domainPath="http://c14.zedo.com/utils/zplayer/v2.4/app/","https:"==window.location.protocol&&(this.domainPath="https://ss3.zedo.com/utils/zplayer/v2.4/app/"),this.clickThrough=null,this.ipadDivStyle={},VideoPlayer.PlayerStates={PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING",STOP:"IDLE"},this.currentState=VideoPlayer.PlayerStates.STOP,this.onReady=function(){},this.onError=function(){},this.onPlay=function(){},this.onPause=function(){},this.onBuffer=function(){},this.onComplete=function(){},this.onVolume=function(){},this.onFullscreen=function(){},this.onResize=function(){},this.onMuteChange=function(){},this.onAdReady=function(){},this.onAdComplete=function(){},this.onAdCompanions=function(){},this.onNonLinearAd=function(){},this.onBeforePlay=function(){},this.onAdImpression=function(){},this.onAdClick=function(){},this.onAdSkipped=function(){},this.onAdTime=function(){},this.onBeforeComplete=function(){},this.onAdError=function(){},this.onSeek=function(){},this.onTime=function(){},this.onClick=function(){},this.onInitialized=function(){},this.setConfig=function(a){d.call({method:"setConfig",params:a,success:function(){},error:function(a,b){c("Error while calling setConfig. Error: "+a+" message: "+b)}})},this.createIframe=function(a){this.iframeElement.id="iframe_"+a,this.iframeElement.src=window.location.href,this.iframeElement.setAttribute("allowfullscreen",!0),this.iframeElement.setAttribute("seamless",!0),this.iframeElement.setAttribute("frameborder",0),this.iframeElement.setAttribute("scrolling","no"),this.iframeElement.width="100%",this.iframeElement.height="100%",this.parentDiv.appendChild(this.iframeElement)},this.removeIframe=function(){this.parentDiv.removeChild(this.iframeElement)},this.createCompanion=function(b,c){this.companionDiv.id="companion_"+a,this.companionDiv.setAttribute("scrolling","no");var d=document.createElement("a"),e=new Image;d.setAttribute("target","_blank"),e.src=b.variations[c].staticResource,e.width=b.variations[c].width,e.height=b.variations[c].height,d.href=b.variations[c].companionClickThroughURLTemplate,d.appendChild(e),this.companionDiv.appendChild(d),this.parentDiv.style.height=this.parentDiv.style.height+b.variations[c].height,this.parentDiv.appendChild(this.companionDiv)},this.playPause=function(){d.call({method:"playPause",params:a,success:function(){},error:function(a,b){c("Error while calling playPause on video player. Error: "+a+" message: "+b)}})},this.play=function(){"undefined"!==this.iframeElement.srcdoc?this.iframeElement.contentWindow.playiPad():d.call({method:"play",params:a,success:function(){},error:function(a,b){c("Error while playing video. Error: "+a+" message: "+b)}})},this.stop=function(){d.call({method:"stop",params:a,success:function(){},error:function(a,b){c("Error while calling stop on video. Error: "+a+" message: "+b)}})},this.mute=function(a){d.call({method:"setMuted",params:a,success:function(){},error:function(a,b){c("Error while calling setMuted function on the video player. Error: "+a+" message: "+b)}})},this.pause=function(){d.call({method:"pause",params:a,success:function(){},error:function(a,b){c("Error while calling pause on player. Error: "+a+" message: "+b)}})},this.seek=function(a){d.call({method:"seek",params:a,success:function(){},error:function(a,b){c("Error while calling seek on player. Error: "+a+" message: "+b)}})},this.setVolume=function(a){d.call({method:"setVolume",params:a,success:function(){},error:function(a,b){c("Error while setting the player volume. Error: "+a+" message: "+b)}})},this.hideDefaultControls=function(){d.call({method:"hideDefaultControls",params:!0,success:function(){},error:function(a,b){c("Error while hiding controls. Error: "+a+" message: "+b)}})},this.areControlsEnabled=function(){return this.controlsEnabled},this.getControlsState=function(a){d.call({method:"areControlsEnabled",params:"",success:function(b){a(b)},error:function(a,b){c("Error getting state of the controls. Error: "+a+" message: "+b)}})},this.showDefaultControls=function(){d.call({method:"hideDefaultControls",params:!1,success:function(){},error:function(a,b){c("Error while showing controls. Error: "+a+" message: "+b)}})},this.resize=function(a,b){var e=this.formatToNumber(b,this.parentDiv.style.height),f=this.formatToNumber(a,this.parentDiv.style.width);this.parentDiv.style.width=f,this.parentDiv.style.height=e,d.call({method:"resize",params:{width:a,height:b},success:function(){},error:function(a,b){c("Error while setting the player size. Error: "+a+" message: "+b)}})},this.addButton=function(a,b,e,f,g,h,i,j,k){var l={};l.id=f,l.controlposition=g,l.width=j,l.height=k,l.toppadding=i,l.leftpadding=h,l.image=a,l.classname=b,l.functionname="callback_"+f;d.call({method:"addButton",params:l,success:function(){},error:function(a,b){c("Error while adding button. Error: "+a+" message: "+b)}});if("function"==typeof e)this.bindCallBack(l.functionname,e);else if("string"==typeof e){var m=window[e];"function"==typeof m&&this.bindCallBack(l.functionname,m)}},this.addButtonWithConfig=function(a,b){a.functionname="callback_"+a.id;d.call({method:"addButton",params:a,success:function(){},error:function(a,b){c("Error while adding button. Error: "+a+" message: "+b)}});this.bindCallBack(a.functionname,b)},this.bindCallBack=function(a,b){try{d.unbind(a)}catch(c){}d.bind(a,b)},this.hideButton=function(a){d.call({method:"hideButton",params:{buttonId:a},success:function(){},error:function(a,b){c("Error while hiding button. Error: "+a+" message: "+b)}})},this.deleteButton=function(a){d.call({method:"deleteButton",params:{buttonId:a},success:function(){},error:function(a,b){c("Error while deleting button. Error: "+a+" message: "+b)}})},this.showButton=function(a){d.call({method:"showButton",params:{buttonId:a},success:function(){},error:function(a,b){c("Error while showing button. Error: "+a+" message: "+b)}})},this.playAd=function(a){var b=!1;-1!=a.indexOf("<VAST")&&(b=!0),d.call({method:"playAdTag",params:{inline:b,adtag:a},success:function(){},error:function(a,b){c("Error while playing adtag. Error: "+a+" message: "+b)}})},this.clearAdTag=function(){d.call({method:"clearAdTag",params:a,success:function(){},error:function(a,b){c("Error while calling clearAdTag . Error: "+a+" message: "+b)}})},this.startAd=function(){d.call({method:"startAd",params:a,success:function(){},error:function(a,b){c("Error while calling startAd. Error: "+a+" message: "+b)}})},this.setState=function(a){this.currentState=a},this.isFullscreen=function(){return this.fullscreen},this.getState=function(){return this.currentState},this.isMute=function(){return this.isMuted},this.getSize=function(){return{width:this.currentWidth,height:this.currentHeight}},this.getWidth=function(){return this.currentWidth},this.getHeight=function(){return this.currentHeight},this.getDuration=function(){return this.duration},this.getPosition=function(){return this.currentPosition},this.storeDivStyle=function(){this.ipadDivStyle.top=this.parentDiv.style.top,this.ipadDivStyle.left=this.parentDiv.style.left,this.ipadDivStyle.width=this.parentDiv.style.width,this.ipadDivStyle.height=this.parentDiv.style.height,this.ipadDivStyle.position=this.parentDiv.style.position},this.restoreDivStyle=function(){this.parentDiv.style.top=this.ipadDivStyle.top,this.parentDiv.style.left=this.ipadDivStyle.left,this.parentDiv.style.width=this.ipadDivStyle.width,this.parentDiv.style.height=this.ipadDivStyle.height,this.parentDiv.style.position=this.ipadDivStyle.position},this.formatToNumber=function(a,b){var c;return"number"==typeof a?a+"px":(-1!==a.indexOf("%")?(c=parseInt(a.split("%")[0],10),b.indexOf("%")?b=parseInt(b.split("%")[0],10):b.indexOf("px")&&(b=parseInt(b.split("px")[0],10)),c="undefined"===b||""===b?a:b*c/100):c=-1!==a.indexOf("px")?parseInt(a.split("px")[0],10):parseInt(a,10)+"px",c)},this.isViewable=function(){var a=this.getViewSize();return a.top>=window.pageYOffset&&a.left>=window.pageXOffset&&a.top+a.height<=window.pageYOffset+window.innerHeight&&a.left+a.width<=window.pageXOffset+window.innerWidth},this.isPartialyViewable=function(){var a=this.getViewSize();return a.top<window.pageYOffset+window.innerHeight&&a.left<window.pageXOffset+window.innerWidth&&a.top+a.height>window.pageYOffset&&a.left+a.width>window.pageXOffset},this.getViewSize=function(){var a={},b=this.iframeElement;for(a.top=b.offsetTop,a.left=b.offsetLeft,a.width=b.offsetWidth,a.height=b.offsetHeight;b.offsetParent;)b=b.offsetParent,a.top+=b.offsetTop,a.left+=b.offsetLeft;return a},this.getVolume=function(){return this.volume},this.getIframeContent=function(){var b='<!doctype html><head> <base target="_blank" /><meta charset="utf-8"> <meta name="apple-mobile-web-app-capable"  content="yes" /> <meta name="apple-mobile-web-app-status-bar-style"  content="black-translucent" /><meta http-equiv="X-UA-Compatible" content="IE=edge"> <title></title> <meta name="description" content=""><meta name="viewport" content="width=device-width"> <!-- Place favicon.ico and apple-touch-icon.png in the root directory --><!-- build:css(.tmp) styles/main.css --> <link rel="stylesheet" href="'+this.domainPath+'bower_components/bootstrap/dist/css/bootstrap.min.css"> <!-- endbuild --> <script type="text/javascript">var domainPath="'+this.domainPath+'", playerid ="'+a+'";</script><script src="'+this.domainPath+'bower_components/angular/angular.min.js" type="text/javascript"></script> <!-- build:js scripts/modules.js --> <script src="'+this.domainPath+'bower_components/angular-route/angular-route.min.js" type="text/javascript"></script> <script src="'+this.domainPath+'bower_components/angular-sanitize/angular-sanitize.min.js" type="text/javascript"></script> <script src="'+this.domainPath+'scripts/lib/vast-client-js/vast-client.js" type="text/javascript"></script> <!-- endbuild --> <!-- build:js({.tmp,app}) scripts/scripts.js --><script>var domainPath = "'+this.domainPath+'";</script><script src="'+this.domainPath+'scripts/app.js" type="text/javascript"></script> <script src="'+this.domainPath+'scripts/controllers/main.js" type="text/javascript"></script><script src="'+this.domainPath+'scripts/com/zedo/videogular/videogular.js" type="text/javascript"></script> <script src="'+this.domainPath+'/scripts/com/zedo/videogular/plugin/vast/vast.js" type="text/javascript"></script> <script src="'+this.domainPath+'scripts/com/zedo/videogular/plugin/overlay.js" type="text/javascript"></script></head> <body ng-app="playerApp"> <!--[if lt IE 7]> <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p> <![endif]--> <!--[if lt IE 9]> <script src="bower_components/es5-shim/es5-shim.min.js"></script> <script src="bower_components/json3/lib/json3.min.js"></script> <![endif]--> <!-- Add your site or application content here --> <div ng-controller="MainCtrl"> <div class="container"> <div><videogular vg-player-ready="onPlayerReady" vg-complete="onCompleteVideo" vg-update-time="onUpdateTime" vg-update-size="onUpdateSize" vg-update-volume="onUpdateVolume" vg-update-state="onUpdateState"vg-full-screen="onFullScreen" vg-start-play = "playStrated" vg-mute = "onMute" vg-hide-controls="config.hideControls" vg-pause = "onPause" vg-buffering = "onBuffering" vg-controls = "onControls" vg-on-error = "onError" vg-on-seek ="onSeek"vg-width="config.width" vg-height="config.height" vg-theme="config.theme.url" vg-autoplay="config.autoPlay" vg-stretch="config.stretch.value"vg-responsive="config.responsive" vg-ad-mode="config.adMode" vg-on-load-mute="config.muteOnLoad" vg-on-click="onClick" vg-media = "config.media" vg-on-replay="onReplay"> <video vg-src="config.sources" vg-poster="config.poster" preload="none" webkit-playsinline></video> <vg-overlay-play vg-play-icon="config.theme.playIcon" vg-hide-replay="config.hideReplay"></vg-overlay-play> <vg-vast-ads vg-network="config.plugins.ads.network" vg-unit-path="config.plugins.ads.unitPath" vg-companion="config.plugins.ads.companion" vg-companion-size="config.plugins.ads.companionSize" vg-ad-tag="config.plugins.ads.adTag" vg-ad-tag-is-inline="config.plugins.ads.isInline" vg-ad-tag-on-ready = "onAdReady" vg-on-ad-complete = "onAdComplete" vg-on-companion = "onCompanion"  vg-on-nonlinear-ad = "onNonLinearAd" vg-on-before-play = "onBeforePlay" vg-on-ad-impression = "onAdImpression" vg-on-ad-timeupdate = "onAdTimeUpdate" vg-on-before-complete = "onBeforeComplete" vg-on-ad-error ="onAdError"  vg-on-ad-click= "onAdClick" vg-play-ad-on-ready ="config.playAdOnReady" vg-start-ad ="config.plugins.ads.startAd" vg-landing-page-on-click = "config.landingPageOnClick"  vg-on-ad-skip = "onAdSkip" vg-skipable = "config.skipable" vg-skipcount = "config.skipCount" vg-skipimage = "config.skipImage" vg-show-nonlinear = "config.showNonlinearAd" vg-onclick-fullscreen = "config.onclickFullscreen"></vg-vast-ads> <div class="maincontainer" id="mainContainer" style="position:absolute"></div> </div> </videogular> </div> <div id="companionAd"></div> </div> </div> <script src="'+this.domainPath+'scripts/jschannel.js" type="text/javascript"></script> <script src="'+this.domainPath+'scripts/videoAPI.js" id="videoScript" type="text/javascript"></script></body> </html>';this.iframeElement.srcdoc&&"undefined"!==this.iframeElement.srcdoc?this.iframeElement.srcdoc=b:(this.iframeElement.contentDocument.open("text/html","replace"),this.iframeElement.contentDocument.write(b),this.iframeElement.contentDocument.close())},this.createIframe(this.id),this.getIframeContent();var d=Channel.build({window:document.getElementById("iframe_"+a).contentWindow,origin:"*",scope:"playerScope",onReady:function(){}});d.bind("updateVolume",function(a,b){var c=Math.round(100*b.value);VideoPlayer.getVideoPlayer(b.id).volume=c,VideoPlayer.getVideoPlayer(b.id).onVolume(c),VideoPlayer.getVideoPlayer(b.id).isMuted=0===c?!0:!1}),d.bind("updateControlState",function(a,b){VideoPlayer.getVideoPlayer(b.id).controlsEnabled=b.state}),d.bind("onPlayerReady",function(a,b){VideoPlayer.getVideoPlayer(b.id).onReady()}),d.bind("updateMuteState",function(a,b){VideoPlayer.getVideoPlayer(b.id).isMuted=b.muted,b.flag||VideoPlayer.getVideoPlayer(b.id).onMuteChange(b.muted)}),d.bind("onUpdateTime",function(a,b){VideoPlayer.getVideoPlayer(b.id).duration!=b.duration&&(VideoPlayer.getVideoPlayer(b.id).duration=b.duration),VideoPlayer.getVideoPlayer(b.id).currentPosition=b.position,VideoPlayer.getVideoPlayer(b.id).onTime(b.position,b.duration)}),d.bind("onSeek",function(a,b){VideoPlayer.getVideoPlayer(b.id).onSeek(b.position,b.offset)}),d.bind("onFullScreenEvent",function(a,b){VideoPlayer.getVideoPlayer(b.id).fullscreen=b.value,VideoPlayer.getVideoPlayer(b.id).onFullscreen(b.value)}),d.bind("setSize",function(a,b){VideoPlayer.getVideoPlayer(b.id).currentWidth=b.width,VideoPlayer.getVideoPlayer(b.id).currentHeight=b.height,b.onready||VideoPlayer.getVideoPlayer(b.id).onResize(b.width,b.height)}),d.bind("onPlayStarted",function(a,b){var c=VideoPlayer.getVideoPlayer(b.id).getState();VideoPlayer.getVideoPlayer(b.id).onPlay(c),VideoPlayer.getVideoPlayer(b.id).setState(VideoPlayer.PlayerStates.PLAYING)}),d.bind("playerPause",function(a,b){var c=VideoPlayer.getVideoPlayer(b.id).getState();VideoPlayer.getVideoPlayer(b.id).onPause(c),VideoPlayer.getVideoPlayer(b.id).setState(VideoPlayer.PlayerStates.PAUSED)}),d.bind("playerStop",function(a,b){VideoPlayer.getVideoPlayer(b.id).getState();VideoPlayer.getVideoPlayer(b.id).setState(VideoPlayer.PlayerStates.STOP)}),d.bind("onClick",function(a,b){VideoPlayer.getVideoPlayer(b.id).onClick()}),d.bind("onReplay",function(a,b){VideoPlayer.getVideoPlayer(b.id).onReplay()}),d.bind("playerBuffering",function(a,b){var c=VideoPlayer.getVideoPlayer(b.id).getState();VideoPlayer.getVideoPlayer(b.id).onBuffer(c),VideoPlayer.getVideoPlayer(b.id).setState(VideoPlayer.PlayerStates.BUFFERING)}),d.bind("initialize",function(a,b){VideoPlayer.getVideoPlayer(b.id).setState(b.state),VideoPlayer.getVideoPlayer(b.id).fullscreen=b.fullscreen,VideoPlayer.getVideoPlayer(b.id).controlsEnabled=b.controls;var c=Math.round(100*b.volume);VideoPlayer.getVideoPlayer(b.id).volume=c;var d=VideoPlayer.getVideoPlayer(b.id).config;VideoPlayer.getVideoPlayer(b.id).setConfig(d),VideoPlayer.getVideoPlayer(b.id).isiOSDevice=b.isiOSDevice,VideoPlayer.getVideoPlayer(b.id).isMobileDevice=b.isMobileDevice,VideoPlayer.getVideoPlayer(b.id).isWindowsDevice=b.isWindowsPhone,VideoPlayer.getVideoPlayer(b.id).onInitialized()}),d.bind("onError",function(a,b){VideoPlayer.getVideoPlayer(b.id).onError(b.message,b.source)}),d.bind("onComplete",function(a,b){VideoPlayer.getVideoPlayer(b.id).onComplete()}),d.bind("onAdReady",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdReady(b.mediaUrl,b.clickUrl,b.adType,b.adProperties),VideoPlayer.getVideoPlayer(b.id).clickThrough=b.clickUrl}),d.bind("onCompanion",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdCompanions(b.adtag,b.companions)}),d.bind("onNonLinearAd",function(a,b){VideoPlayer.getVideoPlayer(b.id).onNonLinearAd(b.adtag,b.nonlinear)}),d.bind("onAdClick",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdClick(b.adtag,b.page)}),d.bind("onAdSkipped",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdSkipped(b.adtag)}),d.bind("onAdComplete",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdComplete(b.adTag)}),d.bind("onBeforePlay",function(a,b){VideoPlayer.getVideoPlayer(b.id).onBeforePlay()}),d.bind("onAdImpression",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdImpression(b.adtag,b.impressions)}),d.bind("onAdTimeUpdate",function(a,b){VideoPlayer.getVideoPlayer(b.id).duration!=b.duration&&(VideoPlayer.getVideoPlayer(b.id).duration=b.duration),VideoPlayer.getVideoPlayer(b.id).currentPosition=b.position,VideoPlayer.getVideoPlayer(b.id).onAdTime(b.adtag,b.position,b.duration)}),d.bind("onBeforeComplete",function(a,b){VideoPlayer.getVideoPlayer(b.id).onBeforeComplete()}),d.bind("onAdError",function(a,b){VideoPlayer.getVideoPlayer(b.id).onAdError(b.message,b.adtag,b.errorObj)}),VideoPlayer.videoPlayerMap[a]=this};VideoPlayer.videoPlayerMap={},VideoPlayer.getVideoPlayer=function(a){return VideoPlayer.videoPlayerMap[a]};var zziOSAdClick=function(a,b){VideoPlayer.getVideoPlayer(b).isiOSDevice&&window.open(VideoPlayer.getVideoPlayer(b).clickThrough,"_blank")},togglePlayerFullScreen=function(a){var b=VideoPlayer.getVideoPlayer(a),c=b.parentDiv;b.fullscreen?b.restoreDivStyle():(b.storeDivStyle(),c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",c.style.position="fixed")};
