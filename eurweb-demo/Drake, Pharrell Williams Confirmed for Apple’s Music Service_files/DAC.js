
/* DAC.js 2.8.4 Copyright 2015 AOL Advertising. */
window.ADTECH=window.ADTECH||{debugMode:!1},window.ADTECH.config=window.ADTECH.config||{placements:{},placementsdyn:{}},window.DAC=window.DAC||{};try{!function(){"use strict";function a(a,b,c){function d(){var a=c&&c.navigator&&c.navigator.userAgent;if(a){var b=a.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);b&&(b[1]||b[2])&&(k=e(b[1]||b[2]),l=k&&(9>k||c.document.documentMode&&c.document.documentMode<10));var d=a.match(/AppleWebKit\/([^\s]*)/);d&&d[1]&&(n=e(d[1]));var f=a.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/);f&&f[1]&&f[2]&&(m=e(f[2]),n=0)}}function e(a){return parseFloat(a)}function f(){return k}function g(){return l}function h(){return!!m}function i(){return!!n}var j="Environment",k=0,l=!1,m=0,n=0;return d(),a[j]={isOldIEMode:g,getIEVersion:f,isChrome:h,isSafari:i},a[j]}function b(a,b,c){function d(a,b,c){var d,e=a&&a.length||0;for(d=0;e>d;d++)b.call(c,a[d],d)}function e(a,b,c){if(a){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}}function f(a){return"object"==typeof a}function g(a){return"string"==typeof a}function h(a){return"function"==typeof a}function i(a){return"number"==typeof a&&isFinite(a)}function j(a){return"object"==typeof a&&a.constructor===Array}function k(a){return"boolean"==typeof a}function l(a){return/^\d*$/.test(a)}function m(a){var b;if(!c.JSON)throw new Error("JSON not found. Could not transform the string into an object");return b=c.JSON.parse(a)}function n(a,b,c,f){var g,h={};c?(d(c,function(a){b.hasOwnProperty(a)&&(h[a]=!0)}),g=f?function(b,c){h[b]||(a[b]=c)}:function(c){h[c]&&(a[c]=b[c])}):g=function(b,c){a[b]=c},e(b,g)}function o(a){var b=G.getElementById(a.adContainerId);return null!==b&&f(b)&&b}function p(b){var c=b.config,d=a.Environment.getIEVersion;if(!o(c)){if(!a.ResourceManager.isSync(b.config.legacyDACLoadType,d))throw F+"#createAdContainer Ad Container cannot be created";G.write('<div id="'+c.adContainerId+'" style="padding:0;margin:0;border:0;"></div>'),c.adContainer=G.getElementById(c.adContainerId),b.logger.log(F,"createAdContainer","Created <div> element with ID "+c.adContainerId)}}function q(a){var b=G.getElementById(a.adContainerId);if(null===b||!f(b))throw new Error(F+"#resolveContainer Ad Container not found");a.adContainer=b,a.skipContainerClean||(a.adContainer.innerHTML="")}function r(a){var b=a.queueId?' adtechQueueId="'+a.queueId+'"':"";return'<script type="text/javascript" src="'+a.config.adcallUrl+'"'+b+"></script>"}function s(a,b){return function(){try{a.apply(null,arguments)}catch(c){if(b&&(b.log("Exception raised: "+c.message),b.isEnabled()))throw c}}}function t(a){return Math.round(Math.random()*a)}function u(a,b,c,d){return void 0===a||void 0===b?!1:(c&&(c=w([a,b],c)),x(a,b,c,d)&&x(b,a,c,d))}function v(a,b){var c=[],f={};return d(a,function(a){e(a,function(a){!f[a]&&b.test(a)&&(c.push(a),f[a]=!0)})}),c}function w(a,b){var c=[];return d(b,function(b){if(b instanceof RegExp){var d=v(a,b);d.length>0&&Array.prototype.push.apply(c,d)}else c.push(b)}),c}function x(a,b,c,d){function e(e){var f=!(a.hasOwnProperty(e)||b.hasOwnProperty(e));return f?!0:d&&y(c,e)?!0:a.hasOwnProperty(e)&&b.hasOwnProperty(e)&&("object"==typeof a[e]?objectEquals(a[e],b[e]):a[e]===b[e])}var f;if(c&&c.constructor===Array&&!d){for(f=0;f<c.length;f++)if(!e(c[f]))return!1;return!0}for(f in a)if(a.hasOwnProperty(f)&&!e(f))return!1;return!0}function y(a,b){var c=!1;return d(a,function(a){a===b&&(c=!0)}),c}function z(a){var b=[];return d(a,function(a,c){b[c]=a}),b}function A(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function B(){var a=G.documentElement.clientWidth,b="CSS1Compat"===G.compatMode&&a||G.body&&G.body.clientWidth||a;return G.body||0!==b||(b=G.documentElement.scrollWidth),b}function C(a,b,c,d){a[c]&&!b[d]&&(b[d]=a[c])}function D(a){var b={};return e(a,function(a,c){f(c)?(b[a]={},n(b[a],c)):b[a]=c}),b}function E(a){if(a||g(a)){for(var b,d=a.split("."),e=c,f=0;e&&f<d.length;f++)e=e[d[f]],b=e;return b}}var F="Utils",G=c.document;return a[F]={each:d,eachKey:e,isString:g,isObject:f,isFunc:h,isBoolean:k,isNumber:i,isArray:j,isStringANumber:l,copyObject:n,resolveContainer:q,findAdContainer:o,generateScriptHTML:r,stringToObject:m,createClosure:s,createAdContainer:p,rnd:t,objectsEquals:u,buildObjectsProperties:w,cloneArray:z,addEventListener:A,getViewportWidth:B,copyMissingProperty:C,resolveHostPageVariable:E,cloneObject:D},a[F]}function c(a,b,c){function d(){p&&(clearTimeout(q),q=setTimeout(e,p))}function e(){o=s.getViewportWidth(),s.eachKey(t,function(b,c){i(c)&&a.BannerInjector.doAsync(c)}),f()}function f(){s.eachKey(u,function(a,b){g(b)})}function g(b){if(clearTimeout(b.reloadTimeout),b.running)b.reloadTimeout=setTimeout(function(){g(b)},p);else{var c=[],d=b.getResponsiveRequests();s.each(d,function(a){i(a)&&c.push(a.id)}),c.length>0&&a.AdQueue.reloadQueue(b,c)}}function h(a){if(a.hasResponsiveConfig()){p=a.config.responsiveCheckTimeout,t[a.id]=a;var b=i(a);!b&&a.config.responsive.allowGaps&&(a.disableAdInjection=!0),d()}}function i(a){var b,c,d,e=a.config.responsive.bounds;for(b=0;b<e.length;b++)if(c=e[b],j(c)){delete a.disableAdInjection,b!==a.currentBoundIndex&&(d=!0,a.currentBoundIndex=b,a.responsiveId=c.id,delete a.config.adcallUrl);break}return d||delete a.responsiveId,d}function j(b){return o||(o=a.Utils.getViewportWidth()),o>=b.min&&o<=b.max}function k(a){var b=!1,c=[];s.each(a.storage,function(a,d){if(a.hasResponsiveConfig()){p=a.config.responsiveCheckTimeout,b=!0,c.push(d);var e=i(a);!e&&a.config.responsive.allowGaps&&(a.disableAdInjection=!0)}}),b&&(a.responsiveIndexes=c,u[a.id]=a)}function l(){return t}function m(){return u}function n(a){var b={params:{}};return s.copyObject(b,a.config,["params","placement","alias"],!0),s.copyObject(b.params,a.config.params,["alias"],!0),b.placement=a.config.placement,s.isNumber(a.responsiveId)?b.placement=a.responsiveId:s.isString(a.responsiveId)&&(b.params.alias=a.responsiveId),b}var o,p,q,r="ResponsiveAdManager",s=a.Utils,t={},u={};a.Utils.addEventListener(c,"resize",d),a[r]={register:h,registerQueue:k,currentViewportWidth:o,checkTimeout:q,getResponsiveAdsRegistry:l,getResponsiveQueuesRegistry:m,makeResponsiveConfigClone:n}}function d(a,b,c){function d(c,d){if(a.Utils.resolveContainer(c.config),c.shown=!0,c.config.fif.usefif)e("injectBannerAsyncMode","Fif",c),a.FifRenderer.setupFif(c);else{e("injectBannerAsyncMode","postscribe",c);var f=a.ResourceLoader.buildUrl(c.config,"postscribe.js"),g=d.bannerCode||B.generateScriptHTML(c);a.ResourceLoader.loadScript(f,"postscribe",!0,function(a){if(!a)throw new Error("BannerInjector# injectBannerAsyncMode.  Postscribe lib failed to load");c.logger.log(j,"injectBannerAsyncMode","Postscribe loaded. Performing ad injection for request id "+(c.id||"<?>")),b.postscribe(c.config.adContainer,g,c.config.complete)},c.logger)}}function e(a,b,c){var d=c.config;c.logger.log(j,a,"Inject banner in async mode using "+b+" for request id "+c.id+(d.adcallUrl?" using URL "+d.adcallUrl:""))}function f(b){var c=a.Detections;c.detectScreenSize(b),c.detectUTCOffset(b),c.detectFlashVersion(b),c.detectRichMediaSupport(b)}function g(a){a.disableAdInjection||(i(a),d(a,{}))}function h(b){b.disableAdInjection||(b.shown=!0,i(b),b.logger.log(j,"doSync","Performing sync ad call using document.write"+(b.config.placement?" for placement "+b.config.placement:"")+" using URL "+b.config.adcallUrl),c.document.write(a.Utils.generateScriptHTML(b)))}function i(b){var c=b.config;b.responsiveId&&(c=a.ResponsiveAdManager.makeResponsiveConfigClone(b)),w.AdcallBuilder.buildUrl(c),b.config.adcallUrl=c.adcallUrl}var j="BannerInjector";a[j]={injectBannerAsyncMode:d,performSyncDetections:f,doAsync:g,doSync:h}}function e(a,b,c){function d(a,c,d,g){b.resourceRegistry=b.resourceRegistry||{};var h=b.resourceRegistry;h[a]&&h[a].loaded&&(!d||d&&p)?c(h[a].status):(h[a]||(h[a]={queue:[],needPageDOM:d},g(e(a),f(a))),h[a].queue.push(c))}function e(a){return function(){g(a,!0)}}function f(a){return function(){g(a,!1)}}function g(a,c){var d=b.resourceRegistry;d[a].loaded=!0,d[a].status=c,h(d[a])}function h(a){if((!a.needPageDOM||p)&&a.loaded){for(var b=a.queue,c=0;c<b.length;c++)b[c](a.status);a.queue=[]}}function i(){if(!n){p=!0,n=!0;var a=b.resourceRegistry;for(var c in a)h(a[c])}}function j(){if("complete"===q.readyState)return setTimeout(i,1);if(q.addEventListener)q.addEventListener("DOMContentLoaded",i,!1),c.addEventListener("load",i,!1);else if(q.attachEvent){q.attachEvent("onreadystatechange",i),c.attachEvent("onload",i);var a=!1;try{a=null===c.frameElement}catch(b){}q.documentElement.doScroll&&a&&k()}}function k(){if(!n){try{q.documentElement.doScroll("left")}catch(a){return void setTimeout(k,1)}i()}}function l(a,b){var d="loading"===q.readyState;if(!d&&"interactive"===q.readyState&&c==c.top&&b)try{q.documentElement.doScroll&&q.documentElement.doScroll("left")}catch(e){d=!0}else!d&&"interactive"===q.readyState&&c!=c.top&&b&&(q.addEventListener?p||(d=!0):a&&(d=!0));return d}function m(){return p}var n,o="ResourceManager",p=!1,q=c.document;j(),a[o]={schedule:d,isSync:l,isDOMReady:m}}function f(a,b,c){function d(b,c,d,e,h){a.ResourceManager.schedule(c,a.Utils.createClosure(e,h),d,function(c,d){g(),f(b,j,{onSuccess:a.Utils.createClosure(c,h),onError:a.Utils.createClosure(d,h)},!1)})}function e(b,c,d){g(),f(b,j,{onSuccess:a.Utils.createClosure(function(){c(!0)},d),onError:a.Utils.createClosure(function(){c(!1)},d)},!0)}function f(b,d,e,f){var g=c.document.createElement("script"),h=a.Environment.getIEVersion();g.setAttribute("type","text/javascript"),g.setAttribute("src",b),h&&(9>h||c.document.documentMode&&c.document.documentMode<9)?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&(g.onreadystatechange=null,e.onSuccess&&e.onSuccess())}:h>=10&&!f?(g.onerror=function(){setTimeout(e.onError,0)},g.onload=function(){setTimeout(e.onSuccess,0)}):(g.onerror=e.onError,g.onload=e.onSuccess),d.appendChild(g)}function g(){if(!j){var a=c.document.head;if(!a){var b=c.document.getElementsByTagName("head");a=b&&b.length>0?b[0]:c.document.body||c.document.getElementsByTagName("body")[0]}j=a}}function h(a,b){return"https"===a.protocol?l+b:k+b}function i(){var a=c.location.protocol.substring(0,c.location.protocol.length-1);return h({protocol:a},m+".js")}var j,k="http://aka-cdn-ns.adtechus.com/dt/common/",l="https://aka-cdn.adtechus.com/dt/common/",m="DACMultiAdPlugin",n="ResourceLoader";a[n]={loadScript:d,loadTransientScript:e,buildUrl:h,buildMultiAdPluginUrl:i,MULTI_AD_PLUGIN_NAME:m}}function g(a){function b(b){if(!a.Utils.isString(b.adcallUrl)){var f=b.protocol+"://"+b.server+"/"+d+e+b.network+e+(b.placement?b.placement:0)+e+b.pageid.toString()+e+b.sizeid.toString()+e+b.normaltarget;f=c(f,b,";"),b.adcallUrl=f}}function c(b,c,d,e,g,h){var i=!0,j="";return h=h||{},a.Utils.isObject(c.params)&&(i=void 0===c.params.misc,a.Utils.eachKey(c.params,function(a,c){g&&g[a]||(h[a]&&(c=h[a],delete h[a]),f[a]?j+=d+a+"="+c:b+=d+a+"="+c)}),a.Utils.eachKey(h,function(a,c){b+=d+a+"="+c})),i&&!e&&(b+=d+"misc="+(new Date).getTime()),b+=j}var d="addyn/3.0",e="/",f={rdclick:!0,rdview:!0,link:!0},g="AdcallBuilder";a[g]={buildUrl:b,addUrlParams:c}}function h(a,b,c){function d(a,c){function d(){F||(v.log(h,"adcallComplete","#"+a.id),c.queueId&&!c.partOfMultiAd&&b.queueCallback(c.queueId),F=!0)}function g(a){f()?a.onload=d:a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&(a.onreadystatechange=null,d())}}function i(){v.log(h,"done","#"+a.id),d(),w.complete&&w.complete()}function l(b,c){v.log(h,"resize","#"+a.id+" resizing to "+b+"x"+c),a.width=b,a.height=c}function m(){if(E){n(),w.fif.preResize(c.id);var a=o();l(a.width,a.height)}else l(C,D);i()}function n(){var a;if(!c.config.fif.contentStyle){if(j.isOldIEMode()){var b=I.nextSibling;b&&"a"===b.nodeName.toLowerCase()&&(a=b)}else 2===I.children.length&&"a"===I.children[1].nodeName.toLowerCase()&&(a=I.children[1]);a&&1===a.children.length&&"img"===a.children[0].nodeName.toLowerCase()&&(a.children[0].style.display="block")}}function o(){var a=I.scrollWidth,b=I.scrollHeight;return 0!==a&&0!==b||1!==I.children.length||!j.isOldIEMode()||"script"===I.children[0].nodeName.toLowerCase()&&(a=q("Width"),b=q("Height")),window.opera&&(2>a||2>b)&&(a=p("Width"),b=p("Height")),{width:a,height:b}}function p(a){var b=Math.max(B.documentElement["client"+a],B.body["scroll"+a],B.documentElement["scroll"+a],B.body["offset"+a],B.documentElement["offset"+a]);return b}function q(a){var b=Math.max(B.body["scroll"+a],B.body["offset"+a]);return b}function r(){var a=0,b=setInterval(function(){if(50>a&&"complete"!=B.readyState){var c=o();c.width>1&&c.height>1&&(clearInterval(b),l(c.width,c.height)),a++}else clearInterval(b)},100)}function s(){E?(G=0,t()):u()}function t(){var b=o();(b.width<=1||b.height<=1)&&H>G?(G+=k,v.log("#"+a.id+" recheck content size"),setTimeout(t,k)):u()}function u(){v.log("#"+a.id+" loaded"),m()}var v=c.logger,w=c.config,x="<script>var inFIF=inDapIF=true;</script>";w.fif.disableFriendlyFlag&&(x="");var y='<script id="adscript" src="'+w.adcallUrl+'"></script>';c.adLoadScript&&(y=c.adLoadScript);var z="<style>body {margin:0;padding:0;overflow:hidden;} html {margin:0;padding:0;} ";z+=c.config.fif.contentStyle,z+="</style>";var A="<!DOCTYPE html><html><head>"+z+"</head><body>"+x+'<div id="afd">'+y+"</div></body></html>",B=a.contentDocument||a.contentWindow.document,C=w.fif.width,D=w.fif.height,E=1>=C||1>=D,F=!1,G=0,H=c.config.fif.onloadResizeCheckTimeLimit;B.open("text/html","replace"),B.write(A),g(B.getElementById("adscript")),e()?setTimeout(function(){B.close()},500):B.close();var I=B.getElementById("afd");"complete"==B.readyState?E?s():(l(C,D),i()):(B.addEventListener?a.contentWindow.addEventListener("load",s,!1):B.body.onload=s,E&&!w.fif.disableLoadingResize&&r())}function e(){return!!c.opera||j.isOldIEMode()}function f(){var a=j.getIEVersion();return a&&(9>a||c.document.documentMode&&c.document.documentMode<9)?!1:!0}function g(a){var b=c.document.createElement("iframe"),e=a.config,f=e.placement+"_frame";f=e.alias?e.alias+"_frame":e.placement?e.placement+"_frame":e.adContainerId?e.adContainerId+"_frame":"rnd_frame"+i.rnd(1e6),b.seamless="seamless",b.id=f,b.name=f,b.style.border="0px",b.scrolling="no",b.frameBorder=0,b.width=1,b.height=1,b.allowtransparency=!0,b.setAttribute("allowFullScreen","true"),b.setAttribute("mozallowFullScreen","true"),b.setAttribute("webkitAllowFullScreen","true"),b.src="about:blank",e.adContainer.appendChild(b),a.logger.log(h,"setupFif","#"+f+" created"),d(b,a)}var h="FifRenderer",i=a.Utils,j=a.Environment,k=50;a[h]={setupFif:g}}function i(a,b,c){function d(a,b,c,d){c[a]=!!d[a+b]}function e(a,b,c,d){d[a+b]&&(c[a]=d[a+b])}function f(a,b){var f;if(c.Adtech!==q){var g=c.Adtech;f={network:g["networkSubnetwork"+a],protocol:g["protocol"+a],server:g["adURLHostName"+a],alias:g["placementAlias"+a],kv:g["KV"+a],fif:g["fif"+a],params:{}},d("performScreenDetection",a,f,g),d("performTimezoneDetection",a,f,g),d("performFlashDetection",a,f,g),d("performRichMediaDetection",a,f,g),d("performGeoDetection",a,f,g),d("syncIfPossible",a,f,g),d("legacyDACLoadType",a,f,g),e("loc",a,f.params,g),e("grp",a,f.params,g),b.logObject(r,"AdtechConfig",f)}return f}function g(a,b,c,d,e){if(t(a)){var f=c&&a[c]?c:b;d.log(r,"getPlacementConfig","Placement look up for level "+e+" done using "+(f===c?"alias: "+c:"placement id: "+b));var g=a[f];return g||(g=p(a,b,c,d)),g&&d.logObject(r,"getPlacementConfig",g),g}return q}function h(a){return t(a)?a.important:q}function i(b,c,d,e){var f=e||{};a.Utils.eachKey(c,function(a,e){"important"===a||f[a]||(d||"params"!==a||e.alias===q||c.alias!==q||(b.alias=e.alias),t(b[a])&&t(e)&&!d?i(b[a],e,!0):b[a]===q&&t(e)&&!d?(b[a]={},i(b[a],e,!0)):null===e?delete b[a]:e!==q&&(b[a]=e))})}function j(b){var c=b.logger,d=b.config,e=d.placement,f=d.alias;if(!a.Utils.isNumber(e)&&!a.Utils.isString(f))throw r+": Invalid ad identifier";c.log(r,"buildConfiguration","Resolving configuration for alias: "+f+" and placement: "+e);var g,h={},j=k(d,c),l="";for(g=0;g<j.length;g++)j[g]&&t(j[g].config)&&(l+=" "+g,i(h,n(j[g].config,c),!1,j[g].ignore));return c.log(r,"buildConfiguration","Found configuration at priorities"+l),h}function k(a,c){var d=[],e=b.config,i=a.placement,j=a.alias,k={enableMultiAd:!0,responsiveCheckTimeout:!0};return d[10]={config:e.network},d[20]={config:e.website},d[30]={config:e.page},d[40]={config:g(e.placements,i,j,c,40),ignore:k},d[50]={config:e.networkdyn},d[60]={config:e.websitedyn},d[70]={config:e.pagedyn},d[80]={config:f(a.placement,c)},d[90]={config:g(e.placementsdyn,i,j,c,90),ignore:k},d[110]={config:h(e.network)},d[120]={config:h(e.website)},d[130]={config:h(e.page)},d[140]={config:l(d[40].config,i,j,c,140),ignore:k},d[150]={config:h(e.networkdyn)},d[160]={config:h(e.websitedyn)},d[170]={config:h(e.pagedyn)},d[180]={config:l(d[90].config,i,j,c,180),ignore:k},d[200]={config:a,ignore:k},d}function l(a,b,c,d,e){return d.log(r,"getPlacementImportantConfig","Placement look up for level "+e+" done using alias: "+c+", placement id: "+b),h(a)}function m(a){return!!b.config.placements&&!!b.config.placements[a]||!!b.config.placementsdyn&&!!b.config.placementsdyn[a]}function n(a,b){if(!a.dynamicBind)return a;var c=s.cloneObject(a);return b.logObject(r,"resolveDynamicBindings",a.dynamicBind),o(c,a.dynamicBind,b),delete c.dynamicBind,c}function o(a,b,c){s.eachKey(b,function(b,d){if(t(d))s.isArray(a)&&(b=a.length),a[b]||(a[b]=s.isArray(d)?[]:{}),o(a[b],d,c);else{var e=s.resolveHostPageVariable(d);void 0!==e?a[b]=e:c&&c.log(r,"resolveDynamicBindingsValues","Could not find a value for "+d)}})}function p(a,b,c,d){var e,f=b?"placement":"alias",g=b?b:c;return s.eachKey(a,function(a,b){var c=b[f];!c&&"alias"===f&&b.params&&(c=b.params.alias),c===g&&(e=b)}),e&&d.logObject(r,"resolveLinkedIdConfig","Found config on a linked id placement id:"+b+", alias: "+c),e}var q,r="ConfigResolver",s=a.Utils,t=s.isObject;a[r]={buildConfiguration:j,isPlacementConfigDefined:m}}function j(a){function b(a,b){return n(a)&&""!==a?a:b}function c(a,b){return o(a)?a:b}function d(a){return a?"https":"http"}function e(a,e){var i,s={};if(!o(a.placement)&&!n(a.alias))throw"config.placement must be a Number or the config.alias has to be a string";return m.each(["network"],function(b){if(!n(a[b]))throw j+"#process config."+b+" must be a String"}),i=a.placement?a.placement:a.alias,s.placement=a.placement,s.alias=a.alias,s.network=a.network,s.server=b(a.server,r),s.protocol=b(a.protocol,d(a.secure===!0)),s.pageid=c(a.pageid,0),s.sizeid=c(a.sizeid,-1),s.normaltarget=b(a.normaltarget,"ADTECH"),s.adContainerId=b(a.adContainerId,i.toString()),s.adContainerId==a.placement&&a.alias&&!m.findAdContainer(s)&&(s.adContainerId=a.alias,m.findAdContainer(s)||(s.adContainerId=a.placement)),h(s,a,"enableMultiAd",!1),g(s,a,"responsiveCheckTimeout",k),p(a.fif)?(s.fif={usefif:a.fif.usefif!==!1,width:c(a.fif.width,0),height:c(a.fif.height,0)},f(s.fif,a.fif,"disableFriendlyFlag"),f(s.fif,a.fif,"disableLoadingResize"),g(s.fif,a.fif,"shareWithAddOns",!0),s.fif.contentStyle=m.isString(a.fif.contentStyle)?a.fif.contentStyle:"",s.fif.preResize=m.isFunc(a.fif.preResize)?a.fif.preResize:q,s.fif.onloadResizeCheckTimeLimit=o(a.fif.onloadResizeCheckTimeLimit)&&a.fif.onloadResizeCheckTimeLimit>0?a.fif.onloadResizeCheckTimeLimit:l):s.fif={usefif:!1,width:0,height:0,disableFriendlyFlag:!1,disableLoadingResize:!1},m.isFunc(a.complete)&&(s.complete=a.complete),s.params={},p(a.params)&&m.eachKey(a.params,function(b){n(a.params[b])&&a.params[b].length>0&&(s.params[b]=a.params[b])}),s.alias&&(s.params.alias=s.alias),p(a.kv)&&m.eachKey(a.kv,function(a,b){var c=[];m.isArray(b)?(m.each(b,function(a){(n(a)||o(a))&&c.push(a.toString())}),s.params["kv"+a]=c.join(":")):n(b)&&b.length>0?s.params["kv"+a]=b.toString():o(b)&&(s.params["kv"+a]=b.toString())}),m.isObject(a.responsive)?(s.responsive={useresponsive:a.responsive.useresponsive!==!1,allowGaps:a.responsive.allowGaps===!0,bounds:[]},m.isArray(a.responsive.bounds)&&m.each(a.responsive.bounds,function(a){a.id&&o(a.min)&&o(a.max)&&a.min<a.max&&s.responsive.bounds.push(a)}),0===s.responsive.bounds.length&&(s.responsive.useresponsive=!1)):s.responsive={useresponsive:!1,bounds:[]},f(s,a,"syncIfPossible"),f(s,a,"legacyDACLoadType"),f(s,a,"performGeoDetection"),h(s,a,"performScreenDetection",!0),f(s,a,"performTimezoneDetection"),f(s,a,"performFlashDetection"),f(s,a,"performRichMediaDetection"),e.logObject(j,"finalConfig",s),s}function f(a,b,c){a[c]=b[c]===!0}function g(a,b,c,d){a[c]=void 0!==b[c]?b[c]:d}function h(a,b,c,d){a[c]=m.isBoolean(b[c])?b[c]:d}function i(a){return a=a||{},a.multiAd=a.multiAd||{},a.multiAd.skipDefault=a.multiAd.skipDefault||!1,a.multiAd.disableAdInjection=a.multiAd.disableAdInjection||!1,g(a.multiAd,a.multiAd,"autoInjectShownResponsive",!0),a}var j="ConfigFinalizer",k=150,l=500,m=a.Utils,n=m.isString,o=m.isNumber,p=m.isObject,q=function(){},r="adserver.adtechus.com";a[j]={process:e,processQueueConfig:i,defaultFunc:q}}function k(a){function b(a,b,f){var g;return b===n&&f===n?g=c(a):p.isString(a)&&p.isString(b)?g=d(a,b,f):e(),g}function c(a){var b={legacyApi:!1};if(p.isNumber(a))b.config=f(a);else if(p.isString(a))b.config=g(a);else if(p.isObject(a)){if(b.config=m(a),l(b.config),!b.config.placement&&!b.config.alias)throw o+"#handleNewApi no placement id or alias found"}else e();return b}function d(a,b,c){var d={legacyApi:!0};return p.isObject(c)?d.config=h(a,b,c):c===n?d.config=h(a,b,{}):e(),d}function e(){throw o+"#handleParameters Invalid parameters combination"}function f(a){return{placement:a}}function g(a){if(!a)throw o+"#handleAliasString empty alias not allowed";return{alias:a}}function h(a,b,c){var d={};return i(a,b,d),c.fif?(d.fif={},d.fif.usefif=!0,d.fif.width=k(c.width,0),d.fif.height=k(c.height,0),d.fif.preResize=p.isFunc(c.preResize)?c.preResize:function(){}):d.fif={usefif:!1,width:0,height:0},d.complete=j(c.complete),d.debugMode=!!c.debugMode,d}function i(a,b,c){c.adContainerId=a,c.adcallUrl=b}function j(a){return p.isFunc(a)?a:n}function k(a,b){return p.isNumber(a)?a:b}function l(a){!a.adContainerId&&a.injectElementId&&(a.adContainerId=a.injectElementId),!a.alias&&a.params&&a.params.alias&&(a.alias=a.params.alias)}function m(a){var b=a;return a.placement&&!p.isNumber(a.placement)&&(b={},p.copyObject(b,a,["placement"],!0)),b}var n,o="LoadAdParametersHandler",p=a.Utils;a[o]={handleParameters:b}}function l(a,b,c){function d(b){if(b.performScreenDetection&&c.screen&&c.screen.width&&c.screen.height){b.params.screenheight=c.screen.height.toString(),b.params.screenwidth=c.screen.width.toString(),c.devicePixelRatio&&(b.params.screendensity=c.devicePixelRatio.toString());var d=a.Utils;d.copyMissingProperty(b.params,b.params,"screenheight","kvscreenheight"),d.copyMissingProperty(b.params,b.params,"screenwidth","kvscreenwidth"),d.copyMissingProperty(b.params,b.params,"screendensity","kvscreendensity")}}function e(a){if(a.performTimezoneDetection){var b=-(new Date).getTimezoneOffset();b>0&&(b="+"+b),a.params.aduho=encodeURIComponent(b)}}function f(){return!(c.navigator.mimeTypes!==o&&c.navigator.mimeTypes[q]!==o&&!navigator.mimeTypes[q].enabledPlugin)}function g(a){if(a.performFlashDetection){var b,d,e;if(c.navigator.plugins!==o&&c.navigator.plugins["Shockwave Flash"]!==o){var g=c.navigator.plugins["Shockwave Flash"].description;g&&f()&&(g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),d=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),e=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0)}else if(c.ActiveXObject!==o)try{var h=new c.ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(h){var i=h.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),b=parseInt(i[0],10),d=parseInt(i[1],10),e=parseInt(i[2],10))}}catch(j){}b!==o&&(a.params.flashver=b+"."+d+"."+e)}}function h(a){if(c.mraid!==o){var b=c.mraid.getVersion();/1\.\d/.test(b)?a="3":/2\.\d/.test(b)&&(a="5")}return a}function i(a){var b=""!==a?":":"";return c.ormma!==o?a+b+"4":a}function j(a){if(a.performRichMediaDetection){var b="";b=h(b),b=i(b),""!==b&&(a.params.apifw=b)}}function k(d){return function(e,f){function g(a){b.geoCoords=a.coords,e()}function h(a){d.logger.log(p,"myErr","GeoLocation failed: "+a.toString()),f()}c.navigator.geolocation.getCurrentPosition(a.Utils.createClosure(g,d.logger),a.Utils.createClosure(h,d.logger),{timeout:1e3})}}function l(c,d){var e=c.config;return a.Utils.createClosure(function(c){c&&b.geoCoords&&a.Utils.isNumber(b.geoCoords.latitude)&&a.Utils.isNumber(b.geoCoords.longitude)&&(e.params.lat=b.geoCoords.latitude.toString(),e.params["long"]=b.geoCoords.longitude.toString()),d()},c.logger)}function m(a){return!!(a.performGeoDetection&&c.navigator&&c.navigator.geolocation&&c.navigator.geolocation.getCurrentPosition)}function n(b,c){a.ResourceManager.schedule("geo",l(b,c),!1,k(b))}var o,p="Detections",q="application/x-shockwave-flash";return a[p]={detectScreenSize:d,detectUTCOffset:e,detectFlashVersion:g,detectRichMediaSupport:j,detectGeoLocation:n,isGeo:m},a[p]}function m(a,b,c){function d(d,e){var f;return f=new v(a,b,c,d),f.allowGrouping=e,b.adqueues=b.adqueues||{},b.adqueues[d]=f,b.adQueuesIdList=b.adQueuesIdList||[],b.currentAdQueue=f,b.adQueuesIdList.push(d),f}function e(a){var c=b.currentAdQueue||d(a.queueId||q.rnd(1e5).toString(),a.config.enableMultiAd);c.addRequest(a),a.queueId=c.id}function f(a){var c=b.currentAdQueue,d=c.id;if(!q.isObject(c))throw new Error(p+"#execute No AdQueue to execute was found");return b.currentAdQueue=void 0,c.allowGrouping?r.loadScript(r.buildMultiAdPluginUrl(),r.MULTI_AD_PLUGIN_NAME,!1,function(b){if(!b)throw new Error(p+"#execute MultiAd plugin failed to load");c=h(c),g(c,a)},null):g(c,a),d}function g(b,c){b.executeConfig=c,a.ResponsiveAdManager.registerQueue(b),b.allowGrouping?(l(b,c.multiAd),a.MultiAdManager.load(b,[])):b.start()}function h(d){var e=new a.pluginClasses.MultiAdGroupQueue(a,b,c,d.id);return b.adqueues[d.id]=e,a.Utils.each(d.storage,function(a){e.addRequest(a,d.requests[a.id])}),e}function i(b,c){k(b,function(){try{a.BannerInjector.doAsync(b)}catch(d){b.logger.log(p,"processAdRequest","Exception caught: "+d),c.advance()}})}function j(b,c,d){b.logger.log(p,"processMultiAdRequest","Start processing group from queue:"+c+" with index "+d),k(b,function(){a.MultiAdManager.loadGroup(b,c,d)})}function k(b,c){var d=b.config;a.BannerInjector.performSyncDetections(d),a.Detections.isGeo(d)?a.Detections.detectGeoLocation(b,function(){c()}):c()}function l(a,b){for(var c=b?b.skipDefault:!1,d=0;d<a.storage.length;d++){var e=a.storage[d];a.requests[e.id].multiAdSkipDefault=c}}function m(a,c){return c?b.adqueues[c].requests[a]:void 0}function n(a){if(0!==b.adQueuesIdList.length)for(var c=b.adQueuesIdList.length-1;c>=0;c--){var d=b.adQueuesIdList[c],e=b.adqueues[d],f=e.requests[a];if(f)return d}}function o(b,c){b.allowGrouping?(0===b.virtualSubGroupCounter&&(b.virtualSubGroupCounter=b.groupList.length),a.MultiAdManager.load(b,c)):(b.createVirtualSubQueue(c),b.start())}var p="AdQueue",q=a.Utils,r=a.ResourceLoader;a[p]={enqueue:e,execute:f,processAdRequest:i,processMultiAdRequest:j,getRequest:m,getRequestQueue:n,reloadQueue:o,promoteQueueToMultiAdQueue:h}}function n(a){w.BannerInjector.doAsync(a)}function o(a){p(a);var b=a.config;w.ResponsiveAdManager.register(a),w.BannerInjector.performSyncDetections(b),C.isGeo(b)?(B.createAdContainer(a),C.detectGeoLocation(a,function(){w.BannerInjector.doAsync(a)})):b.syncIfPossible&&w.ResourceManager.isSync(a.config.legacyDACLoadType,w.Environment.getIEVersion())?w.BannerInjector.doSync(a):(B.createAdContainer(a),w.BannerInjector.doAsync(a))}function p(a){var b=w.ConfigResolver.buildConfiguration(a);a.config=w.ConfigFinalizer.process(b,a.logger),a.config.params.grp=a.config.params.grp||r.adgroupid}function q(a,b,c){var d,e=s.adqueues[b];if(e){var f=e.requests[a];d=f?f.context.logger:void 0}if(s.debugMode||d&&d.isEnabled())throw c}var r=window,s=r.ADTECH;if(!s.loadAd||s.allowDACRedefine){var t=function(a,b,c){this.enabled=!!b.debugMode,this.output=c.console,this.modules=a,this.global=b,this.win=c};t.prototype.debug=function(a){this.enabled&&this.output&&this.output.log(a)},t.prototype.setEnabled=function(a){this.enabled=!!a||this.global.debugMode},t.prototype.isEnabled=function(){return this.enabled},t.prototype.logObject=function(a,b,c){var d=a+":"+b+" ";this.modules.Utils.isObject(r.JSON)?d+=r.JSON.stringify(c):(d+="{ ",this.modules.Utils.eachKey(c,function(a,b){d+=a+":"+b+" "}),d+="}"),this.debug(d)},t.prototype.log=function(a,b,c){this.debug(void 0===b&&void 0===c?a:a+"#"+b+" "+c)};var u=function(a,b,c){this.modules=a,this.global=b,this.win=c,this.logger=new t(a,b,c)};u.prototype.setConfig=function(a){this.config=a,this.id=a.alias?a.alias:a.placement},u.prototype.hasResponsiveConfig=function(){return this.config.responsive.useresponsive};var v=function(a,b,c,d){this.storage=[],this.requests={},this.allowGrouping=!1,this.doAutoAdInjection=!0,this.namespace=a,this.global=b,this.win=c,this.curPointer=-1,this.id=d,this.responsiveIndexes=[],this.virtualSubQueueIndexes=[],this.running=!1};v.prototype.advance=function(){var a=this.getNextRequest();this.namespace.Utils.isObject(a)?a.disableAdInjection?this.advance():this.namespace.AdQueue.processAdRequest(a,this):this.close()},v.prototype.start=function(){this.curPointer=-1,this.running=!0,this.advance()},v.prototype.close=function(){this.running=!1,this.virtualSubQueueIndexes=[]},v.prototype.inVirtualMode=function(){return this.virtualSubQueueIndexes.length>0},v.prototype.getNextRequest=function(){var a;if(this.curPointer+=1,this.inVirtualMode()){var b=this.virtualSubQueueIndexes[this.curPointer];a=this.storage[b]}else a=this.storage[this.curPointer];return a},v.prototype.addRequest=function(a){this.storage.push(a)},v.prototype.getResponsiveRequests=function(){var a=[],b=this;return this.namespace.Utils.each(this.responsiveIndexes,function(c){a.push(b.storage[c])}),a},v.prototype.createVirtualSubQueue=function(a){var b=this;this.virtualSubQueueIndexes=[],this.namespace.Utils.each(a,function(a){b.namespace.Utils.each(b.storage,function(c,d){c.id===a&&b.virtualSubQueueIndexes.push(d)})})};var w={pluginClasses:{}},x=s.dacAsyncLoad?"loadAdImpl":"loadAd",y=s.dacAsyncLoad?"enqueueAdImpl":"enqueueAd",z=s.dacAsyncLoad?"executeQueueImpl":"executeQueue",A=s.dacAsyncLoad?"showAdImpl":"showAd";a(w,s,r),e(w,s,r);var B=b(w,s,r);i(w,s,r),j(w),c(w,s,r);var C=l(w,s,r);f(w,s,r),d(w,s,r),g(w),k(w,s),h(w,s,r),m(w,s,r);void 0===r.adgroupid&&(r.adgroupid=B.rnd(1e3)),s.dacRequestAd=function(a,b){r.Adtech=r.Adtech||{};var c=parseInt(a,10),d=r.Adtech;B.isString(b)?d["KV"+a]=B.stringToObject(b):B.isObject(b)&&(d["KV"+a]=b),d["fif"+a]=d["fif"+a]||{},d["syncIfPossible"+a]=d["syncIfPossible"+a]||!0,d["legacyDACLoadType"+a]=!0,s.loadAd({placement:c})},s[x]=function(a,b,c){var d=s.debugMode;try{var e=new u(w,s,r),f=w.LoadAdParametersHandler.handleParameters(a,b,c);e.logger.setEnabled(f.config.debugMode),d=d||f.config.debugMode,e.setConfig(f.config),f.legacyApi?n(e):o(e)}catch(g){if(d)throw g}},s.queueCallback=function(a){try{B.isObject(s.adqueues[a])&&s.adqueues[a].advance()}catch(b){if(s.debugMode)throw b}},s.registerPlugin=function(a){a({modules:w,coreClasses:{Queue:v,Logger:t,RequestContext:u}})},s[y]=function(a,b){var c=s.debugMode;try{var d=new u(w,s,r),e=w.LoadAdParametersHandler.handleParameters(a);d.logger.setEnabled(e.config.debugMode),c=c||e.config.debugMode,d.setConfig(e.config),p(d),b&&B.isString(b)&&(d.queueId=b),w.AdQueue.enqueue(d)}catch(f){if(c)throw f}},s[z]=function(a){try{return w.AdQueue.execute(w.ConfigFinalizer.processQueueConfig(a))}catch(b){if(s.debugMode)throw b}},s[A]=function(a,b){try{var c=w.ResourceLoader;c.loadScript(c.buildMultiAdPluginUrl(),c.MULTI_AD_PLUGIN_NAME,!1,function(c){if(!c)throw new Error("Core#execute MultiAd plugin failed to load");w.MultiAdManager.showAd(a,b)},null)}catch(d){q(a,b,d)}},s.writeAd=function(a,b,c,d){try{w.MultiAdManager.writeAd(a,b,c,d)
}catch(e){q(a,d,e)}}}}(),function(){"use strict";var a=window,b=a.DAC;if(!b.requestAd||b.allowDACRedefine){var c=b.asyncLoad?"requestAdImpl":"requestAd";b[c]=function(b,c){a.ADTECH.dacRequestAd(b,c)}}}()}catch(e){if(window.ADTECH.debugMode)throw e}