!function(a){function b(a){if("bug-string-char-index"==a)return"a"!="a"[0];var b,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',d="json"==a;if(d||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||d){var g=h.stringify,j="function"==typeof g&&i;if(j){(b=function(){return 1}).toJSON=b;try{j="0"===g(0)&&"0"===g(new Number)&&'""'==g(new String)&&g(f)===e&&g(e)===e&&g()===e&&"1"===g(b)&&"[1]"==g([b])&&"[null]"==g([e])&&"null"==g(null)&&"[null,null,null]"==g([e,f,null])&&g({a:[b,!0,!1,null,"\x00\b\n\f\r	"]})==c&&"1"===g(null,b)&&"[\n 1,\n 2\n]"==g([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==g(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==g(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==g(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==g(new Date(-1))}catch(k){j=!1}}if(!d)return j}if("json-parse"==a||d){var l=h.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){b=l(c);var m=5==b.a.length&&1===b.a[0];if(m){try{m=!l('"	"')}catch(k){}if(m)try{m=1!==l("01")}catch(k){}}}}catch(k){m=!1}if(!d)return m}return j&&m}}var c,d,e,f={}.toString,g="function"==typeof define&&define.amd,h="object"==typeof exports&&exports;h||g?"object"==typeof JSON&&JSON?h?(h.stringify=JSON.stringify,h.parse=JSON.parse):h=JSON:g&&(h=a.JSON={}):h=a.JSON||(a.JSON={});var i=new Date(-0xc782b5b800cec);try{i=-109252==i.getUTCFullYear()&&0===i.getUTCMonth()&&1===i.getUTCDate()&&10==i.getUTCHours()&&37==i.getUTCMinutes()&&6==i.getUTCSeconds()&&708==i.getUTCMilliseconds()}catch(j){}if(!b("json")){var k="[object Function]",l="[object Date]",m="[object Number]",n="[object String]",o="[object Array]",p="[object Boolean]",q=b("bug-string-char-index");if(!i)var r=Math.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],t=function(a,b){return s[b]+365*(a-1970)+r((a-1969+(b=+(b>1)))/4)-r((a-1901+b)/100)+r((a-1601+b)/400)};(c={}.hasOwnProperty)||(c=function(a){var b,d={};return(d.__proto__=null,d.__proto__={toString:1},d).toString!=f?c=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=d.constructor,c=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),d=null,c.call(this,a)});var u={"boolean":1,number:1,string:1,undefined:1},v=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!u[c]};if(d=function(a,b){var d,e,g,h,i=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(g in e)c.call(e,g)&&i++;return d=e=null,i?h=2==i?function(a,b){var d,e={},g=f.call(a)==k;for(d in a)g&&"prototype"==d||c.call(e,d)||!(e[d]=1)||!c.call(a,d)||b(d)}:function(a,b){var d,e,g=f.call(a)==k;for(d in a)g&&"prototype"==d||!c.call(a,d)||(e="constructor"===d)||b(d);(e||c.call(a,d="constructor"))&&b(d)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(a,b){var d,g,h=f.call(a)==k,i=!h&&"function"!=typeof a.constructor&&v(a,"hasOwnProperty")?a.hasOwnProperty:c;for(d in a)h&&"prototype"==d||!i.call(a,d)||b(d);for(g=e.length;d=e[--g];i.call(a,d)&&b(d));}),h(a,b)},!b("json-stringify")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x="000000",y=function(a,b){return(x+(b||0)).slice(-a)},z="\\u00",A=function(a){var b,c='"',d=0,e=a.length,f=e>10&&q;for(f&&(b=a.split(""));e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=w[g];break;default:if(32>g){c+=z+y(2,g.toString(16));break}c+=f?b[d]:q?a.charAt(d):a[d]}}return c+'"'},B=function(a,b,g,h,i,j,k){var q,s,u,v,w,x,z,C,D,E,F,G,H,I,J,K,L=b[a];try{L=b[a]}catch(M){}if("object"==typeof L&&L)if(q=f.call(L),q!=l||c.call(L,"toJSON"))"function"==typeof L.toJSON&&(q!=m&&q!=n&&q!=o||c.call(L,"toJSON"))&&(L=L.toJSON(a));else if(L>-1/0&&1/0>L){if(t){for(v=r(L/864e5),s=r(v/365.2425)+1970-1;t(s+1,0)<=v;s++);for(u=r((v-t(s,0))/30.42);t(s,u+1)<=v;u++);v=1+v-t(s,u),w=(L%864e5+864e5)%864e5,x=r(w/36e5)%24,z=r(w/6e4)%60,C=r(w/1e3)%60,D=w%1e3}else s=L.getUTCFullYear(),u=L.getUTCMonth(),v=L.getUTCDate(),x=L.getUTCHours(),z=L.getUTCMinutes(),C=L.getUTCSeconds(),D=L.getUTCMilliseconds();L=(0>=s||s>=1e4?(0>s?"-":"+")+y(6,0>s?-s:s):y(4,s))+"-"+y(2,u+1)+"-"+y(2,v)+"T"+y(2,x)+":"+y(2,z)+":"+y(2,C)+"."+y(3,D)+"Z"}else L=null;if(g&&(L=g.call(b,a,L)),null===L)return"null";if(q=f.call(L),q==p)return""+L;if(q==m)return L>-1/0&&1/0>L?""+L:"null";if(q==n)return A(""+L);if("object"==typeof L){for(H=k.length;H--;)if(k[H]===L)throw TypeError();if(k.push(L),E=[],I=j,j+=i,q==o){for(G=0,H=L.length;H>G;J||(J=!0),G++)F=B(G,L,g,h,i,j,k),E.push(F===e?"null":F);K=J?i?"[\n"+j+E.join(",\n"+j)+"\n"+I+"]":"["+E.join(",")+"]":"[]"}else d(h||L,function(a){var b=B(a,L,g,h,i,j,k);b!==e&&E.push(A(a)+":"+(i?" ":"")+b),J||(J=!0)}),K=J?i?"{\n"+j+E.join(",\n"+j)+"\n"+I+"}":"{"+E.join(",")+"}":"{}";return k.pop(),K}};h.stringify=function(a,b,c){var d,e,g;if("function"==typeof b||"object"==typeof b&&b)if(f.call(b)==k)e=b;else if(f.call(b)==o){g={};for(var h,i=0,j=b.length;j>i;h=b[i++],(f.call(h)==n||f.call(h)==m)&&(g[h]=1));}if(c)if(f.call(c)==m){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else f.call(c)==n&&(d=c.length<=10?c:c.slice(0,10));return B("",(h={},h[""]=a,h),e,g,d,"",[])}}if(!b("json-parse")){var C,D,E=String.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},G=function(){throw C=D=null,SyntaxError()},H=function(){for(var a,b,c,d,e,f=D,g=f.length;g>C;)switch(e=f.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=q?f.charAt(C):f[C],C++,a;case 34:for(a="@",C++;g>C;)if(e=f.charCodeAt(C),32>e)G();else if(92==e)switch(e=f.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=F[e],C++;break;case 117:for(b=++C,c=C+4;c>C;C++)e=f.charCodeAt(C),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||G();a+=E("0x"+f.slice(b,C));break;default:G()}else{if(34==e)break;for(e=f.charCodeAt(C),b=C;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++C);a+=f.slice(b,C)}if(34==f.charCodeAt(C))return C++,a;G();default:if(b=C,45==e&&(d=!0,e=f.charCodeAt(++C)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(C+1),e>=48&&57>=e)&&G(),d=!1;g>C&&(e=f.charCodeAt(C),e>=48&&57>=e);C++);if(46==f.charCodeAt(C)){for(c=++C;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==C&&G(),C=c}if(e=f.charCodeAt(C),101==e||69==e){for(e=f.charCodeAt(++C),(43==e||45==e)&&C++,c=C;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==C&&G(),C=c}return+f.slice(b,C)}if(d&&G(),"true"==f.slice(C,C+4))return C+=4,!0;if("false"==f.slice(C,C+5))return C+=5,!1;if("null"==f.slice(C,C+4))return C+=4,null;G()}return"$"},I=function(a){var b,c;if("$"==a&&G(),"string"==typeof a){if("@"==(q?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=H(),"]"!=a;c||(c=!0))c&&(","==a?(a=H(),"]"==a&&G()):G()),","==a&&G(),b.push(I(a));return b}if("{"==a){for(b={};a=H(),"}"!=a;c||(c=!0))c&&(","==a?(a=H(),"}"==a&&G()):G()),(","==a||"string"!=typeof a||"@"!=(q?a.charAt(0):a[0])||":"!=H())&&G(),b[a.slice(1)]=I(H());return b}G()}return a},J=function(a,b,c){var d=K(a,b,c);d===e?delete a[b]:a[b]=d},K=function(a,b,c){var e,g=a[b];if("object"==typeof g&&g)if(f.call(g)==o)for(e=g.length;e--;)J(g,e,c);else d(g,function(a){J(g,a,c)});return c.call(a,b,g)};h.parse=function(a,b){var c,d;return C=0,D=""+a,c=I(H()),"$"!=H()&&G(),C=D=null,b&&f.call(b)==k?K((d={},d[""]=c,d),"",b):c}}}g&&define(function(){return h})}(this),function(a){var b=function(){var a,b,c,d=1,e=this;return{postMessage:function(a,b,c){b&&(c=c||parent,e.postMessage?("function"!=typeof c.postMessage&&(c=c.contentWindow||c),c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(d,f){e.postMessage?(d&&(c=function(a){return"string"==typeof f&&a.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&f(a.origin)===!1?!1:void d(a)}),e.addEventListener?e[d?"addEventListener":"removeEventListener"]("message",c,!1):e[d?"attachEvent":"detachEvent"]("onmessage",c)):(a&&clearInterval(a),a=null,d&&(a=setInterval(function(){var a=document.location.hash,c=/^#?\d+&/;a!==b&&c.test(a)&&(b=a,d({data:a.replace(c,"")}))},100)))},parseMessage:function(a){if("string"!=typeof a)return!1;try{a=JSON.parse(a)}catch(b){return!1}return"undefined"!=typeof a.type?a:!1}}}();a.ScribolPostmessage=b}(window),function(a,b,c,d,e,f,g){c=("https:"===document.location.protocol?"//ssl-nau":"//nau")+".hexagram.com",Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this,d=0;d<=c.length;d++)a.call(b,c[d],d,this)}),d=function(a,c,d,e){return a?(d=a.match(/^(\W|\*)?(.*)/),e="getElement"+("*"===d[1]?"sByTagName":d[1]?"#"===d[1]?"ById":"sByClassName":"sByTagName"),c=c||document,d=c.querySelectorAll&&c.querySelectorAll(a)||c[e](d[2]||"*"),d&&(b!==d.length?[].slice.apply(d):[].concat(d))||[]):[]},e=function(a,b){a.forEach(function(a){for(attr in b){if(!b.hasOwnProperty(attr))break;a.setAttribute(attr,b[attr])}})},g={loadedNotification:function(b){ScribolPostmessage.postMessage(JSON.stringify({type:"parentData",url:a.location.href,referrer:document.referrer,offset:{top:0,left:0},windowSize:{width:0,height:0}}),"*",frames[b.name])},readyNotification:function(a){e(d("#"+a.name),{width:a.width,height:a.height}),a.notify!==!1&&ScribolPostmessage.postMessage(JSON.stringify({type:"DC"}),"*",frames[a.name])},DOMElemCmd:function(a){var b=[],c=d(a.selector);b=a.tagName&&c.length?c:[document.createElement(a.tagName||"div")],e(b,a.attributes||{}),a.html&&b.forEach(function(b){b.innerHTML=a.html}),a.tagName&&d(a.appendTo).forEach(function(a){a.appendChild(b[0])}),d(a.replaceChild).forEach(function(a,c){a.parentElement.replaceChild(b[c],a)})},DOMAttrCmd:function(a){e(d(a.selector),a.attrs)},DOMEventCmd:function(b){var c=function(a){b.handler.event=a,g[b.handler.type](b.handler)};return a.addEvent?void addEvent(d(b.selector),b.event,c):void d(b.selector).forEach(function(a){a.addEventListener(b.event||b.event,c)})},DOMStyleCmd:function(a){var b=a.CSS;d(a.selector).forEach(function(a){for(var c in b){if(!b.hasOwnProperty(c))break;a.style[c]=b[c]}})}};var h=function(){ScribolPostmessage.receiveMessage(function(a){var a=ScribolPostmessage.parseMessage(a.data);a&&a.type in g&&g[a.type](a)});var a={widget:function(a,b){if("undefined"==typeof b)switch(a.split("_")[0]){case"scribol":b="redirects";break;case"preview":b="previews";break;case"hexagram":default:b="templates"}var d="";if("undefined"!=typeof HexagramConfig&&"object"==typeof HexagramConfig[a]&&"undefined"!=typeof HexagramConfig[a].click)var d="&click="+encodeURIComponent(HexagramConfig[a].click);g.DOMElemCmd({tagName:"IFRAME",attributes:{id:a,"class":"nau",name:a,seamless:"seamless",width:"1",height:"1",frameborder:"0",border:"0",style:"border:none;",scrolling:"no",src:[c,"?name=",encodeURIComponent(a),"&type="+encodeURIComponent(b),"&c=",(new Date).getTime().toString(),d].join("")},replaceChild:"#"+a})},processAll:function(){d("*").forEach(function(a){var b=a.getAttribute("id");b&&b.match(/^(scribol|hexagram)_\d+$/)&&(a.className.match(/(^| )nau($| )/)||i.widget(b))})}};return a},i=new h;a.Hexagram=i;var j=function(){i.processAll(),"complete"!==document.readyState&&"interactive"!==document.readyState&&setTimeout(j,100)};j()}(window);