!function(e){function t(){var t={},r={huzzaUserId:null,baseUrl:"https://huzza.io",position:"left",showForYouTube:!0,marginBottomYoutube:"5px",marginTopYoutube:"5px",showForSoundCloud:!0,marginBottomSoundCloud:"5px",marginTopSoundCloud:"5px"},n=[],a={offsetFromBottom:3,offsetFromSide:0,type:"yt"},i={offsetFromBottom:3,offsetFromSide:0,type:"sc"};return e.onresize=function(){for(var e=0;e<n.length;e++){var o=n[e];t.recalculatePositionOfButton(o)}},t.insertButtons=function(n){if(!o){if(o=!0,"undefined"!=typeof n)for(var u in n)n.hasOwnProperty(u)&&(r[u]=n[u]);if("querySelector"in document&&"addEventListener"in e){for(var l=document.querySelectorAll("iframe"),s=0,m=l.length;m>s;s++){var d=l[s].src.match(/soundcloud/g),c=l[s].src.match(/playlists/g),f=l[s].src.match(/huzza.io/g);if(d&&d.length>0&&(!c||0==c)&&(!f||0==f)&&r.showForSoundCloud){var p=!1;t.insertIFrame(l[s],i,p)}var g=l[s].src.match(/youtube.com/g);if(g&&g.length>0&&r.showForYouTube){var p=!1;t.insertIFrame(l[s],a,p)}}for(var h=document.querySelectorAll("object"),s=0,m=h.length;m>s;s++)if("application/x-shockwave-flash"==h[s].type&&h[s].data&&h[s].data.length>0){var g=h[s].data.match(/youtube.com/g);if(g&&g.length>0&&r.showForYouTube){var p=!0;t.insertIFrame(h[s],a,p)}}}}},t.insertIFrame=function(e,o,r){var a=t.generateContainerDiv(e,o),i=t.generateIFrameElement(e,o.type,r),u=t.generateClearDiv();a.appendChild(i),a.appendChild(u),n.push(a),e.parentNode.insertBefore(a,e.nextSibling)},t.generateIFrameElement=function(t,o,n){var a,i=e.location.href;a=encodeURIComponent(n?t.data:t.src);var u=document.createElement("iframe"),l="right";return"left"==r.position&&(l="left"),u.src=r.baseUrl+"/embed/button?type="+o+"&src="+a+"&id="+r.huzzaUserId+"&referrerUrl="+i+"&position="+l,u.style.border="none",u.style.marginTop="0",u.style.marginBottom="0",u.style["float"]="right"==r.position?"right":"left",u.height=33,u},t.generateClearDiv=function(){var e=document.createElement("div");return e.style.clear="both",e},t.generateContainerDiv=function(e,t){var o=e.style.width;o||(o=getComputedStyle(e).width);var n=document.createElement("div");n.style.width=o,n.style.height="34px",n.style.clear="both","yc"==t.type?(n.style.marginTop=r.marginTopYoutube,n.style.marginBottom=r.marginBottomYoutube):"sc"==t.type&&(n.style.marginTop=r.marginTopSoundCloud,n.style.marginBottom=r.marginBottomSoundCloud);var a="absolute"==getComputedStyle(e).position||"absolute"==getComputedStyle(e.parentNode).position;return a&&(n.style.position="absolute",n.style.top=e.offsetHeight+t.offsetFromBottom+"px"),n},t.recalculatePositionOfButton=function(e){var t=e.previousSibling,o=getComputedStyle(t).width;e.style.width=o},t.getTrackIdFromUrl=function(){},t}var o=!1;"undefined"==typeof Huzza?e.Huzza=t():console.log("Huzza already defined.")}(window),Huzza.insertButtons(huzzaGlobalSettings);