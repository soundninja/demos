webpackJsonp([16],{0:function(h,k,c){c(1522);c(338);c(96);c(134);c(135);c(332);c(345);c(333);c(334);c(337);c(150);c(331);c(268);c(241);c(267);c(336);c(335);c(339);c(340);c(341);c(342);c(343);c(344);c(346)},24:function(h,k,c){h.exports={"default":c(127),__esModule:!0}},42:function(h,k,c){var a=c(7)["default"],m=c(6)["default"],b=c(24)["default"],d=c(52)["default"];k=c(10);var f=c(250),e=c(90),g=c(64),l=c(94),n=c(152),p=c(257);c=c(273);var q=c.DEFAULT_COLLECTION_CONFIGURATIONS,r=c.DEFAULT_COLLECTION_CONFIGURATION,
s=c.DEFAULT_TEMPLATE_PAGE_CONFIGURATION;c=function(){function c(){m(this,c);this.bindListeners({handleLoadTemplate:e.LOAD_TEMPLATE,staticInitialized:l.BOOTSTRAP});this.exportPublicMethods({isTemplateOwner:this.isTemplateOwner,getCollectionConfig:this.getCollectionConfig,getCustomType:this.getCustomType,getPageConfig:this.getPageConfig})}a(c,[{key:"getCollectionConfig",value:function(a){return this.getState().collectionConfigs[a]}},{key:"getCustomType",value:function(a){return this.getState().customTypes[a]}},
{key:"getPageConfig",value:function(a){return this.getState().pageConfigs[a]}},{key:"isTemplateOwner",value:function(){var a=this.getState();return a.ownerWebsiteId===a.websiteId}},{key:"staticInitialized",value:function(a){this.setTemplateData(a.template);this.demoCollections=this.processDemoCollections(a.demoCollections);this.websiteId=a.website.id}},{key:"handleLoadTemplate",value:function(a){this.waitFor(g.dispatchToken);a.error?this.error=a.response:(this.error=null,this.setTemplateData(a.template),
this.demoCollections=this.processDemoCollections(a.demoCollections))}},{key:"setTemplateData",value:function(a){a&&(this.id=a.id,this.name=a.name,this.updatedOn=a.updatedOn,this.ownerWebsiteId=a.ownerWebsiteId,this.collectionConfigs=this.processCollectionConfigs(a.collectionConfigs),this.pageConfigs=this.processPageConfigs(a.pageConfigs),this.customTypes=this.processCustomTypes(a.customTypes),this.layouts=this.processLayouts(a.layouts),this.navigations=a.navigations)}},{key:"processCollectionConfigs",
value:function(a){a.products&&(a.products=b({},q.products,a.products),a.products.ordering=f.USER);a=b({},q,a);a=p(a,function(a){a=b({},r,a);!0===a.index?a.folderBehavior=n.INDEX:!0===a.folder&&(a.folderBehavior=n.NONE);return a});var g=a.folders||a.folder;g&&(g.acceptTypes=this.calculateFolderAcceptTypes(a));return a}},{key:"calculateFolderAcceptTypes",value:function(a){var b=["subscription","gallery-block","template-page"];return d(a).filter(function(g){return a[g].folder?!1:-1===b.indexOf(g)}).concat(["link"])}},
{key:"processPageConfigs",value:function(a){return p(a,function(a){return b({},s,a)})}},{key:"processCustomTypes",value:function(a){return(void 0===a?[]:a).reduce(function(a,b){a[b.name]=b;return a},{})}},{key:"processDemoCollections",value:function(a){return a||[]}},{key:"processLayouts",value:function(a){return a||{}}}]);return c}();h.exports=k.createStore(c,"TemplateStore")},52:function(h,k,c){h.exports={"default":c(146),__esModule:!0}},64:function(h,k,c){var a=c(7)["default"],m=c(6)["default"];
k=c(10);var b=c(90),d=c(92),f=c(94);c=function(){function e(){m(this,e);this.templateInstallations={};this.bindListeners({handleLoadSuccess:d.LOAD_SUCCESS,handleLoadFailure:d.LOAD_FAILURE,handleStaticInitialized:f.BOOTSTRAP,handlePreviewSet:d.SET_PREVIEW_INSTALLATION,handleTemplateSet:d.SET_LIVE_INSTALLATION,handleHomepageCollectionIdSet:d.SET_HOMEPAGE_COLLECTION_ID,handleLoadTemplate:b.LOAD_TEMPLATE});this.exportPublicMethods({getHomepageCollectionId:this.getHomepageCollectionId})}a(e,[{key:"getHomepageCollectionId",
value:function(){return this.getState().activeInstallation?this.getState().activeInstallation.homepageCollectionId:this.getState().homepageCollectionId}},{key:"handleStaticInitialized",value:function(a){var b=a.authenticatedAccountWebsiteSettings;this.previewInstallationId=b?b.previewInstallationId:null;this.homepageCollectionId=a.homepageCollectionId;a.templateInstallation?(this.liveInstallationId=a.templateInstallation.id,this.templateInstallations[this.liveInstallationId]=a.templateInstallation):
this.liveInstallationId=null;this.siteLayout=a.siteLayout;this.updateInstallationReferences()}},{key:"updateInstallationReferences",value:function(){this.liveInstallation=this.getTemplateInstallation(this.liveInstallationId);this.previewInstallation=null;this.previewInstallationId!==this.liveInstallationId&&(this.previewInstallation=this.getTemplateInstallation(this.previewInstallationId));this.activeInstallation=this.liveInstallation||this.previewInstallation}},{key:"getTemplateInstallation",value:function(a){return!a||
!this.templateInstallations[a]?null:this.templateInstallations[a]}},{key:"handleLoadTemplate",value:function(a){this.siteLayout=a.siteLayout}},{key:"handleHomepageCollectionIdSet",value:function(a){a.error||(this.homepageCollectionId=a.homepageCollectionId,this.activeInstallation&&(this.activeInstallation.homepageCollectionId=a.homepageCollectionId))}},{key:"handlePreviewSet",value:function(a){this.previewInstallationId=a;this.updateInstallationReferences()}},{key:"handleTemplateSet",value:function(a){this.liveInstallationId=
a;this.previewInstallationId=null;this.updateInstallationReferences()}},{key:"handleLoadSuccess",value:function(a){var b={};a.forEach(function(a){this[a.id]=a},b);this.maintainMissingInstallation(b,this.liveInstallationId);this.maintainMissingInstallation(b,this.previewInstallationId);this.templateInstallations=b;this.updateInstallationReferences()}},{key:"maintainMissingInstallation",value:function(a,b){b&&!a[b]&&(a[b]=this.templateInstallations[b])}},{key:"handleLoadFailure",value:function(){console.error("Unable to load installations")}}]);
return e}();h.exports=k.createStore(c,"TemplateInstallationsStore")},90:function(h,k,c){var a=c(7)["default"],m=c(6)["default"];k=c(10);var b=c(252);c=function(){function d(){m(this,d)}a(d,[{key:"loadTemplate",value:function(a){var e=this;b.getTemplate(a).then(function(a){e.dispatch(a.data)},function(a){e.dispatch({error:!0,response:a})})}}]);return d}();h.exports=k.createActions(c)},92:function(h,k,c){var a=c(7)["default"],m=c(6)["default"],b=c(251),d=c(253);k=c(10);var f=c(136),e=c(90);c=function(){function g(){m(this,
g)}a(g,[{key:"loadAll",value:function(){var a=this;this.dispatch();return d.loadTemplateInstallations().then(function(b){a.actions.loadSuccess.defer(b.data)},function(b){a.actions.loadFailure.defer(b.error)})}},{key:"setPreviewInstallation",value:function(a,n,g){var d=this;b.setPreviewInstallation(a,n).then(function(a){e.loadTemplate.defer(g);d.dispatch(n);setTimeout(f.refresh,1E3)},function(a){})}},{key:"setLiveInstallation",value:function(a,b){var g=this;d.setLiveInstallation(a).then(function(d){e.loadTemplate.defer(b);
g.dispatch(a);setTimeout(f.refresh,1E3)},function(a){})}},{key:"setHomepageCollectionId",value:function(a){var b=this;return d.setHomepageCollectionId(a).then(function(f){f={homepageCollectionId:a};b.dispatch(f);return f},function(f){f={homepageCollectionId:a,error:!0};b.dispatch(f);return f})}},{key:"updateInstallation",value:function(a){return d.updateInstallation(a).then(this.actions.loadAll)}},{key:"loadSuccess",value:function(a){this.dispatch(a)}},{key:"loadFailure",value:function(a){this.dispatch(a)}}]);
return g}();h.exports=k.createActions(c)},96:function(h,k,c){YUI.add("model",function(a,c){function b(){b.superclass.constructor.apply(this,arguments)}var d=YUI.namespace("Env.Model"),f=a.Lang,e=a.Array,g=a.Object,l="error";a.Model=a.extend(b,a.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,f){var g=this;"function"===typeof a&&(f=a,a=null);g.onceAfter("destroy",function(){function b(d){d||e.each(g.lists.concat(),
function(b){b.remove(g,a)});f&&f.apply(null,arguments)}a&&(a.remove||a["delete"])?g.sync("delete",a,b):b()});return b.superclass.destroy.call(g)},generateClientId:function(){d.lastId||(d.lastId=0);return this.constructor.NAME+"_"+(d.lastId+=1)},getAsHTML:function(b){b=this.get(b);return a.Escape.html(f.isValue(b)?String(b):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(f.isValue(a)?String(a):"")},isModified:function(){return this.isNew()||!g.isEmpty(this.changed)},isNew:function(){return!f.isValue(this.get("id"))},
load:function(a,b){var f=this;"function"===typeof a&&(b=a,a={});a||(a={});f.sync("read",a,function(g,e){var d={options:a,response:e},c;g?(d.error=g,d.src="load",f.fire(l,d)):(f._loadEvent||(f._loadEvent=f.publish("load",{preventable:!1})),c=d.parsed=f._parse(e),f.setAttrs(c,a),f.changed={},f.fire("load",d));b&&b.apply(null,arguments)});return f},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)}catch(f){return this.fire(l,{error:f,response:b,src:"parse"}),null}return b},save:function(a,
b){var f=this;"function"===typeof a&&(b=a,a={});a||(a={});f._validate(f.toJSON(),function(g){g?b&&b.call(null,g):f.sync(f.isNew()?"create":"update",a,function(g,e){var d={options:a,response:e},c;g?(d.error=g,d.src="save",f.fire(l,d)):(f._saveEvent||(f._saveEvent=f.publish("save",{preventable:!1})),e&&(c=d.parsed=f._parse(e),f.setAttrs(c,a)),f.changed={},f.fire("save",d));b&&b.apply(null,arguments)})});return f},set:function(a,b,f){var g={};g[a]=b;return this.setAttrs(g,f)},setAttrs:function(b,f){var e=
this.idAttribute,d,l,c,m;f=a.merge(f);m=f._transaction={};"id"!==e&&(b=a.merge(b),g.owns(b,e)?b.id=b[e]:g.owns(b,"id")&&(b[e]=b.id));for(l in b)g.owns(b,l)&&this._setAttr(l,b[l],f);if(!g.isEmpty(m)){e=this.changed;c=this.lastChange={};for(l in m)g.owns(m,l)&&(d=m[l],e[l]=d.newVal,c[l]={newVal:d.newVal,prevVal:d.prevVal,src:d.src||null});f.silent||(this._changeEvent||(this._changeEvent=this.publish("change",{preventable:!1})),f.changed=c,this.fire("change",f))}return this},sync:function(){var a=e(arguments,
0,!0).pop();"function"===typeof a&&a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(a,b){var f=this.lastChange,d=this.idAttribute,l={},c;a||(a=g.keys(f));e.each(a,function(a){g.owns(f,a)&&(a=a===d?"id":a,c=!0,l[a]=f[a].prevVal)});return c?this.setAttrs(l,b):this},validate:function(a,b){b&&b()},addAttr:function(a,g,e){var d=this.idAttribute,l;d&&a===d&&(d=this._isLazyAttr("id")||this._getAttrCfg("id"),
l=g.value===g.defaultValue?null:g.value,f.isValue(l)||(l=d.value===d.defaultValue?null:d.value,f.isValue(l)||(l=f.isValue(g.defaultValue)?g.defaultValue:d.defaultValue)),g.value=l,d.value!==l&&(d.value=l,this._isLazyAttr("id")?this._state.add("id","lazy",d):this._state.add("id","value",l)));return b.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},_validate:function(a,b){function g(d){f.isValue(d)?(e.fire(l,{attributes:a,error:d,src:"validate"}),b(d)):b()}var e=this;
1===e.validate.length?g(e.validate(a,g)):e.validate(a,g)},_setAttrVal:function(a,f,g,e,d,l){var c=b.superclass._setAttrVal.apply(this,arguments),m=d&&d._transaction,h=l&&l.initializing;c&&(m&&!h)&&(m[a]={newVal:this.get(a),prevVal:g,src:d.src||null});return c}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build","escape","json-parse"]})},127:function(h,k,c){c(130);h.exports=c(16).core.Object.assign},128:function(h,k,c){var a=
c(16),m=c(129);h.exports=Object.assign||function(b,d){for(var f=Object(a.assertDefined(b)),e=arguments.length,g=1;e>g;)for(var l=a.ES5Object(arguments[g++]),n=m(l),c=n.length,q=0,h;c>q;)f[h=n[q++]]=l[h];return f}},129:function(h,k,c){var a=c(16);h.exports=function(c){var b=a.getKeys(c),d=a.getDesc,f=a.getSymbols;f&&a.each.call(f(c),function(a){d(c,a).enumerable&&b.push(a)});return b}},130:function(h,k,c){h=c(89);h(h.S,"Object",{assign:c(128)})},132:function(h,k,c){var a=c(16),m=c(89),b=a.isObject,
d=a.toObject;a.each.call("freeze seal preventExtensions isFrozen isSealed isExtensible getOwnPropertyDescriptor getPrototypeOf keys getOwnPropertyNames".split(" "),function(f,e){var g=(a.core.Object||{})[f]||Object[f],l=0,n={};n[f]=0==e?function(a){return b(a)?g(a):a}:1==e?function(a){return b(a)?g(a):a}:2==e?function(a){return b(a)?g(a):a}:3==e?function(a){return b(a)?g(a):!0}:4==e?function(a){return b(a)?g(a):!0}:5==e?function(a){return b(a)?g(a):!1}:6==e?function(a,b){return g(d(a),b)}:7==e?function(b){return g(Object(a.assertDefined(b)))}:
8==e?function(a){return g(d(a))}:c(147).get;try{g("z")}catch(p){l=1}m(m.S+m.F*l,"Object",n)})},134:function(h,k,c){YUI.add("squarespace-model-sync-rest",function(a){function c(){this._ioConfigCache={}}c.prototype={sync:function(b,d,f){a.Lang.isValue(d.timeout)||(d.timeout=1E7);a.ModelSync.REST.prototype.sync.apply(this,arguments)},_storeRequest:function(b,d){this._ioConfigCache[b.id]=a.merge(d,{})},_retrieveAndEvict:function(a){var d=this._ioConfigCache[a];this._ioConfigCache[a]=null;return d},_isCrumbFailure:function(a){return a&&
a.crumbFail&&a.crumb},_sendSyncIORequest:function(b){var d=a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,arguments);this._storeRequest(d,b);return d},_onSyncIOEnd:function(b,d){this._retrieveAndEvict(b);a.ModelSync.REST.prototype._onSyncIOEnd.apply(this,arguments)},_onSyncIOSuccess:function(b,d,f){var e=this._retrieveAndEvict(b),g={},l=d.responseText;a.Lang.isValue(l)&&l.trim()&&(g=a.JSON.parse(l));this._isCrumbFailure(g)?(g=g.crumb,a.ModelSync.REST.CSRF_TOKEN=g,a.Env.CSRF_TOKEN=g,e.headers["X-CSRF-Token"]=
g,this._sendSyncIORequest(e)):a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this,arguments)},_onSyncIOFailure:function(b,d,f){if(b=f.callback){f={};var e=d.responseText;a.Lang.isValue(e)&&e.trim()&&(f=a.JSON.parse(e));b({code:d.status,msg:d.statusText,responseJSON:f},d)}}};a.mix(c,a.ModelSync.REST,!1,null,1);a.namespace("Squarespace.ModelSync").REST=c},"1.0",{requires:["model-sync-rest"]})},135:function(h,k,c){YUI.add("model-sync-rest",function(a,c){function b(){}var d=a.Lang;b.CSRF_TOKEN=YUI.Env.CSRF_TOKEN;
b.EMULATE_HTTP=!1;b.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"};b.HTTP_METHODS={create:"POST",read:"GET",update:"PUT","delete":"DELETE"};b.HTTP_TIMEOUT=3E4;b._NON_ATTRS_CFG=["root","url"];b.prototype={root:"",url:"",initializer:function(a){a||(a={});"root"in a&&(this.root=a.root||"");"url"in a&&(this.url=a.url||"")},getURL:function(b,e){var g=this.root,d=this.url;return this._isYUIModelList?!d?this.model.prototype.root:this._substituteURL(d,a.merge(this.getAttrs(),e)):
g&&("create"===b||this.isNew())?g:!d?this._joinURL(this.getAsURL("id")||""):this._substituteURL(d,a.merge(this.getAttrs(),e))},parseIOResponse:function(a){return a.responseText},serialize:function(b){return a.JSON.stringify(this)},sync:function(f,e,g){e||(e={});var d=this.getURL(f,e),c=b.HTTP_METHODS[f],p=a.merge(b.HTTP_HEADERS,e.headers),m=e.timeout||b.HTTP_TIMEOUT;e=e.csrfToken||b.CSRF_TOKEN;var h;"POST"===c||"PUT"===c?h=this.serialize(f):delete p["Content-Type"];if(b.EMULATE_HTTP&&("PUT"===c||
"DELETE"===c))p["X-HTTP-Method-Override"]=c,c="POST";if(e&&("POST"===c||"PUT"===c||"DELETE"===c))p["X-CSRF-Token"]=e;this._sendSyncIORequest({action:f,callback:g,entity:h,headers:p,method:c,timeout:m,url:d})},_joinURL:function(a){var b=this.root;if(!b&&!a)return"";"/"===a.charAt(0)&&(a=a.substring(1));return b&&"/"===b.charAt(b.length-1)?b+a+"/":b+"/"+a},_parse:function(a){"function"===typeof this.parseIOResponse&&(a=this.parseIOResponse(a));return this.parse(a)},_sendSyncIORequest:function(b){return a.io(b.url,
{arguments:{action:b.action,callback:b.callback,url:b.url},context:this,data:b.entity,headers:b.headers,method:b.method,timeout:b.timeout,on:{start:this._onSyncIOStart,failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(b,e){if(!b)return"";var g={};a.Object.each(e,function(a,b){if(d.isString(a)||d.isNumber(a))g[b]=encodeURIComponent(a)});return d.sub(b,g)},_onSyncIOEnd:function(a,b){},_onSyncIOFailure:function(a,b,g){(a=g.callback)&&a({code:b.status,
msg:b.statusText},b)},_onSyncIOSuccess:function(a,b,g){(a=g.callback)&&a(null,b)},_onSyncIOStart:function(a,b){}};a.namespace("ModelSync").REST=b},"3.17.2",{requires:["model","io-base","json-stringify"]})},136:function(h,k,c){var a=c(7)["default"],m=c(6)["default"];k=c(10);c=function(){function b(){m(this,b);this.generateActions("refresh","setUrl","removeLoadHandler")}a(b,[{key:"addLoadHandler",value:function(a,b){this.dispatch({key:a,callback:b})}}]);return b}();h.exports=k.createActions(c)},146:function(h,
k,c){c(132);h.exports=c(16).core.Object.keys},147:function(h,k,c){var a=c(16),m={}.toString,b=a.getNames,d="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.get=function(f){if(d&&"[object Window]"==m.call(f)){var e;try{e=b(f)}catch(g){e=d.slice()}return e}return b(a.toObject(f))}},150:function(h,k,c){YUI.add("model-list",function(a,c){function b(){b.superclass.constructor.apply(this,arguments)}var d=a.Attribute.prototype,f=a.Lang,e=a.Array;a.ModelList=
a.extend(b,a.Base,{model:a.Model,_isYUIModelList:!0,initializer:function(b){b||(b={});var f=this.model=b.model||this.model;"string"===typeof f&&((this.model=a.Object.getValue(a,f.split(".")))||a.error("ModelList: Model class not found: "+f));this.publish("add",{defaultFn:this._defAddFn});this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();b.items&&this.add(b.items,{silent:!0})},destructor:function(){this._clear()},
add:function(b,d){var c=b._isYUIModelList;return c||f.isArray(b)?e.map(c?b.toArray():b,function(b,f){var g=d||{};"index"in g&&(g=a.merge(g,{index:g.index+f}));return this._add(b,g)},this):this._add(b,d)},create:function(b,f,d){var e=this;"function"===typeof f&&(d=f,f={});f||(f={});b._isYUIModel||(b=new this.model(b));e.fire("create",a.merge(f,{model:b}));return b.save(f,function(a){a||e.add(b,f);d&&d.apply(null,arguments)})},each:function(a,b){var f=this._items.concat(),d,e,c;d=0;for(c=f.length;d<
c;d++)e=f[d],a.call(b||e,e,d,this);return this},filter:function(a,b){var f=[],d=this._items,e,c,m;"function"===typeof a&&(b=a,a={});e=0;for(m=d.length;e<m;++e)c=d[e],b.call(this,c,e,this)&&f.push(c);return a.asList?(d=new this.constructor({model:this.model}),f.length&&d.add(f,{silent:!0}),d):f},get:function(a){return this.attrAdded(a)?d.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(b){return this.attrAdded(b)?a.Escape.html(d.get.apply(this,arguments)):this.invoke("getAsHTML",
b)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(d.get.apply(this,arguments)):this.invoke("getAsURL",a)},getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var b=[this._items,a].concat(e(arguments,1,!0));return e.invoke.apply(e,b)},load:function(a,b){var f=this;"function"===typeof a&&(b=a,a={});a||(a={});this.sync("read",a,function(d,e){var c={options:a,response:e},m;d?(c.error=d,c.src="load",f.fire("error",
c)):(f._loadEvent||(f._loadEvent=f.publish("load",{preventable:!1})),m=c.parsed=f._parse(e),f.reset(m,a),f.fire("load",c));b&&b.apply(null,arguments)});return this},map:function(a,b){return e.map(this._items,a,b)},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)||[]}catch(f){return this.fire("error",{error:f,response:b,src:"parse"}),null}return b||[]},remove:function(a,b){var d=a._isYUIModelList;return d||f.isArray(a)?(a=e.map(d?a.toArray():a,function(a){return f.isNumber(a)?this.item(a):
a},this),e.map(a,function(a){return this._remove(a,b)},this)):this._remove(a,b)},reset:function(b,f){b||(b=[]);f||(f={});var d=a.merge({src:"reset"},f);b=b._isYUIModelList?b.toArray():e.map(b,function(a){return a._isYUIModel?a:new this.model(a)},this);d.models=b;f.silent?this._defResetFn(d):(this.comparator&&b.sort(a.bind(this._sort,this)),this.fire("reset",d));return this},some:function(a,b){var f=this._items.concat(),d,e,c;d=0;for(c=f.length;d<c;d++)if(e=f[d],a.call(b||e,e,d,this))return!0;return!1},
sort:function(b){if(!this.comparator)return this;var f=this._items.concat();b||(b={});f.sort(a.rbind(this._sort,this,b));f=a.merge(b,{models:f,src:"sort"});b.silent?this._defResetFn(f):this.fire("reset",f);return this},sync:function(){var a=e(arguments,0,!0).pop();"function"===typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(b,d){var e;d||(d={});b._isYUIModel||(b=new this.model(b));e=b.get("id");if(this._clientIdMap[b.get("clientId")]||
f.isValue(e)&&this._idMap[e])this.fire("error",{error:"Model is already in the list.",model:b,src:"add"});else return e=a.merge(d,{index:"index"in d?d.index:this._findIndex(b),model:b}),d.silent?this._defAddFn(e):this.fire("add",e),b},_attachList:function(a){a.lists.push(this);a.addTarget(this)},_clear:function(){e.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,b){return a<b?-1:a>b?1:0},_detachList:function(a){var b=e.indexOf(a.lists,
this);-1<b&&(a.lists.splice(b,1),a.removeTarget(this))},_findIndex:function(a){var b=this._items,f=b.length,d=0,e,c;if(!this.comparator||!f)return f;for(c=this.comparator(a);d<f;)e=d+f>>1,a=b[e],0>this._compare(this.comparator(a),c)?d=e+1:f=e;return d},_parse:function(a){return this.parse(a)},_remove:function(b,d){var e;d||(d={});f.isNumber(b)?(e=b,b=this.item(e)):e=this.indexOf(b);if(-1===e||!b)this.fire("error",{error:"Model is not in the list.",index:e,model:b,src:"remove"});else return e=a.merge(d,
{index:e,model:b}),d.silent?this._defRemoveFn(e):this.fire("remove",e),b},_sort:function(a,b,f){a=this._compare(this.comparator(a),this.comparator(b));return 0===a?a:f&&f.descending?-a:a},_afterIdChange:function(a){var b=a.newVal,d=a.prevVal;a=a.target;if(f.isValue(d))if(this._idMap[d]===a)delete this._idMap[d];else return;else if(-1===this.indexOf(a))return;f.isValue(b)&&(this._idMap[b]=a)},_defAddFn:function(a){var b=a.model,d=b.get("id");this._clientIdMap[b.get("clientId")]=b;f.isValue(d)&&(this._idMap[d]=
b);this._attachList(b);this._items.splice(a.index,0,b)},_defRemoveFn:function(a){var b=a.model,d=b.get("id");this._detachList(b);delete this._clientIdMap[b.get("clientId")];f.isValue(d)&&delete this._idMap[d];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});a.augment(b,a.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},
241:function(h,k,c){YUI.add("datatype-date-format",function(a,c){var b=function(a,b,d){"undefined"===typeof d&&(d=10);for(b+="";parseInt(a,10)<d&&1<d;d/=10)a=b+a;return a.toString()},d={formats:{a:function(a,b){return b.a[a.getDay()]},A:function(a,b){return b.A[a.getDay()]},b:function(a,b){return b.b[a.getMonth()]},B:function(a,b){return b.B[a.getMonth()]},C:function(a){return b(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return b(parseInt(d.formats.G(a)%
100,10),0)},G:function(a){var b=a.getFullYear(),c=parseInt(d.formats.V(a),10);a=parseInt(d.formats.W(a),10);a>c?b++:0===a&&52<=c&&b--;return b},H:["getHours","0"],I:function(a){a=a.getHours()%12;return b(0===a?12:a,0)},j:function(a){var d=new Date(""+a.getFullYear()+"/1/1 GMT");a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-d;a=parseInt(a/6E4/60/24,10)+1;return b(a,0,100)},k:["getHours"," "],l:function(a){a=a.getHours()%12;return b(0===a?12:a," ")},m:function(a){return b(a.getMonth()+
1,0)},M:["getMinutes","0"],p:function(a,b){return b.p[12<=a.getHours()?1:0]},P:function(a,b){return b.P[12<=a.getHours()?1:0]},s:function(a,b){return parseInt(a.getTime()/1E3,10)},S:["getSeconds","0"],u:function(a){a=a.getDay();return 0===a?7:a},U:function(a){var e=parseInt(d.formats.j(a),10);a=6-a.getDay();e=parseInt((e+a)/7,10);return b(e,0)},V:function(a){var e=parseInt(d.formats.W(a),10),c=(new Date(""+a.getFullYear()+"/1/1")).getDay(),e=e+(4<c||1>=c?0:1);53===e&&4>(new Date(""+a.getFullYear()+
"/12/31")).getDay()?e=1:0===e&&(e=d.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return b(e,0)},w:"getDay",W:function(a){var e=parseInt(d.formats.j(a),10);a=7-d.formats.u(a);e=parseInt((e+a)/7,10);return b(e,0,10)},y:function(a){return b(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var d=b(parseInt(Math.abs(a/60),10),0),c=b(Math.abs(a%60),0);return(0<a?"-":"+")+d+c},Z:function(a){var b=a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,
"");4<b.length&&(b=d.formats.z(a));return b},"%":function(a){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(f,e){e=e||{};if(!a.Lang.isDate(f))return a.Lang.isValue(f)?f:"";var c,l;c=e.format||"%Y-%m-%d";l=a.Intl.get("datatype-date-format");for(var m=function(a,b){var e=d.aggregates[b];return"locale"===e?l[b]:e},h=function(e,c){var g=d.formats[c];switch(a.Lang.type(g)){case "string":return f[g]();
case "function":return g.call(f,f,l);case "array":if("string"===a.Lang.type(g[0]))return b(f[g[0]](),g[1]);default:return c}};c.match(/%[cDFhnrRtTxX]/);)c=c.replace(/%([cDFhnrRtTxX])/g,m);c=c.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,h);m=h=void 0;return c}};a.mix(a.namespace("Date"),d);a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
251:function(h,k,c){var a=c(32);h.exports={setPreviewInstallation:function(c,b){return a.put("/api/member-website-settings/"+c,{id:c,previewInstallationId:b})}}},252:function(h,k,c){var a=c(32);h.exports={getTemplate:function(c){return a.get("/api/templates/"+c)}}},253:function(h,k,c){var a=c(32),m=c(297);h.exports={loadTemplateInstallations:function(){return a.get("/api/template-installations")},setLiveInstallation:function(b){return a.post("/api/template/SetTemplate",m.stringify({installationId:b}))},
updateInstallation:function(b){return a.put("/api/template-installations/"+b.id,b)},setHomepageCollectionId:function(b){return a.post("/api/template/SetHomepageCollection",m.stringify({collectionId:b}))}}},267:function(h,k,c){YUI.add("datatype-date-math",function(a,c){var b=a.Lang;a.mix(a.namespace("Date"),{isValidDate:function(a){return b.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()==b.getTime()},
isGreater:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>b.getTime()},isGreaterOrEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>=b.getTime()},isInRange:function(a,b,e){return this.isGreaterOrEqual(a,b)&&this.isGreaterOrEqual(e,a)},addDays:function(a,b){return new Date(a.getTime()+864E5*b)},addMonths:function(a,b){var e=a.getFullYear(),c=a.getMonth()+b,e=Math.floor(e+c/12),c=(c%12+12)%12,l=new Date(a.getTime());l.setFullYear(e);l.setMonth(c);
return l},addYears:function(a,b){var e=a.getFullYear()+b,c=new Date(a.getTime());c.setFullYear(e);return c},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var b=this.daysInMonth(a),e=a.getFullYear();a=a.getMonth();for(var c=[],l=1;l<=b;l++)c.push(new Date(e,a,l,12,0,0));return c},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var b=a.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=b)return e[b];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});
a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{requires:["yui-base"]})},268:function(h,k,c){YUI.add("datatype-date-parse",function(a,c){a.mix(a.namespace("Date"),{parse:function(b){b=new Date(+b||b);return a.Lang.isDate(b)?b:null}});a.namespace("Parsers").date=a.Date.parse;a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2")},273:function(h,k,c){k=c(250);var a=c(20);c=c(274);h.exports={DEFAULT_COLLECTION_CONFIGURATIONS:{page:{collectionType:a.COLLECTION_TYPE_PAGE,typeName:"page",title:"Page",
ordering:k.CUSTOM,icon:"page",addText:"Add Block"},"gallery-block":{collectionType:a.GALLERY_BLOCK,typeName:"gallery-block",title:"Gallery Block",ordering:k.USER,acceptTypes:["image","video"]},products:{collectionType:a.PRODUCTS,typeName:"products",title:"Products",pageSize:20,ordering:k.USER,acceptTypes:["store_item"],view:c.PRODUCT_TABLE,icon:"products",addText:"Add Product"},"template-page":{collectionType:a.TEMPLATE_PAGE,title:"Template Page",icon:"projects"},"splash-page":{collectionType:a.SPLASH_PAGE,
typeName:"splash-page",title:"Cover Page",ordering:k.CUSTOM,icon:"splash-page"},subscription:{collectionType:a.COLLECTION_TYPE_SUBSCRIPTION,typeName:"subscription",title:"Subscription",ordering:k.CHRONOLOGICAL}},DEFAULT_COLLECTION_CONFIGURATION:{collectionType:a.COLLECTION_TYPE_GENERIC,supported:!0},DEFAULT_TEMPLATE_PAGE_CONFIGURATION:{icon:"template-page",collectionType:a.TEMPLATE_PAGE,supported:!0,folder:!1}}},274:function(h,k,c){h.exports={LIST:"list",GRID:"grid",PRODUCT:"product"}},331:function(h,
k,c){YUI.add("squarespace-mixins-event-list",function(a){a.namespace("Squarespace.Mixins");a.Squarespace.Mixins.EventList=a.Base.create("EventList",a.Base,[],{initializer:function(){a.Do.before(function(c){var b=a.Object.hasKey(c,"upcoming"),d=a.Object.hasKey(c,"past");if(b&&d)return new a.Do.AlterArgs("Parsing calendar-specific response",[[].concat(c.upcoming).concat(c.past)])},this,"parse",this)},getPastEvents:function(){var c=new Date;return this.filter(function(b){b=b.get("structuredContent");
if(null===b)return!1;b=a.DataType.Date.parse(b.get("endDate"));return a.DataType.Date.isGreater(c,b)})},getUpcomingEvents:function(){var c=new Date;return this.filter(function(b){b=b.get("structuredContent");if(null===b)return!1;b=a.DataType.Date.parse(b.get("endDate"));return!a.DataType.Date.isGreater(c,b)})}})},"1.0",{requires:["base","datatype-date","event-custom","json"]})},332:function(h,k,c){YUI.add("squarespace-models-audio",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Audio=
a.Base.create("Audio",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Audio",validator:function(a){return"Audio"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},audioAssetUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},artistName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},lengthInMilliSeconds:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},bitRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},
sampleRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},333:function(h,k,c){YUI.add("squarespace-models-calendar-event",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CalendarEvent=a.Base.create("CalendarEvent",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CalendarEvent",validator:function(a){return"CalendarEvent"===a},readOnly:!0},startDate:{valueFn:function(){var a=
new Date,b=a.getMinutes();a.setSeconds(0);a.setMilliseconds(0);30<=b?(a.addHours(1),a.setMinutes(0)):a.setMinutes(30);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber},endDate:{valueFn:function(){var a=new Date(this.get("startDate"));a.addHours(1);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},334:function(h,k,c){YUI.add("squarespace-models-check-in",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.CheckIn=a.Base.create("CheckIn",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CheckIn",validator:function(a){return"CheckIn"===a},readOnly:!0},checkinId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},address:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},crossStreet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},city:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},state:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},country:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},postalCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
categoryPluralName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryShortName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryIcon:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},335:function(h,k,c){var a=c(20),m=c(152);YUI.add("squarespace-models-collection-configuration",function(b){b.namespace("Squarespace.Models");b.Squarespace.Models.CollectionConfiguration=
b.Base.create("CollectionConfiguration",b.Model,[],{initializer:function(a){b.Lang.isBoolean(a.index)&&a.index?this.set("folderBehavior",m.INDEX):b.Lang.isBoolean(a.folder)&&a.folder&&this.set("folderBehavior",m.NONE)}},{ATTRS:{collectionType:{value:a.COLLECTION_TYPE_GENERIC},folder:{value:!1},folderBehavior:{},supported:{value:!0}}})},"1.0",{requires:["base","model"]})},336:function(h,k,c){c(10);var a=c(64),m=c(92),b=c(42),d=c(20),f=c(53);YUI.add("squarespace-models-content-collection",function(e){e.namespace("Squarespace.Models");
var c=e.Squarespace.Models.ContentCollection=e.Base.create("Collection",e.Model,[],{initializer:function(a){this.publish("delete");this.items=a?new e.Squarespace.Models.ContentItemList({items:a.items||[],parent:this,limit:this.get("itemLimit")}):new e.Squarespace.Models.ContentItemList({parent:this,limit:this.get("itemLimit")});this._itemsEventHandle=this.items.after(["load","add","remove"],this._updateItemCount,this);this._syncFolderChange(this.get("folder"));this.after("folderChange",function(a){this._syncFolderChange(a.newVal)})},
destructor:function(){this._itemsEventHandle.detach();this._itemsEventHandle=null;this.items.destroy();this.items=null},toDebugString:function(){return e.JSON.stringify(this.getAttrs(["navigationTitle","urlId","configureUrlId","id"]))},toJSON:function(){var a=this.constructor.superclass.toJSON.call(this);a.items=this.items.toJSON();return a},parse:function(a){a=c.superclass.parse.apply(this,arguments);a.passwordProtected&&(a.password=f.PASSWORD_MASK);return a},sync:function(a,b,d){switch(a){case "create":this._ensureDemoCloneAndSave(d);
break;case "delete":this.fire("delete");this._delete(d);break;case "read":this._read(b,d);break;case "update":this._ensureDemoCloneAndSave(d)}},load:function(a,b,d){"function"===typeof a&&(d=b,b=a,a={});if(this._readInProgress)this.onceAfter("load",b,d);else e.Model.prototype.load.call(this,a,b?e.bind(b,d||this):null)},resetToLastRead:function(){this.setAttrs(this._lastReadData)},ensureProcessedItems:function(){var a=function(b){this.items.load({fields:["mediaProcessingState"]},function(){this.items.some(function(a){return a.get("mediaProcessingState")!==
e.Squarespace.MediaProcessingState.READY})?e.later(500,this,a,b):b()}.bind(this))}.bind(this);return new e.Promise(function(b){a(b)}.bind(this))},_syncFolderChange:function(a){a&&this.set("dropdown",!0)},_ensureDemoCloneAndSave:function(a){if(this._shouldCloneCollection()){var b=this.toJSON();delete b.id;this.cloneToNewCollection({silent:!0}).then(e.bind(this._save,this,a,b))}else this._save(a)},_save:function(a,b){b=e.merge(b,this.toJSON());b.collectionId=b.id;delete b.tags;delete b.categories;delete b.mainImage;
delete b.iTunesImage;delete b.items;b.metadata&&b.metadata.albumCover&&delete b.metadata.albumCover;var d=e.bind(function(b){e.Data.post({url:"/api/commondata/SaveCollection",data:b,success:function(b){this._lastReadData=e.clone(b);a(null,b)},failure:function(b){a(b,null)}},this)},this);e.Lang.isValue(b.id)&&e.Lang.isNull(b.urlId)?e.Data.post({url:"/api/content-collections/"+b.id+"/generate-url",json:!0,data:{title:b.title,urlId:e.Squarespace.Utils.slugify(3>b.title.length?b.typeName+"-"+b.title:
b.title),configureUrlId:e.Squarespace.Utils.slugify(this.get("configureUrlId"))},success:function(a){b.urlId=a.urlId;b.configureUrlId=a.configureUrlId;d(b)}}):d(b)},_delete:function(a){e.Data.post({url:"/api/commondata/RemoveCollection",data:{collectionId:this.get("id")},success:function(b){a(null,b)},failure:function(b){a(b,null)}})},_read:function(a,b){this._readInProgress=!0;e.Data.get({url:"/api/commondata/GetCollection",data:{collectionId:this.get("id")},success:function(a){e.Squarespace.ContentCollectionUtils.usesDisplayIndex(a.ordering)?
this._fetchItemCount(a.id).then(function(d){this._readInProgress=!1;a.itemCount=d;this._lastReadData=e.clone(a);b(null,a)}.bind(this)):(this._readInProgress=!1,this._lastReadData=e.clone(a),b(null,a))},failure:function(a){this._readInProgress=!1;b(a,null)}},this)},_updateItemCount:function(){e.Squarespace.ContentCollectionUtils.usesDisplayIndex(this.get("ordering"))&&(this.isNew()?this.set("itemCount",0):this._fetchItemCount(this.get("id")).then(function(a){this.set("itemCount",a)}.bind(this)))},
_fetchItemCount:function(a){return new e.Promise(function(b,d){e.Data.get({url:"/api/content-collections/"+a+"/item-count",success:function(a){b(a)},failure:d},this)})},getTemplateConfiguration:function(){var a;a=this.get("typeName");var c=this.get("type");return(a=c===d.TEMPLATE_PAGE?b.getPageConfig(a):b.getCollectionConfig(a))?new e.Squarespace.Models.CollectionConfiguration(a):new e.Squarespace.Models.CollectionConfiguration({collectionType:c||d.COLLECTION_TYPE_GENERIC,ordering:this.get("ordering"),
folder:this.get("folder"),supported:!1})},cloneToNewCollection:function(a){return new e.Promise(e.bind(function(b,d){var c=e.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(this.get("id"));this._cloneExampleContent(a).then(e.bind(function(a){c.set("collectionId",a);c.save(b)},this))},this))},_cloneExampleContent:function(b){b=b||{};var d=new e.Promise(e.bind(function(d,c){var f=this.get("id");e.Data.post({url:"/api/commondata/CopyCollection",data:{collectionId:this.get("id"),processPointedCollectionItems:!!b.processPointedCollectionItems},
success:function(b){this.setAttrs(e.merge({mainImageId:null,mainImage:null},b));var g=b.id;a.getHomepageCollectionId()===f?m.setHomepageCollectionId(g).then(function(a){a.error?c():d(g)}):d(g)}},this)},this));d.then(e.bind(function(){this.fire("clonedExampleContent",{silent:!!b.silent})},this));return d},_shouldCloneCollection:function(){return this.get("isDemoCollection")&&this.get("type")===d.COLLECTION_TYPE_PAGE},deleteTrashItems:function(a){e.Data.del({url:"/api/recycle-bin/collection/"+this.get("id")+
"/items",success:function(b){a(b,null)},failure:function(b){a(null,b)}})},getId:function(){return this.get("id")},_set:function(a,b,d){return this.constructor.superclass._set.call(this,a,b,d)}},{ATTRS:{title:{validator:e.Lang.isString},navigationTitle:{validator:e.Lang.isString},websiteId:{},id:{value:null},enabled:{value:!0,validator:e.Lang.isBoolean},deleted:{value:!1,validator:e.Lang.isBoolean},homepage:{validator:e.Lang.isBoolean},starred:{validator:e.Lang.isBoolean},synchronizing:{validator:e.Lang.isBoolean},
updatedOn:{},folder:{value:!1},isDemoCollection:{getter:function(){return e.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))}},itemCountExceeded:{getter:function(){return this.get("type")==d.PRODUCTS&&this.get("itemCount")>=this.get("maxItemCount")?!0:!1}},itemCount:{validator:e.Lang.isNumber},isEmpty:{getter:function(){return 0===this.items.size()}},maxItemCount:{getter:function(){return this.get("type")==d.PRODUCTS?200:9999}},tags:{value:[],validator:e.Lang.isArray},categories:{value:[],
validator:e.Lang.isArray},pageSize:{validator:e.Lang.isNumber,valueFn:function(){if(this.getTemplateConfiguration().get("ordering")===e.Squarespace.CollectionOrdering.CHRONOLOGICAL)return 20}},itemLimit:{value:20,validator:e.Squarespace.AttrValidators.isNumber},ordering:{validator:function(a){return e.Object.values(e.Squarespace.CollectionOrdering).contains(a)}},type:{validator:function(a){return e.Object.values(d).contains(a)}},typeName:{validator:e.Lang.isString},fullUrl:{validator:e.Lang.isString},
urlId:{validator:e.Squarespace.AttrValidators.isNullOrString},configureUrlId:{getter:function(a){a="";e.Lang.isValue(this.get("id"))&&(a=this.get("id")+"-configure");return a}},nextDisplayIndex:{getter:function(){return this.get("itemCount")}},regionName:{value:"default",validator:function(a){return!e.Lang.isString(a)||0===a.length?!1:e.Object.keys(b.getState().layouts).contains(a)}},postByEmailAddress:{getter:function(a){return a?a+"@"+Static.SQUARESPACE_CONTEXT.prodDomain:""}}}});e.Squarespace.Models.ContentCollectionList=
e.Base.create("Collections",e.ModelList,[],{model:e.Squarespace.Models.ContentCollection,sync:function(a,b,d){"read"==a&&e.Data.get({url:"/api/commondata/GetCollections",success:function(a){d(null,e.Object.values(a.collections))},failure:function(a){d(a,null)}},this)},getCollectionById:function(a,b,d){var c=this.getById(a);c?b.call(d,c):(c=new e.Squarespace.Models.ContentCollection({id:a}),c.load({},function(){this.add(c);b.call(d,c)},this))},getCollectionFromData:function(a,b){if(!a)return null;
if(!a.id)throw"getCollectionFromData needs at least an ID in the data to work.";var d=this.getById(a.id);d?b||d.setAttrs(a):d=this.add(new e.Squarespace.Models.ContentCollection(a));return d}});e.Squarespace.Utils.isInDamaskFrame()?e.Squarespace.ContentCollectionCache=e.config.win.top.Y.Squarespace.ContentCollectionCache:e.Squarespace.ContentCollectionCache=new e.Squarespace.Models.ContentCollectionList},"2.0",{requires:"base model model-list promise squarespace-models-collection-configuration squarespace-models-content-item squarespace-models-content-item-list squarespace-util".split(" ")})},
337:function(h,k,c){YUI.add("squarespace-models-content-item-list",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItemList=a.Base.create("ContentItemList",a.ModelList,[a.Squarespace.Mixins.EventList],{initializer:function(b){this.model=a.Squarespace.Models.ContentItem;b=b||{};(b=b.items)&&this.reset(b)},sync:function(a,d,c){switch(a){case "create":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "delete":console.error("Squarespace.Models.ContentItemList: Create not implemented.");
break;case "read":this._read(d,c);break;case "update":console.error("Squarespace.Models.ContentItemList: Create not implemented.")}},load:function(a,d){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported";c.superclass.load.call(this,a,d)},removeItems:function(b,d){this.remove(b,{source:"bulk-remove"});var c=a.Array.map(b,function(a){var b=a.get("id");a.destroy();return b},this);a.Data.post({url:"/api/commondata/RemoveItems",
data:{items:c},success:function(c){this.get("parent").load();a.Lang.isFunction(d)&&d(null,c);this.fire("bulk-remove",b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}},this)},moveItems:function(b,d,c){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Moving child items is not currently supported.";var e=a.Array.map(b,function(a){return this.remove(this.getById(a.get("id")))},this),g=d.get("id"),m=d.items;m.load(a.bind(function(){m.add(e)},this));var h=a.Array.map(e,function(a){a.set("collectionId",
g);a.get("items").each(function(a){a.set("collectionId",g)});return a.get("id")},this);a.Data.post({url:"/api/commondata/MoveItems",data:{toCollectionId:g,items:h},success:function(e){this.get("parent").load();a.Lang.isFunction(c)&&c(null,e);this.fire("move-items",b,d)},failure:function(b){a.Lang.isFunction(c)&&c(b,null)}},this)},reorderItems:function(b,d,c){var e=this.get("parent"),g={};this.get("isChildItemList")?(g.collectionId=e.get("collectionId"),g.parentId=e.get("id")):g.collectionId=e.get("id");
var m=1===b.length,h;m?(b=b[0],h=this.indexOf(this.getById(b.get("id"))),this._reorder([b],d),0!==d&&(g.afterId=this.item(d-1).get("id")),g.itemId=b.get("id")):(this._reorder(b,d),0!==d&&(g.afterId=this.item(d-1).get("id")),b=a.Array.map(b,function(a){return a.get("id")},this),g.itemIds=a.JSON.stringify(b));var k=a.bind(function(b){a.Data.post({url:"/api/commondata/ReorderItems",data:b,success:function(b){m&&(0===h||0===d)&&e.load();a.Lang.isUndefined(b.items)||a.Array.each(b.items,function(a,b){this.getById(a.id).set("displayIndex",
a.displayIndex)},this);this.fire("reordered");a.Lang.isFunction(c)&&c(null,b);0<this._reorderQueue.size()&&k(thie._reorderQueue.next())},failure:function(b){a.Lang.isFunction(c)&&c(b,null)}},this)},this);this._reorderQueue||(this._reorderQueue=new a.Queue);this._reorderQueue.add(g);k(this._reorderQueue.next())},_reorder:function(a,d){var c=a.map(function(a){return this.getById(a.get("id"))},this);this.remove(c,{onReorder:!0,source:"reorder"});this.add(c,{onReorder:!0,source:"reorder",index:d})},_read:function(b,
d){var c=this.get("parent").get("id");a.Data.get({url:"/api/content-collections/"+c+"/content-items",data:a.merge({limit:this.get("limit")},b),success:function(a){this.set("pagination",{hasNextPage:a.hasNextPage,hasPreviousPage:a.hasPreviousPage,nextPageStart:a.nextPageStart,previousPageStart:a.previousPageStart});d(null,a.results)},failure:function(a){d(a,null)}},this)}},{ATTRS:{parent:{value:null,validator:function(b){return b instanceof a.Squarespace.Models.ContentCollection||b instanceof a.Squarespace.Models.ContentItem}},
isChildItemList:{getter:function(){return this.get("parent")instanceof a.Squarespace.Models.ContentItem}},pagination:{value:null},limit:{value:20,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:"base json model-list squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")})},338:function(h,k,c){YUI.add("squarespace-models-content-item",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItem=
a.Base.create("Item",a.Model,[a.Squarespace.ModelSync.REST],{root:"content-items",url:"content-items/{id}",load:function(){this.get("isGlobalFakeContentItem")&&(this.root="rest/global-content-items/",this.url="rest/global-content-items/{id}");c.superclass.load.apply(this,arguments)},initializer:function(b){this._needsJobListener()&&this._bindJobListener();this._updateNextDisplayIndex();b=this.get("items");b.after(["add","remove"],function(){this._updateNextDisplayIndex()},this);this.items=b;a.Do.after(function(){var b=
this.get("collectionId"),c=a.Squarespace.API_ROOT;a.Lang.isValue(b)&&(c+="content-collections/"+b+"/");c+=a.Do.currentRetVal;return new a.Do.AlterReturn("Adding prefix to url.",c)},this,"getURL",this)},destructor:function(){this._jobListener&&(this._jobListener.detach(),this._jobListener=null)},toJSON:function(){var b=c.superclass.toJSON.call(this),d=b.structuredContent;a.Lang.isValue(d)&&(b.structuredContent=d.toJSON());b.items=b.items.toJSON();a.Lang.isObject(b.pushedServices)&&(b.pushedServices=
a.Object.keys(b.pushedServices));a.Lang.isObject(b.pendingPushedServices)&&(b.pendingPushedServices=a.Object.keys(b.pendingPushedServices));return b},serialize:function(b){b=this.toJSON();delete b.items;delete b.author;delete b.fullUrl;delete b.assetUrl;delete b.resolved;delete b.postItemInjectCode;delete b.promotedBlock;delete b.promotedBlockType;delete b.nextDisplayIndex;delete b.mediaIsUploading;delete b.hasFileData;delete b.isGlobalFakeContentItem;delete b.childrenGroups;delete b.colorData;return a.JSON.stringify(b)},
save:function(b,d){this.isNew()||!a.Lang.isObject(b)||!b.fields?c.superclass.save.call(this,b,d):this._saveFields(b.fields,d)},autoSave:function(b,d){a.Lang.isFunction(b)?(d=b,b={}):a.Lang.isValue(b)||(b={});b.headers=a.merge(b.headers,{"X-AutoSave":!0});this.save(b,d)},like:function(b){a.Data.post({url:this.getURL()+"/sentiment/like",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},dislike:function(b){a.Data.post({url:this.getURL()+
"/sentiment/dislike",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},clearFileData:function(b){this.setAttrs({systemDataId:null,systemDataOrigin:null,mediaProcessingState:null,systemDataSourceType:null,systemDataVariants:null,filename:null});a.Data.post({url:"/api/commondata/ClearEmbeddedAsset",data:{itemId:this.get("id"),persistTransient:!0===b}})},clearChildGroup:function(b,d){a.Data.post({url:"/api/commondata/ClearChildGroup",data:{childType:b,
itemId:this.get("id")},success:function(b){a.Lang.isFunction(d)&&d(null,b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}})},createConfiguration:function(b){b=a.merge(b,{model:this,title:"Back",panelPathName:this.get("name")||"newItem"});return new (a.Squarespace.ContentItemEditorFactory.getEditor(this,{variant:a.Squarespace.ContentItemEditorVariants.PANEL}))(b)},getAssetUrlForFormat:function(b){return a.Lang.sub("{assetUrl}?format={format}",{assetUrl:this.get("assetUrl"),format:b})},getId:function(){return this.get("id")},
isLicensedAssetPreview:function(){return a.Lang.isValue(this.get("licensedAssetPreview"))},isLicensedAsset:function(){return a.Lang.isValue(this.get("licensedAssetId"))},_needsJobListener:function(){var b=this.get("mediaProcessingState");return b===a.Squarespace.MediaProcessingState.QUEUED||b===a.Squarespace.MediaProcessingState.PROCESSING},_bindJobListener:function(){Static&&Static.JOB_MANAGER&&(this._jobListener=a.config.win.Static.JOB_MANAGER.on("completed",function(b){var d=this.get("id"),c=b.get("data.contentItemId");
b=b.get("data.globalContentItemId");c===d?(this.load(),this._jobListener.detach()):a.Lang.isValue(b)&&b===d&&(a.Data.get({url:"/api/rest/global-content-items/"+b,success:function(a){this.set("assetUrl",a.assetUrl);this.setAttrs(a)}},this),this._jobListener.detach())},this))},_updateNextDisplayIndex:function(){var a=0;this.get("items").each(function(d){d=d.get("displayIndex");d>=a&&(a=d+1)},this);this._set("nextDisplayIndex",a)},_saveFields:function(b,d){if(1<b.length)throw Error("Saving multiple fields is not currently supported.");
var c=b[0],c={field:c,itemId:this.get("id"),value:this.get(c)};a.Data.post({url:"/api/commondata/SaveItemField",data:a.merge({},c),success:function(b){a.Lang.isFunction(d)&&d(null,b.item)},failure:function(b){a.Lang.isFunction(d)&&d.call(b,null)}},this)},_getStructuredContentCtor:function(){switch(this.get("recordType")){case a.Squarespace.RecordType.AUDIO:return a.Squarespace.Models.Audio;case a.Squarespace.RecordType.EVENT:return a.Squarespace.Models.CalendarEvent;case a.Squarespace.RecordType.CHECKIN:return a.Squarespace.Models.CheckIn;
case a.Squarespace.RecordType.EMBED:case a.Squarespace.RecordType.VIDEO:return a.Squarespace.Models.Embed;case a.Squarespace.RecordType.INSTAGRAM:return a.Squarespace.Models.Instagram;case a.Squarespace.RecordType.KBARTICLE:return a.Squarespace.Models.KBArticle;case a.Squarespace.RecordType.LINK:return a.Squarespace.Models.Link;case a.Squarespace.RecordType.QUOTE:return a.Squarespace.Models.Quote;case a.Squarespace.RecordType.STORE_ITEM:return a.Squarespace.Models.StoreItem;case a.Squarespace.RecordType.TWEET:return a.Squarespace.Models.Tweet;
default:return null}}},{ATTRS:{id:{value:null},collectionId:{value:null},parentId:{value:null},authorId:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","authenticatedAccount"]);return b?b.id:null}},proxyForId:{value:null},recordType:{validator:a.Squarespace.AttrValidators.isValueIn(a.Squarespace.RecordType),writeOnce:!0},childType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},addedOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber,
writeOnce:"initOnly"},updatedOn:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber,writeOnce:"initOnly"},publishOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber},unsaved:{value:null,validator:a.Squarespace.AttrValidators.isNullOrBoolean},urlId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},title:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},body:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},
excerpt:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},displayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber},starred:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},passthrough:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},tags:{value:[],validator:a.Squarespace.AttrValidators.isArray},categories:{value:[],validator:a.Squarespace.AttrValidators.isArray},workflowState:{value:a.Squarespace.WorkflowStates.DRAFT,validator:a.Squarespace.AttrValidators.isValueIn(a.Squarespace.WorkflowStates)},
systemDataId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataVariants:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataOrigin:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},contentType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},filename:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},dataSize:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sourceUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},mediaProcessingState:{value:null,validator:a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(a.Squarespace.MediaProcessingState))},mediaFocalPoint:{value:{x:0.5,y:0.5},setter:function(b){if(a.Lang.isString(b)){b=b.split(",");var d=parseFloat(b[0]);b=parseFloat(b[1]);return{x:!isNaN(d)&&1>=d?d:0.5,y:!isNaN(b)&&1>=b?b:0.5}}return b}},colorData:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},clickthroughUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},location:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},customContent:{value:null},likeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},dislikeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},publicCommentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentState:{valueFn:function(){var b=a.Object.getValue(Static,
["SQUARESPACE_CONTEXT","websiteSettings"]),d=b.commentsEnabled;return b.commentEnableByDefault||d?a.Squarespace.CommentStates.ENABLED:a.Squarespace.CommentStates.DISABLED},validator:a.Squarespace.AttrValidators.isValueIn(a.Squarespace.CommentStates)},commentDisableOn:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings","commentDisableAfterDaysDefault"]);return b?a.Date.addDays(new Date,b).getTime():null},validator:a.Squarespace.AttrValidators.isNullOrNumber},
pushedServices:{value:{},validator:a.Squarespace.AttrValidators.isObject},shareStates:{value:[]},structuredContent:{valueFn:function(){var b=this._getStructuredContentCtor();return a.Lang.isNull(b)?null:new b},setter:function(b){if(b instanceof a.Squarespace.Models.StructuredContent)return b;var d=this._getStructuredContentCtor();return a.Lang.isNull(d)?null:new d(b)}},items:{valueFn:function(){return new a.Squarespace.Models.ContentItemList({parent:this})},setter:function(b){var d=this.get("items");
return a.Lang.isValue(d)?(d.reset(b),d):b instanceof a.Squarespace.Models.ContentItemList?b:new a.Squarespace.Models.ContentItemList({items:b,parent:this})}},childrenGroups:{value:{},validator:a.Squarespace.AttrValidators.isObject},author:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},fullUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},assetUrl:{value:null,getter:function(b){return a.Squarespace.UrlUtils.isSecure()?a.Squarespace.UrlUtils.securifyURL(b):b},
validator:a.Squarespace.AttrValidators.isNulLOrString},resolved:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},postItemInjectCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlock:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlockType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},nextDisplayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber,readOnly:!0},mediaIsUploading:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},
hasFileData:{getter:function(){var b=this.get("mediaProcessingState")==a.Squarespace.MediaProcessingState.QUEUED;return this.get("isGlobalFakeContentItem")?!this.isNew():"USER_UPLOAD"===this.get("systemDataOrigin")&&b?!0:b?!0:a.Lang.isValue(this.get("systemDataId"))}},isGlobalFakeContentItem:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},licensedAssetPreview:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},licensedAssetId:{value:null,validator:a.Lang.isString},name:{getter:function(){return this.get("id")}},
isPusher:{value:!0,readOnly:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:"base json model squarespace-attr-validators squarespace-enum squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")})},
339:function(h,k,c){YUI.add("squarespace-models-embed",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Embed=a.Base.create("Embed",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Embed",validator:function(a){return"Embed"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},oembed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},overlay:{value:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",
{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},340:function(h,k,c){YUI.add("squarespace-models-instagram",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Instagram=a.Base.create("Instagram",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Instagram",validator:function(a){return"Instagram"===a},readOnly:!0},instagramId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
imageLowResolutionUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageThumbnailUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageStandardUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},width:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},height:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},filter:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userProfilePictureUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},userAccountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userDisplayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},341:function(h,k,c){YUI.add("squarespace-models-kb-article",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.KBArticle=a.Base.create("KBArticle",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"KBArticle",validator:function(a){return"KBArticle"===a},readOnly:!0},upVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber},downVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},342:function(h,k,c){YUI.add("squarespace-models-link",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Link=a.Base.create("Link",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Link",validator:function(a){return"Link"===a},readOnly:!0},url:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},343:function(h,k,c){YUI.add("squarespace-models-quote",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Quote=a.Base.create("Quote",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Quote",validator:function(a){return"Quote"===
a},readOnly:!0},quote:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},344:function(h,k,c){var a=c(61);YUI.add("squarespace-models-store-item",function(c){c.namespace("Squarespace.Models");c.Squarespace.Models.StoreItem=c.Base.create("StoreItem",c.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"StoreItem",validator:function(a){return"StoreItem"===a},readOnly:!0},
productType:{value:a.PHYSICAL,validator:c.Squarespace.AttrValidators.isValueIn(a)},priceCents:{value:0,validator:c.Squarespace.AttrValidators.isNumber},salePriceCents:{value:0,validator:c.Squarespace.AttrValidators.isNumber},onSale:{value:!1,validator:c.Squarespace.AttrValidators.isBoolean},variants:{value:[],validator:c.Squarespace.AttrValidators.isArray},originalVariants:{value:[],validator:c.Squarespace.AttrValidators.isArray},variantOptionOrdering:{value:[],validator:c.Squarespace.AttrValidators.isArray},
additionalFieldsFormId:{value:null,validator:c.Squarespace.AttrValidators.isNullOrString},customAddButtonText:{value:"Add to Cart",validator:c.Squarespace.AttrValidators.isString},useCustomAddButtonText:{value:!1,validator:c.Squarespace.AttrValidators.isBoolean},additionalFieldsForm:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},345:function(h,k,c){YUI.add("squarespace-models-structured-content",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.StructuredContent=a.Base.create("StructuredContent",a.Model,[],{},{ATTRS:{_type:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"}}})},"1.0",{requires:["base","model","squarespace-attr-validators"]})},346:function(h,k,c){YUI.add("squarespace-models-tweet",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Tweet=a.Base.create("Tweet",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Tweet",validator:function(a){return"Tweet"===
a},readOnly:!0},tweetId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},displayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},tweet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrlHttps:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userLocation:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1522:function(h,k,c){YUI.add("squarespace-simple-liking",function(a){var c=a.config.win.Static;a.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:"No Likes",TEXT_LIKE_VERB_SINGULAR:"Like",
TEXT_LIKE_VERB_PLURAL:"Likes",TEXT_LIKE_ACTIVATED:"You like this",TEXT_LIKE_SUGGEST:"Click to like",attached:!1,attach:function(){if(!this.attached){this.attached=!0;var b;try{localStorage&&((b=a.JSON.parse(localStorage.getItem("squarespace-likes")))||(b={}),localStorage.setItem("squarespace-likes",a.JSON.stringify(b)))}catch(d){b={}}a.delegate("click",function(c){c=c.currentTarget;var d=c.getAttribute("data-item-id");if(d){for(var g=0;5>g;++g)a.Squarespace.SimpleLike.burst(c);if(!c.hasClass("clicked")&&
!c.hasClass("float")){g=parseInt(c.getAttribute("data-like-count"),10);c.setAttribute("data-like-count",g+1);a.Squarespace.SimpleLike.renderLikeCount(c);c.addClass("clicked");try{localStorage&&(b[d]=!0,localStorage.setItem("squarespace-likes",a.JSON.stringify(b)))}catch(h){console.warn("Unable to save like to local storage: ",h)}(new a.Squarespace.Models.ContentItem({id:d})).like(function(b,c){c.commited&&console.log("Like was counted!");a.Lang.isValue(b)&&b.crumbFail&&!a.Squarespace.Utils.areCookiesEnabled()&&
alert("You need to enable cookies to be able to like something.")})}}},"body",".sqs-simple-like");a.all(".sqs-simple-like").each(function(d){var e=d.getAttribute("data-item-id");e&&(c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||d.remove(),b[e]&&d.addClass("clicked"),a.Squarespace.SimpleLike.renderLikeCount(d))})}},renderLikeCount:function(b){var c=b.getAttribute("data-item-id"),f=b.getAttribute("data-like-count");b=b.one(".like-count");c&&b&&(c="",c=0===f?a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE:
1==f?"1 "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR:f+" "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL,b.setContent(c))},burst:function(b){var c=b.cloneNode(!0);c.one(".like-count")&&c.one(".like-count").remove();var f=b.one(".like-icon");if(!f||"none"===f.getStyle("display"))f=b;c.setStyles({position:"absolute",left:f.getX()+"px",top:f.getY()+"px"});a.one(a.config.doc.body).append(c);b=new a.Anim({node:c,duration:2,easing:a.Easing.easeOut});b.set("to",{curve:a.Squarespace.SimpleLike.randomCurve(c)});
b.on("end",function(){this.get("node").remove()});b.run();c.removeClass("clicked");c.addClass("float")},randomCurve:function(a){var c=[],f=Math.floor(2*Math.random())?1:-1,e=Math.floor(2*Math.random())?1:-1,g=a.getX();a=a.getY();for(var h=0;3>h;++h)g+=Math.floor(30*Math.random())*f,a+=Math.floor(30*Math.random())*e,c.push([g,a]);return c}};a.config.win.Squarespace.onInitialize(a,function(){c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&a.Squarespace.SimpleLike.attach()})},1,{requires:["anim",
"node","json","squarespace-models-content-item"]})}});
