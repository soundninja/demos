// JQuery URL Parser plugin - https://github.com/allmarkedup/jQuery-URL-Parser
// Written by Mark Perkins, mark@allmarkedup.com
// License: http://unlicense.org/ (i.e. do what you want with it!)
!function(t,a){function r(t,a){for(var r=decodeURI(t),e=i[a?"strict":"loose"].exec(r),n={attr:{},param:{},seg:{}},o=14;o--;)n.attr[s[o]]=e[o]||"";return n.param.query={},n.param.fragment={},n.attr.query.replace(u,function(t,a,r){a&&(n.param.query[a]=r)}),n.attr.fragment.replace(f,function(t,a,r){a&&(n.param.fragment[a]=r)}),n.seg.path=n.attr.path.replace(/^\/+|\/+$/g,"").split("/"),n.seg.fragment=n.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),n.attr.base=n.attr.host?n.attr.protocol+"://"+n.attr.host+(n.attr.port?":"+n.attr.port:""):"",n}function e(t){var r=t.tagName;return r!==a?n[r.toLowerCase()]:r}var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},i={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},u=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,f=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;t.fn.url=function(a){var r="";return this.length&&(r=t(this).attr(e(this[0]))||""),t.url(r,a)},t.url=function(t,e){return 1===arguments.length&&t===!0&&(e=!0,t=a),e=e||!1,t=t||window.location.toString(),{data:r(t,e),attr:function(t){return t=o[t]||t,t!==a?this.data.attr[t]:this.data.attr},param:function(t){return t!==a?this.data.param.query[t]:this.data.param.query},fparam:function(t){return t!==a?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return t===a?this.data.seg.path:(t=0>t?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return t===a?this.data.seg.fragment:(t=0>t?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}}(jQuery);
