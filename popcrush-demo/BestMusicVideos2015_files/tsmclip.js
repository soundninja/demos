(function(){CopyInvader=function(){var h=this,c=window,t=document,r=t.getElementsByTagName("body")[0],v=navigator.userAgent.indexOf("MSIE")>-1,n={},e="tsmclip",f=0,i=location.href,o="trackback=tsmclip",a=function(n){return n.replace(/^\s+|\s+$/g,"")},l=function(n){return n.split(/\s+/).length},s,u;return Object.deepExtend=function(n,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},arguments.callee(n[i],t[i])):n[i]=t[i];return n},i.indexOf(o)===-1&&(i=i.split("?"),i.length>1?i[1]+="&"+o:i[0]+="?"+o,i=i.join("?")),n.GA={enabled:1,kw:[],accounts:[],device:"web"},n.readmore={enabled:1,text:"Read More: ",url:i,urltext:t.getElementsByTagName("title")[0].innerHTML},n.followus={enabled:1,text:"Follow us: ",modules:[]},n.visitus={enabled:1,text:"Visit Us at ",url:"http://"+location.host,urltext:t.getElementsByTagName("title")[0].innerHTML},s=function(){var i,s,v,p,o=t.createElement("div"),w=t.createElement("span"),c=[],b='<b>{{readmoretext}}</b><a href="{{readmoreurl}}">{{readmoreurltext}}</a> | {{readmoreurl}}',k='<a href="{{followusurl}}">{{followusurltext}}</a>',d="<b>{{followustext}}</b>{{followusmodules}}",g='<b>{{visitustext}}</b><a href="{{visitusurl}}">{{visitusurltext}}</a>',y,h;if(t.selection&&t.selection.createRange?(i=t.selection.createRange(),s=r.createTextRange(),v=""+i.text,o.innerHTML=i.htmlText,p=t.documentElement.scrollTop||r.scrollTop):(i=getSelection(),v=""+i,s=i.getRangeAt(0),o.appendChild(s.cloneContents())),v=a(v),f=l(v),n.GA.enabled&&(u(n.GA.accounts,e,"wordcount",""+(f<8?"under 8":f)),u(n.GA.accounts,e,"siteurl",location.href),u(n.GA.accounts,e,"device",n.GA.device),n.GA.kw.length&&u(n.GA.accounts,e,"articletags",n.GA.kw.join(","))),!(f<8)){if(n.readmore.enabled&&c.push(b.replace(/{{readmoretext}}/g,n.readmore.text).replace(/{{readmoreurl}}/g,n.readmore.url).replace(/{{readmoreurltext}}/g,n.readmore.urltext)),n.followus.enabled&&n.followus.modules.length){for(y=[],h=0;h<n.followus.modules.length;h++)y.push(k.replace(/{{followusurl}}/g,n.followus.modules[h].url).replace(/{{followusurltext}}/g,n.followus.modules[h].text));c.push(d.replace(/{{followustext}}/g,n.followus.text).replace(/{{followusmodules}}/g,y.join(" | ")))}n.visitus.enabled&&c.push(g.replace(/{{visitustext}}/g,n.visitus.text).replace(/{{visitusurl}}/g,n.visitus.url).replace(/{{visitusurltext}}/g,n.visitus.urltext)),w.innerHTML=(c.length?"<br/><br/>":"")+c.join("<br/><br/>"),o.appendChild(w),o.setAttribute("style","width:0.1;height:0.1;position:absolute;top:-1000px;left:-1000px;background:#fff;"),o.id="tsm-clipoard-container",r.appendChild(o),t.selection&&t.selection.createRange?(s.moveToElementText(o),s.select()):i.selectAllChildren(o),setTimeout(function(){t.selection&&t.selection.createRange?(i.select(),r.scrollTop=p,t.documentElement.scrollTop=p):(i.removeAllRanges(),i.addRange(s)),r.removeChild(o)},0)}},u=function(n,t,i,r){if(_gaq!==undefined)for(var u=0;u<n.length;u++)(function(n,t,i,r,u){window.setTimeout(function(){if(location.href.indexOf("?gaqa")>-1)try{console.log(["_setAccount",n[t]],["_trackEvent",i,r,u])}catch(f){}else _gaq.push(["_setAccount",n[t]],["_trackEvent",i,r,u])},1e3*t)})(n,u,t,i,r)},h.init=function(t){Object.deepExtend(n,t),c.addEventListener?c.addEventListener("copy",s,!1):r.attachEvent("oncopy",s)},h},window.TSM=window.TSM||{},window.TSM.clip=window.TSM.clip||{};var n=new CopyInvader;n.init(window.TSM.clip)})();