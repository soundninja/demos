!function(){"use strict";function $iterator(a){return a instanceof Array?function(){return HxOverrides.iter(a)}:"function"==typeof a.iterator?$bind(a,a.iterator):a.iterator}function $bind(a,b){var c=function(){return c.method.apply(c.scope,arguments)};return c.scope=a,c.method=b,c}function $hxExpose(a,b){for(var c=window,d=b.split("."),e=0;e<d.length-1;++e){var f=d[e];"undefined"==typeof c[f]&&(c[f]={}),c=c[f]}c[d[d.length-1]]=a}var EReg=function(a,b){b=b.split("u").join(""),this.r=new RegExp(a,b)};EReg.__name__=!0,EReg.prototype={customReplace:function(a,b){for(var c=new StringBuf;;){if(!this.match(a))break;c.b+=Std.string(this.matchedLeft()),c.b+=Std.string(b(this)),a=this.matchedRight()}return c.b+=Std.string(a),c.b},replace:function(a,b){return a.replace(this.r,b)},split:function(a){var b="#__delim__#";return a.replace(this.r,b).split(b)},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return this.r.s.substr(0,this.r.m.index)},matched:function(a){return null!=this.r.m&&a>=0&&a<this.r.m.length?this.r.m[a]:function(a){throw"EReg::matched"}(this)},match:function(a){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(a),this.r.s=a,null!=this.r.m},__class__:EReg};var Hash=function(){this.h={}};Hash.__name__=!0,Hash.prototype={toString:function(){var a=new StringBuf;a.b+=Std.string("{");for(var b=this.keys();b.hasNext();){var c=b.next();a.b+=Std.string(c),a.b+=Std.string(" => "),a.b+=Std.string(Std.string(this.get(c))),b.hasNext()&&(a.b+=Std.string(", "))}return a.b+=Std.string("}"),a.b},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},keys:function(){var a=[];for(var b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return HxOverrides.iter(a)},remove:function(a){return a="$"+a,this.h.hasOwnProperty(a)?(delete this.h[a],!0):!1},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:Hash};var HxOverrides=function(){};HxOverrides.__name__=!0,HxOverrides.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),f=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>f?"0"+f:""+f)},HxOverrides.strDate=function(a){switch(a.length){case 8:var b=a.split(":"),c=new Date;return c.setTime(0),c.setUTCHours(b[0]),c.setUTCMinutes(b[1]),c.setUTCSeconds(b[2]),c;case 10:var b=a.split("-");return new Date(b[0],b[1]-1,b[2],0,0,0);case 19:var b=a.split(" "),d=b[0].split("-"),e=b[1].split(":");return new Date(d[0],d[1]-1,d[2],e[0],e[1],e[2]);default:throw"Invalid date format : "+a}},HxOverrides.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c},HxOverrides.substr=function(a,b,c){return null!=b&&0!=b&&null!=c&&0>c?"":(null==c&&(c=a.length),0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b),a.substr(b,c))},HxOverrides.remove=function(a,b){for(var c=0,d=a.length;d>c;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1},HxOverrides.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(a,b){this.min=a,this.max=b};IntIter.__name__=!0,IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Lambda=function(){};Lambda.__name__=!0,Lambda.array=function(a){for(var b=new Array,c=$iterator(a)();c.hasNext();){var d=c.next();b.push(d)}return b},Lambda.list=function(a){for(var b=new List,c=$iterator(a)();c.hasNext();){var d=c.next();b.add(d)}return b},Lambda.map=function(a,b){for(var c=new List,d=$iterator(a)();d.hasNext();){var e=d.next();c.add(b(e))}return c},Lambda.mapi=function(a,b){for(var c=new List,d=0,e=$iterator(a)();e.hasNext();){var f=e.next();c.add(b(d++,f))}return c},Lambda.has=function(a,b,c){if(null==c)for(var d=$iterator(a)();d.hasNext();){var e=d.next();if(e==b)return!0}else for(var f=$iterator(a)();f.hasNext();){var e=f.next();if(c(e,b))return!0}return!1},Lambda.exists=function(a,b){for(var c=$iterator(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1},Lambda.foreach=function(a,b){for(var c=$iterator(a)();c.hasNext();){var d=c.next();if(!b(d))return!1}return!0},Lambda.iter=function(a,b){for(var c=$iterator(a)();c.hasNext();){var d=c.next();b(d)}},Lambda.filter=function(a,b){for(var c=new List,d=$iterator(a)();d.hasNext();){var e=d.next();b(e)&&c.add(e)}return c},Lambda.fold=function(a,b,c){for(var d=$iterator(a)();d.hasNext();){var e=d.next();c=b(e,c)}return c},Lambda.count=function(a,b){var c=0;if(null==b)for(var d=$iterator(a)();d.hasNext();){d.next();c++}else for(var e=$iterator(a)();e.hasNext();){var f=e.next();b(f)&&c++}return c},Lambda.empty=function(a){return!$iterator(a)().hasNext()},Lambda.indexOf=function(a,b){for(var c=0,d=$iterator(a)();d.hasNext();){var e=d.next();if(b==e)return c;c++}return-1},Lambda.concat=function(a,b){for(var c=new List,d=$iterator(a)();d.hasNext();){var e=d.next();c.add(e)}for(var f=$iterator(b)();f.hasNext();){var e=f.next();c.add(e)}return c};var List=function(){this.length=0};List.__name__=!0,List.prototype={map:function(a){for(var b=new List,c=this.h;null!=c;){var d=c[0];c=c[1],b.add(a(d))}return b},filter:function(a){for(var b=new List,c=this.h;null!=c;){var d=c[0];c=c[1],a(d)&&b.add(d)}return b},join:function(a){for(var b=new StringBuf,c=!0,d=this.h;null!=d;)c?c=!1:b.b+=Std.string(a),b.b+=Std.string(d[0]),d=d[1];return b.b},toString:function(){var a=new StringBuf,b=!0,c=this.h;for(a.b+=Std.string("{");null!=c;)b?b=!1:a.b+=Std.string(", "),a.b+=Std.string(Std.string(c[0])),c=c[1];return a.b+=Std.string("}"),a.b},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];return this.h=this.h[1],a}}},remove:function(a){for(var b=null,c=this.h;null!=c;){if(c[0]==a)return null==b?this.h=c[1]:b[1]=c[1],this.q==c&&(this.q=b),this.length--,!0;b=c,c=c[1]}return!1},clear:function(){this.h=null,this.q=null,this.length=0},isEmpty:function(){return null==this.h},pop:function(){if(null==this.h)return null;var a=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,a},last:function(){return null==this.q?null:this.q[0]},first:function(){return null==this.h?null:this.h[0]},push:function(a){var b=[a,this.h];this.h=b,null==this.q&&(this.q=b),this.length++},add:function(a){var b=[a];null==this.h?this.h=b:this.q[1]=b,this.q=b,this.length++},__class__:List};var Reflect=function(){};Reflect.__name__=!0,Reflect.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},Reflect.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c},Reflect.setField=function(a,b,c){a[b]=c},Reflect.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]},Reflect.setProperty=function(a,b,c){var d;a.__properties__&&(d=a.__properties__["set_"+b])?a[d](c):a[b]=c},Reflect.callMethod=function(a,b,c){return b.apply(a,c)},Reflect.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d)}return b},Reflect.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)},Reflect.compare=function(a,b){return a==b?0:a>b?1:-1},Reflect.compareMethods=function(a,b){return a==b?!0:Reflect.isFunction(a)&&Reflect.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1},Reflect.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&!a.__enum__||"function"==b&&(a.__name__||a.__ename__)},Reflect.deleteField=function(a,b){return Reflect.hasField(a,b)?(delete a[b],!0):!1},Reflect.copy=function(a){for(var b={},c=0,d=Reflect.fields(a);c<d.length;){var e=d[c];++c,b[e]=Reflect.field(a,e)}return b},Reflect.makeVarArgs=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a(b)}};var Std=function(){};Std.__name__=!0,Std.is=function(a,b){return js.Boot.__instanceof(a,b)},Std.string=function(a){return js.Boot.__string_rec(a,"")},Std["int"]=function(a){return 0|a},Std.parseInt=function(a){var b=parseInt(a,10);return 0!=b||120!=HxOverrides.cca(a,1)&&88!=HxOverrides.cca(a,1)||(b=parseInt(a)),isNaN(b)?null:b},Std.parseFloat=function(a){return parseFloat(a)},Std.random=function(a){return Math.floor(Math.random()*a)};var StringBuf=function(){this.b=""};StringBuf.__name__=!0,StringBuf.prototype={toString:function(){return this.b},addSub:function(a,b,c){this.b+=HxOverrides.substr(a,b,c)},addChar:function(a){this.b+=String.fromCharCode(a)},add:function(a){this.b+=Std.string(a)},__class__:StringBuf};var StringTools=function(){};StringTools.__name__=!0,StringTools.urlEncode=function(a){return encodeURIComponent(a)},StringTools.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))},StringTools.htmlEscape=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},StringTools.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&amp;").join("&")},StringTools.startsWith=function(a,b){return a.length>=b.length&&HxOverrides.substr(a,0,b.length)==b},StringTools.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&HxOverrides.substr(a,d-c,c)==b},StringTools.isSpace=function(a,b){var c=HxOverrides.cca(a,b);return c>=9&&13>=c||32==c},StringTools.ltrim=function(a){for(var b=a.length,c=0;b>c&&StringTools.isSpace(a,c);)c++;return c>0?HxOverrides.substr(a,c,b-c):a},StringTools.rtrim=function(a){for(var b=a.length,c=0;b>c&&StringTools.isSpace(a,b-c-1);)c++;return c>0?HxOverrides.substr(a,0,b-c):a},StringTools.trim=function(a){return StringTools.ltrim(StringTools.rtrim(a))},StringTools.rpad=function(a,b,c){for(var d=a.length,e=b.length;c>d;)e>c-d?(a+=HxOverrides.substr(b,0,c-d),d=c):(a+=b,d+=e);return a},StringTools.lpad=function(a,b,c){var d="",e=a.length;if(e>=c)return a;for(var f=b.length;c>e;)f>c-e?(d+=HxOverrides.substr(b,0,c-e),e=c):(d+=b,e+=f);return d+a},StringTools.replace=function(a,b,c){return a.split(b).join(c)},StringTools.hex=function(a,b){var c="",d="0123456789ABCDEF";do c=d.charAt(15&a)+c,a>>>=4;while(a>0);if(null!=b)for(;c.length<b;)c="0"+c;return c},StringTools.fastCodeAt=function(a,b){return a.charCodeAt(b)},StringTools.isEOF=function(a){return a!=a};var Xml=function(){};Xml.__name__=!0,Xml.parse=function(a){return haxe.xml.Parser.parse(a)},Xml.createElement=function(a){var b=new Xml;return b.nodeType=Xml.Element,b._children=new Array,b._attributes=new Hash,b.setNodeName(a),b},Xml.createPCData=function(a){var b=new Xml;return b.nodeType=Xml.PCData,b.setNodeValue(a),b},Xml.createCData=function(a){var b=new Xml;return b.nodeType=Xml.CData,b.setNodeValue(a),b},Xml.createComment=function(a){var b=new Xml;return b.nodeType=Xml.Comment,b.setNodeValue(a),b},Xml.createDocType=function(a){var b=new Xml;return b.nodeType=Xml.DocType,b.setNodeValue(a),b},Xml.createProlog=function(a){var b=new Xml;return b.nodeType=Xml.Prolog,b.setNodeValue(a),b},Xml.createDocument=function(){var a=new Xml;return a.nodeType=Xml.Document,a._children=new Array,a},Xml.prototype={toString:function(){if(this.nodeType==Xml.PCData)return this._nodeValue;if(this.nodeType==Xml.CData)return"<![CDATA["+this._nodeValue+"]]>";if(this.nodeType==Xml.Comment)return"<!--"+this._nodeValue+"-->";if(this.nodeType==Xml.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==Xml.Prolog)return"<?"+this._nodeValue+"?>";var a=new StringBuf;if(this.nodeType==Xml.Element){a.b+=Std.string("<"),a.b+=Std.string(this._nodeName);for(var b=this._attributes.keys();b.hasNext();){var c=b.next();a.b+=Std.string(" "),a.b+=Std.string(c),a.b+=Std.string('="'),a.b+=Std.string(this._attributes.get(c)),a.b+=Std.string('"')}if(0==this._children.length)return a.b+=Std.string("/>"),a.b;a.b+=Std.string(">")}for(var d=this.iterator();d.hasNext();){var e=d.next();a.b+=Std.string(e.toString())}return this.nodeType==Xml.Element&&(a.b+=Std.string("</"),a.b+=Std.string(this._nodeName),a.b+=Std.string(">")),a.b},insertChild:function(a,b){if(null==this._children)throw"bad nodetype";null!=a._parent&&HxOverrides.remove(a._parent._children,a),a._parent=this,this._children.splice(b,0,a)},removeChild:function(a){if(null==this._children)throw"bad nodetype";var b=HxOverrides.remove(this._children,a);return b&&(a._parent=null),b},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&HxOverrides.remove(a._parent._children,a),a._parent=this,this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;b>a;){var c=this._children[a];if(c.nodeType==Xml.Element)return c;a++}return null},firstChild:function(){if(null==this._children)throw"bad nodetype";return this._children[0]},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;c>b;){var d=this.x[b];if(d.nodeType==Xml.Element&&d._nodeName==a)break;b++}return this.cur=b,c>b},next:function(){for(var b=this.cur,c=this.x.length;c>b;){var d=this.x[b];if(b++,d.nodeType==Xml.Element&&d._nodeName==a)return this.cur=b,d}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;b>a&&this.x[a].nodeType!=Xml.Element;)a+=1;return this.cur=a,b>a},next:function(){for(var a=this.cur,b=this.x.length;b>a;){var c=this.x[a];if(a+=1,c.nodeType==Xml.Element)return this.cur=a,c}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},attributes:function(){if(this.nodeType!=Xml.Element)throw"bad nodeType";return this._attributes.keys()},exists:function(a){if(this.nodeType!=Xml.Element)throw"bad nodeType";return this._attributes.exists(a)},remove:function(a){if(this.nodeType!=Xml.Element)throw"bad nodeType";this._attributes.remove(a)},set:function(a,b){if(this.nodeType!=Xml.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=Xml.Element)throw"bad nodeType";return this._attributes.get(a)},getParent:function(){return this._parent},setNodeValue:function(a){if(this.nodeType==Xml.Element||this.nodeType==Xml.Document)throw"bad nodeType";return this._nodeValue=a},getNodeValue:function(){if(this.nodeType==Xml.Element||this.nodeType==Xml.Document)throw"bad nodeType";return this._nodeValue},setNodeName:function(a){if(this.nodeType!=Xml.Element)throw"bad nodeType";return this._nodeName=a},getNodeName:function(){if(this.nodeType!=Xml.Element)throw"bad nodeType";return this._nodeName},__class__:Xml,__properties__:{set_nodeName:"setNodeName",get_nodeName:"getNodeName",set_nodeValue:"setNodeValue",get_nodeValue:"getNodeValue",get_parent:"getParent"}};var buzzplayer={};buzzplayer.core={},buzzplayer.core.LoggerImpl=function(a,b){null==b&&(b=!1),this.category=a,this.enabled=b},buzzplayer.core.LoggerImpl.__name__=!0,buzzplayer.core.LoggerImpl.prototype={internalLog:function(a,b){if(this.enabled){var c="["+this.category+"]";window.console&&console[a]?console[a](c,b):buzzplayer.core._Logger.LoggerGlobals.haxeTrace(c+" "+Std.string(b))}},error:function(a){this.internalLog("error",a)},trace:function(a){this.internalLog("log",a)},enable:function(){this.enabled=!0},__class__:buzzplayer.core.LoggerImpl},buzzplayer.core.Logger=function(){},buzzplayer.core.Logger.__name__=!0,buzzplayer.core.Logger.getLogger=function(a){return null==buzzplayer.core.Logger.loggers&&(buzzplayer.core.Logger.loggers=new Hash),buzzplayer.core.Logger.loggers.exists(a)||buzzplayer.core.Logger.loggers.set(a,new buzzplayer.core.LoggerImpl(a)),buzzplayer.core.Logger.loggers.get(a)},buzzplayer.core.Logger.useCustomTrace=function(){haxe.Log.trace=buzzplayer.core.Logger.trace},buzzplayer.core.Logger.enable=function(){buzzplayer.core.Logger.useCustomTrace(),buzzplayer.core.Logger.logger.enable()},buzzplayer.core.Logger.trace=function(a,b){null!=b&&(a=b.fileName+":"+b.lineNumber+": "+Std.string(a)+" ("+b.className+"."+b.methodName+")"),buzzplayer.core.Logger.logger.trace(a)},buzzplayer.core.Logger.error=function(a){buzzplayer.core.Logger.logger.error(a)};var haxe={};haxe.Log=function(){},haxe.Log.__name__=!0,haxe.Log.trace=function(a,b){js.Boot.__trace(a,b)},haxe.Log.clear=function(){js.Boot.__clear_trace()},buzzplayer.core._Logger={},buzzplayer.core._Logger.LoggerGlobals=function(){},buzzplayer.core._Logger.LoggerGlobals.__name__=!0,buzzplayer.helper={},buzzplayer.helper.ConfigHelper=function(){},buzzplayer.helper.ConfigHelper.__name__=!0,buzzplayer.helper.ConfigHelper.getDefaultConfig=function(){var a={cookies:!0,protocol:"http:",campaign:{category:"Default",domain:{code:"uk",id:3,name:"UK"},name:"",advertiserChannel:null,langs:[{code:"en",id:2}],id:4570},duration:40,vpaidVideo:null,id:0,forceAkamaiAnalytics:!1,buzzID:0,mediaProvider:1,allowedDevices:["desktop","tablet","smartphone"],publisherChannel:null,vastVideo:null,flvVideo:null,adServer:2,dailymotionVideo:null,deployedHash:"default",ebuzzingVideo:null,longTermViewCookie:!1,tracking:{advertiserDelay:0,publisherDelay:0,callbacks:[],adloox:!1,vastDefinitionCallbacks:[],freeView:!1},displaySettings:{alwaysHideShareButtons:!1,facebookFanPage:null,overlays:[],showSkipButtonDelay:2,showSkipButtonOverlay:!1,blockingInstream:!1,unclickable:!1,hideFooter:!1,hideShareButtons:!1,autoSkipDelay:0,endscreenCountdown:!1,noControls:!1,customEndscreen:null,showSkipButton:!1,skipButtonPosition:null,isMobile:!1,miniExpand:!1,shareUrl:null,ageGate:null,isNative:!1,noPause:!1,instreamMessage:"",playImage:!0,autoSkip:!1,hideHeader:!1,expand:null,clientUrl:null,assets:{endscreen:null,mobile:null,share:null,thumbH:null,thumbV:null,teasers:null},language:"fr",startMode:1,shareButtons:[],clientNameAlwaysVisible:!1,unmuteLayer:!1,debug:!0,embed:0,clientUrlId:0,dimension:{width:560,type:1,id:15,height:315},clientName:null,disableExternalLinks:!1,nativeAboveWaterline:!1,nativeVideoPauseOption:0,nativeSoundOption:0,nativeSoundOnClick:!1,showMuteButton:!1,hideMuteButtonOnUnmute:!1,canPlayInline:!1,hideEndScreen:!1,pauseOnFocusOff:!1,marginTop:0,marginBottom:0,skipButtonText:"skip"},geoip:{regionName:null,regionCode:null,longitude:null,latitude:null,countryName:null,countryCode:null,city:null},youtubeVideo:null,page:{url:"",referer:"",title:""},urls:{assets:"http://assets.ebz.io/",share:"//bzzvid.com",alternate:null,ping:"",tracking:"//stat.ebuzzing.com",player:"//as.ebz.io",api:"//api.ebuzzing.com",root:"//as.ebz.io",ebzformats:"http://assets.ebz.io/ebzFormats",buzzplayer:"http://assets.ebz.io/ebzFormats/buzzplayer",playerAssets:"http://assets.ebz.io/ebzFormats"},dimension:null,moatCampaign:!1};return a},buzzplayer.helper.ConfigHelper.mergeConfig=function(a,b){if(null==b&&(b=buzzplayer.helper.ConfigHelper.getDefaultConfig()),null==b||null==a)return null==b?a:b;if(!Reflect.isObject(a)||js.Boot.__instanceof(a,String))return a;if(!Reflect.isObject(b)||js.Boot.__instanceof(b,String))return b;if(js.Boot.__instanceof(a,Array))return a;if(js.Boot.__instanceof(b,Array))return b;if(Reflect.isObject(b)||Reflect.isObject(a)){Reflect.isObject(a)||(a={}),Reflect.isObject(b)||(b={});for(var c=buzzplayer.helper.ConfigHelper.mergeArrays(Reflect.fields(a),Reflect.fields(b)),d=0,e=c.length;e>d;){var f=d++,g=c[f],h=Reflect.field(a,g),i=Reflect.field(b,g);Reflect.isObject(i)?a[g]=buzzplayer.helper.ConfigHelper.mergeConfig(h,i):null==h&&null!=i&&(a[g]=i)}}return a},buzzplayer.helper.ConfigHelper.mergeArrays=function(a,b){for(var c=a.slice(0),d=0,e=b.length;e>d;){var f=d++;Lambda.has(c,b[f])||c.push(b[f])}return c},haxe.Http=function(a){this.url=a,this.headers=new Hash,this.params=new Hash,this.async=!0},haxe.Http.__name__=!0,haxe.Http.requestUrl=function(a){var b=new haxe.Http(a);b.async=!1;var c=null;return b.onData=function(a){c=a},b.onError=function(a){throw a},b.request(!1),c},haxe.Http.prototype={onStatus:function(a){},onError:function(a){},onData:function(a){},request:function(a){var b=this,c=new js.XMLHttpRequest,d=function(){if(4==c.readyState){var a=function(a){var b;try{b=c.status}catch(d){b=null}return b}(this);if(void 0==a&&(a=null),null!=a&&b.onStatus(a),null!=a&&a>=200&&400>a)b.onData(c.responseText);else switch(a){case null:case void 0:b.onError("Failed to connect or resolve host");break;case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.keys();f.hasNext();){var g=f.next();null==e?e="":e+="&",e+=StringTools.urlEncode(g)+"="+StringTools.urlEncode(this.params.get(g))}try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var h=this.url.split("?").length<=1;c.open("GET",this.url+(h?"?":"&")+e,this.async),e=null}else c.open("GET",this.url,this.async)}catch(i){return void this.onError(i.toString())}null==this.headers.get("Content-Type")&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var j=this.headers.keys();j.hasNext();){var k=j.next();c.setRequestHeader(k,this.headers.get(k))}c.send(e),this.async||d()},setPostData:function(a){this.postData=a},setParameter:function(a,b){this.params.set(a,b)},setHeader:function(a,b){this.headers.set(a,b)},__class__:haxe.Http},haxe.xml={},haxe.xml._Fast={},haxe.xml._Fast.NodeAccess=function(a){this.__x=a},haxe.xml._Fast.NodeAccess.__name__=!0,haxe.xml._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){var c=this.__x.nodeType==Xml.Document?"Document":this.__x.getNodeName();throw c+" is missing element "+a}return new haxe.xml.Fast(b)},__class__:haxe.xml._Fast.NodeAccess},haxe.xml._Fast.AttribAccess=function(a){this.__x=a},haxe.xml._Fast.AttribAccess.__name__=!0,haxe.xml._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==Xml.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.getNodeName()+" is missing attribute "+a;return b},__class__:haxe.xml._Fast.AttribAccess},haxe.xml._Fast.HasAttribAccess=function(a){this.__x=a},haxe.xml._Fast.HasAttribAccess.__name__=!0,haxe.xml._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==Xml.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:haxe.xml._Fast.HasAttribAccess},haxe.xml._Fast.HasNodeAccess=function(a){this.__x=a},haxe.xml._Fast.HasNodeAccess.__name__=!0,haxe.xml._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:haxe.xml._Fast.HasNodeAccess},haxe.xml._Fast.NodeListAccess=function(a){this.__x=a},haxe.xml._Fast.NodeListAccess.__name__=!0,haxe.xml._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new List,c=this.__x.elementsNamed(a);c.hasNext();){var d=c.next();b.add(new haxe.xml.Fast(d))}return b},__class__:haxe.xml._Fast.NodeListAccess},haxe.xml.Fast=function(a){if(a.nodeType!=Xml.Document&&a.nodeType!=Xml.Element)throw"Invalid nodeType "+Std.string(a.nodeType);this.x=a,this.node=new haxe.xml._Fast.NodeAccess(a),this.nodes=new haxe.xml._Fast.NodeListAccess(a),this.att=new haxe.xml._Fast.AttribAccess(a),this.has=new haxe.xml._Fast.HasAttribAccess(a),this.hasNode=new haxe.xml._Fast.HasNodeAccess(a)},haxe.xml.Fast.__name__=!0,haxe.xml.Fast.prototype={getElements:function(){var a=this.x.elements();return{hasNext:$bind(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new haxe.xml.Fast(b)}}},getInnerHTML:function(){for(var a=new StringBuf,b=this.x.iterator();b.hasNext();){var c=b.next();a.b+=Std.string(c.toString())}return a.b},getInnerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.getName()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==Xml.PCData&&c.nodeType==Xml.CData&&""==StringTools.trim(b.getNodeValue())){var d=a.next();if(null==d||d.nodeType==Xml.PCData&&""==StringTools.trim(d.getNodeValue())&&null==a.next())return c.getNodeValue()}throw this.getName()+" does not only have data"}if(b.nodeType!=Xml.PCData&&b.nodeType!=Xml.CData)throw this.getName()+" does not have data";return b.getNodeValue()},getName:function(){return this.x.nodeType==Xml.Document?"Document":this.x.getNodeName()},__class__:haxe.xml.Fast,__properties__:{get_name:"getName",get_innerData:"getInnerData",get_innerHTML:"getInnerHTML",get_elements:"getElements"}},haxe.xml.Parser=function(){},haxe.xml.Parser.__name__=!0,haxe.xml.Parser.parse=function(a){var b=Xml.createDocument();return haxe.xml.Parser.doParse(a,0,b),b},haxe.xml.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,g=null,h=0,i=0,j=0,k=a.charCodeAt(b);k==k;){switch(e){case 0:switch(k){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(k){case 60:e=0,f=2;break;default:h=b,e=13;continue}break;case 13:if(60==k){var l=Xml.createPCData(HxOverrides.substr(a,h,b-h));c.addChild(l),i++,e=0,f=2}break;case 17:if(93==k&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)){var l=Xml.createCData(HxOverrides.substr(a,h,b-h));c.addChild(l),i++,b+=2,e=1}break;case 2:switch(k){case 33:if(91==a.charCodeAt(b+1)){if(b+=2,"CDATA["!=HxOverrides.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5,e=17,h=b+1}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=HxOverrides.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8,e=16,h=b+1}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <!--";b+=2,e=15,h=b+1}break;case 63:e=14,h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1,e=0,f=10;break;default:e=3,h=b;continue}break;case 3:if(!(k>=97&&122>=k||k>=65&&90>=k||k>=48&&57>=k||58==k||46==k||95==k||45==k)){if(b==h)throw"Expected node name";d=Xml.createElement(HxOverrides.substr(a,h,b-h)),c.addChild(d),e=0,f=4;continue}break;case 4:switch(k){case 47:e=11,i++;break;case 62:e=9,i++;break;default:e=5,h=b;continue}break;case 5:if(!(k>=97&&122>=k||k>=65&&90>=k||k>=48&&57>=k||58==k||46==k||95==k||45==k)){var m;if(h==b)throw"Expected attribute name";if(m=HxOverrides.substr(a,h,b-h),g=m,d.exists(g))throw"Duplicate attribute";e=0,f=6;continue}break;case 6:switch(k){case 61:e=0,f=7;break;default:throw"Expected ="}break;case 7:switch(k){case 34:case 39:e=8,h=b;break;default:throw'Expected "'}break;case 8:if(k==a.charCodeAt(h)){var n=HxOverrides.substr(a,h+1,b-h-1);d.set(g,n),e=0,f=4}break;case 9:b=haxe.xml.Parser.doParse(a,b,d),h=b,e=1;break;case 11:switch(k){case 62:e=1;break;default:throw"Expected >"}break;case 12:switch(k){case 62:return 0==i&&c.addChild(Xml.createPCData("")),b;default:throw"Expected >"}break;case 10:if(!(k>=97&&122>=k||k>=65&&90>=k||k>=48&&57>=k||58==k||46==k||95==k||45==k)){if(h==b)throw"Expected node name";var o=HxOverrides.substr(a,h,b-h);if(o!=c.getNodeName())throw"Expected </"+c.getNodeName()+">";e=0,f=12;continue}break;case 15:45==k&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(Xml.createComment(HxOverrides.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==k?j++:93==k?j--:62==k&&0==j&&(c.addChild(Xml.createDocType(HxOverrides.substr(a,h,b-h))),e=1);break;case 14:if(63==k&&62==a.charCodeAt(b+1)){b++;var p=HxOverrides.substr(a,h+1,b-h-2);c.addChild(Xml.createProlog(p)),e=1}}k=a.charCodeAt(++b)}if(1==e&&(h=b,e=13),13==e)return(b!=h||0==i)&&c.addChild(Xml.createPCData(HxOverrides.substr(a,h,b-h))),b;throw"Unexpected end"},haxe.xml.Parser.isValidChar=function(a){return a>=97&&122>=a||a>=65&&90>=a||a>=48&&57>=a||58==a||46==a||95==a||45==a};var js={};js.Boot=function(){},js.Boot.__name__=!0,js.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"";c+=js.Boot.__string_rec(a,"");var d;"undefined"!=typeof document&&null!=(d=document.getElementById("haxe:trace"))?d.innerHTML+=js.Boot.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)},js.Boot.__clear_trace=function(){var a=document.getElementById("haxe:trace");null!=a&&(a.innerHTML="")},js.Boot.isClass=function(a){return a.__name__},js.Boot.isEnum=function(a){return a.__ename__},js.Boot.getClass=function(a){return a.__class__},js.Boot.__string_rec=function(a,b){if(null==a)return"null";if(b.length>=5)return"<...>";var c=typeof a;switch("function"==c&&(a.__name__||a.__ename__)&&(c="object"),c){case"object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];var d=a[0]+"(";b+="	";for(var e=2,f=a.length;f>e;){var g=e++;d+=2!=g?","+js.Boot.__string_rec(a[g],b):js.Boot.__string_rec(a[g],b)}return d+")"}var g,h=a.length,d="[";b+="	";for(var f=0;h>f;){var i=f++;d+=(i>0?",":"")+js.Boot.__string_rec(a[i],b)}return d+="]"}var j;try{j=a.toString}catch(k){return"???"}if(null!=j&&j!=Object.toString){var l=a.toString();if("[object Object]"!=l)return l}var m=null,d="{\n";b+="	";var n=null!=a.hasOwnProperty;for(var m in a)(!n||a.hasOwnProperty(m))&&"prototype"!=m&&"__class__"!=m&&"__super__"!=m&&"__interfaces__"!=m&&"__properties__"!=m&&(2!=d.length&&(d+=", \n"),d+=b+m+" : "+js.Boot.__string_rec(a[m],b));return b=b.substring(1),d+="\n"+b+"}";case"function":return"<function>";case"string":return a;default:return String(a)}},js.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;e>d;){var f=d++,g=c[f];if(g==b||js.Boot.__interfLoop(g,b))return!0}return js.Boot.__interfLoop(a.__super__,b)},js.Boot.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(js.Boot.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Int:return Math.ceil(a%2147483648)===a;case Float:return"number"==typeof a;case Bool:return a===!0||a===!1;case String:return"string"==typeof a;case Dynamic:return!0;default:return null==a?!1:b==Class&&null!=a.__name__?!0:b==Enum&&null!=a.__ename__?!0:a.__enum__==b}},js.Boot.__cast=function(a,b){if(js.Boot.__instanceof(a,b))return a;throw"Cannot cast "+Std.string(a)+" to "+Std.string(b)},js.Lib=function(){},js.Lib.__name__=!0,js.Lib.debug=function(){},js.Lib.alert=function(a){alert(js.Boot.__string_rec(a,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(a){js.Lib.onerror=a};var thrift={};thrift.common={},thrift.common.AdServer=function(){},thrift.common.AdServer.__name__=!0,thrift.common.CallbackMode=function(){},thrift.common.CallbackMode.__name__=!0,thrift.common.CallbackSource=function(){},thrift.common.CallbackSource.__name__=!0,thrift.common.Embed=function(){},thrift.common.Embed.__name__=!0,thrift.common.ExpandStartMode=function(){},thrift.common.ExpandStartMode.__name__=!0,thrift.common.MediaProvider=function(){},thrift.common.MediaProvider.__name__=!0,thrift.common.NativeSoundOption=function(){},thrift.common.NativeSoundOption.__name__=!0,thrift.common.NativeVideoPauseOption=function(){},thrift.common.NativeVideoPauseOption.__name__=!0,thrift.common.ShareType=function(){},thrift.common.ShareType.__name__=!0,thrift.common.StartMode=function(){},thrift.common.StartMode.__name__=!0,thrift.common.VideoCampaignConstants=function(){},thrift.common.VideoCampaignConstants.__name__=!0,thrift.event={},thrift.event.Events=function(){},thrift.event.Events.__name__=!0;var vast={};vast.MergeTools=function(){},vast.MergeTools.__name__=!0,vast.MergeTools.mergeHashArray=function(a,b){for(var c=new Hash,d=a.keys();d.hasNext();){var e=d.next();c.set(e,a.get(e).slice())}for(var f=b.keys();f.hasNext();){
var e=f.next();c.exists(e)?c.set(e,vast.MergeTools.mergeArray(a.get(e),b.get(e))):c.set(e,b.get(e).slice())}return c},vast.MergeTools.mergeArray=function(a,b){for(var c=a.slice(),d=0;d<b.length;){var e=b[d];++d,-1==Lambda.indexOf(c,e)&&c.push(e)}return c},vast.VASTDefinition=function(a){this.impressions=[],this.tracking=new Hash,this.clickThrough=[],this.clickTracking=[],this.mediaFiles=[],this.wrappers=[],a.node.resolve("Ad").hasNode.resolve("Wrapper")?this.parseWrapper(a.node.resolve("Ad").node.resolve("Wrapper")):this.parseInLine(a.node.resolve("Ad").node.resolve("InLine"))},vast.VASTDefinition.__name__=!0,vast.VASTDefinition.parse=function(a){a=new EReg(">\\s+<!","g").replace(a,"><!"),a=new EReg("]>\\s+<","g").replace(a,"]><");var b=new haxe.xml.Fast(Xml.parse(a).firstElement());return new vast.VASTDefinition(b)},vast.VASTDefinition.attribute=function(a,b,c){return null==c&&(c=""),a.has.resolve(b)?a.att.resolve(b):c},vast.VASTDefinition.innerData=function(a){try{return a.getInnerData()}catch(b){if(!js.Boot.__instanceof(b,String))throw b;if(-1==b.indexOf("does not have data"))throw b}return""},vast.VASTDefinition.filterInvalidURL=function(a){return null==a||""==a?!1:0!=a.indexOf("http://")&&0!=a.indexOf("https://")?!1:!0},vast.VASTDefinition.prototype={parseInLine:function(a){var b=a.node.resolve("Creatives").node.resolve("Creative").node.resolve("Linear");this.parseImpression(a),this.parseTracking(b);var c="";b.hasNode.resolve("AdParameters")&&(c=StringTools.trim(vast.VASTDefinition.innerData(b.node.resolve("AdParameters")))),a.hasNode.resolve("AdTitle")&&(this.title=StringTools.trim(vast.VASTDefinition.innerData(a.node.resolve("AdTitle"))));for(var d=vast.VASTDefinition.innerData(b.node.resolve("Duration")).split(".")[0].split(":"),e=3600*Std.parseInt(d[0])+60*Std.parseInt(d[0])+Std.parseInt(d[2]),f=b.node.resolve("MediaFiles").nodes.resolve("MediaFile").iterator();f.hasNext();){var g=f.next();this.mediaFiles.push({type:vast.VASTDefinition.attribute(g,"type").toLowerCase(),url:StringTools.trim(vast.VASTDefinition.innerData(g)),api:vast.VASTDefinition.attribute(g,"apiFramework").toLowerCase(),width:vast.VASTDefinition.attribute(g,"width","0"),height:vast.VASTDefinition.attribute(g,"height","0"),parameters:c,duration:e,delivery:vast.VASTDefinition.attribute(g,"delivery","progressive"),bitrate:vast.VASTDefinition.attribute(g,"bitrate","undefined")})}},parseTracking:function(a){if(a.hasNode.resolve("TrackingEvents")){for(var b=a.node.resolve("TrackingEvents").nodes.resolve("Tracking").iterator();b.hasNext();){var c=b.next(),d=c.att.resolve("event");this.tracking.exists(d)?this.tracking.get(d).push(StringTools.trim(vast.VASTDefinition.innerData(c))):this.tracking.set(d,[StringTools.trim(vast.VASTDefinition.innerData(c))])}for(var e=this.tracking.keys();e.hasNext();){var d=e.next();this.tracking.set(d,Lambda.array(Lambda.filter(this.tracking.get(d),vast.VASTDefinition.filterInvalidURL)))}}if(a.hasNode.resolve("VideoClicks")){for(var f=a.node.resolve("VideoClicks").nodes.resolve("ClickThrough").iterator();f.hasNext();){var c=f.next();this.clickThrough.push(StringTools.trim(vast.VASTDefinition.innerData(c)))}for(var g=a.node.resolve("VideoClicks").nodes.resolve("ClickTracking").iterator();g.hasNext();){var c=g.next();this.clickTracking.push(StringTools.trim(vast.VASTDefinition.innerData(c)))}this.clickThrough=Lambda.array(Lambda.filter(this.clickThrough,vast.VASTDefinition.filterInvalidURL)),this.clickTracking=Lambda.array(Lambda.filter(this.clickTracking,vast.VASTDefinition.filterInvalidURL))}},parseWrapper:function(a){this.parseImpression(a);try{var b=a.node.resolve("Creatives").node.resolve("Creative").node.resolve("Linear");null!=b&&this.parseTracking(b)}catch(c){}this.adTagURI=StringTools.trim(vast.VASTDefinition.innerData(a.node.resolve("VASTAdTagURI"))),this.wrappers.push(this.adTagURI)},parseImpression:function(a){for(var b=a.nodes.resolve("Impression").iterator();b.hasNext();){var c=b.next();this.impressions.push(StringTools.trim(vast.VASTDefinition.innerData(c)))}this.impressions=Lambda.array(Lambda.filter(this.impressions,vast.VASTDefinition.filterInvalidURL))},merge:function(a){this.impressions=vast.MergeTools.mergeArray(this.impressions,a.impressions),this.tracking=vast.MergeTools.mergeHashArray(this.tracking,a.tracking),this.clickThrough=vast.MergeTools.mergeArray(this.clickThrough,a.clickThrough),this.clickTracking=vast.MergeTools.mergeArray(this.clickTracking,a.clickTracking),this.mediaFiles=vast.MergeTools.mergeArray(this.mediaFiles,a.mediaFiles)},__class__:vast.VASTDefinition},vast.VASTLoader=function(a){this.json=buzzplayer.helper.ConfigHelper.mergeConfig(a),this.definitions=[]},vast.VASTLoader.__name__=!0,vast.VASTLoader.generateRandomNumber=function(a){for(var b="",c=0;a>c;){c++;b+=Std.string(Std.random(10))}return b},vast.VASTLoader.prototype={mergeDefinitions:function(){if(0==this.definitions.length)return null;if(1==this.definitions.length)return this.definitions[0];var a=this.definitions.shift();do a.merge(this.definitions.shift()),a.adTagURI=null;while(this.definitions.length>0);return a},onLoaderError:function(a){null!=a&&a.length>0&&vast.VASTLoader.logger.error("HTTP error: "+a),vast.VASTLoader.logger.error("Error while loading VAST resource."),this.onError(a)},onLoaderData:function(a){var b=null;try{b=vast.VASTDefinition.parse(a)}catch(c){return void this.onError(c)}this.definitions.push(b),null!=b.adTagURI?this.load(b.adTagURI,!1):this.onComplete(this.mergeDefinitions())},loadWithHaxeHttp:function(a){var b=this,c=new haxe.Http(a);c.onData=$bind(this,this.onLoaderData),c.onError=function(c){b.loadWithCORSProxy(a)},c.request(!1)},loadWithCORSProxy:function(a){var b=js.Lib.document,c=b.createElement("div"),d=Std.string((new Date).getTime()),e="cors_"+d+"_"+vast.VASTLoader.generateRandomNumber(5),f=this;window[e]=function(a,b){a?f.onLoaderData(b):f.onLoaderError(b)};var g=this.json.urls.buzzplayer+"/vast_cors.swf?h="+this.json.deployedHash,h="url="+StringTools.urlEncode(a)+"&debug=1&handler="+e;c.innerHTML='<object id="'+e+'" name="'+e+'" data="'+g+'" type="application/x-shockwave-flash" width="0" height="0"><param name="allowScriptAccess" value="always"/><param name="movie" value="'+g+'"/><param name="flashvars" value="'+h+'"/></object>',b.body.appendChild(c)},load:function(a,b){null==b&&(b=!0),b&&(this.definitions=[]);var c=(new Date).getTime();if(a=new EReg("\\[timestamp\\]","ig").replace(a,Std.string(c)),a=new EReg("\\[(random|cachebusting|random_number)\\]","ig").replace(a,vast.VASTLoader.generateRandomNumber(8)),null!=this.json.page.url){var d=StringTools.urlEncode(this.json.page.url);a=StringTools.replace(a,"referrer=;","referrer="+d+";"),a=new EReg("\\[(ref_url|referer)\\]","ig").replace(a,d)}vast.VASTLoader.logger.trace("Load VAST resource: "+a);var e=-1!=js.Lib.window.navigator.userAgent.indexOf("MSIE");e?this.loadWithCORSProxy(a):this.loadWithHaxeHttp(a)},onError:function(a){},onComplete:function(a){},__class__:vast.VASTLoader},vast.VASTPlugin=function(a){null==a&&(a=!1),a&&vast.VASTPlugin.logger.enable(),null==vast.VASTPlugin.vastTrackingEventsMapping&&(vast.VASTPlugin.vastTrackingEventsMapping=new Hash,vast.VASTPlugin.vastTrackingEventsMapping.set("click",thrift.event.Events.REDIRECT),vast.VASTPlugin.vastTrackingEventsMapping.set("close",thrift.event.Events.CLOSE),vast.VASTPlugin.vastTrackingEventsMapping.set("pause",thrift.event.Events.PAUSE_REQUEST),vast.VASTPlugin.vastTrackingEventsMapping.set("resume",thrift.event.Events.VIDEO_RESUME),vast.VASTPlugin.vastTrackingEventsMapping.set("skip",thrift.event.Events.SKIP_REQUEST),vast.VASTPlugin.vastTrackingEventsMapping.set("rewind",thrift.event.Events.SEEK_BACKWARD),vast.VASTPlugin.vastTrackingEventsMapping.set("mute",thrift.event.Events.MUTE),vast.VASTPlugin.vastTrackingEventsMapping.set("unmute",thrift.event.Events.UNMUTE),vast.VASTPlugin.vastTrackingEventsMapping.set("start",thrift.event.Events.VIDEO_START),vast.VASTPlugin.vastTrackingEventsMapping.set("firstQuartile",thrift.event.Events.QUARTILE_25),vast.VASTPlugin.vastTrackingEventsMapping.set("midpoint",thrift.event.Events.QUARTILE_50),vast.VASTPlugin.vastTrackingEventsMapping.set("thirdQuartile",thrift.event.Events.QUARTILE_75),vast.VASTPlugin.vastTrackingEventsMapping.set("complete",thrift.event.Events.PLAYER_END),vast.VASTPlugin.vastTrackingEventsMapping.set("mute",thrift.event.Events.MUTE),vast.VASTPlugin.vastTrackingEventsMapping.set("unmute",thrift.event.Events.UNMUTE))},$hxExpose(vast.VASTPlugin,"EbzVastPlugin"),vast.VASTPlugin.__name__=!0,vast.VASTPlugin.main=function(){},vast.VASTPlugin.info=function(a,b,c){var d=new vast.VASTLoader({});d.onError=c,d.onComplete=function(a){vast.VASTPlugin.logger.trace("Definition:"),vast.VASTPlugin.logger.trace(a);try{b(a)}catch(d){if(!js.Boot.__instanceof(d,String))throw d;c(d)}},d.load(a)},vast.VASTPlugin.filterCompatibleMediaFiles=function(a,b){var c=a.displaySettings.isMobile;return"video/mp4"==b.type?!0:c||"video/x-flv"!=b.type?null!=b.type&&b.type.indexOf("javascript")>-1?(b.api="vpaid",b.type="application/x-javascript",!0):!c&&"vpaid"==b.api&&(""==b.type||"application/x-shockwave-flash"==b.type)||""==b.api&&"application/x-shockwave-flash"==b.type?(b.api="vpaid",b.type="application/x-shockwave-flash",!0):(vast.VASTPlugin.logger.trace("Excluded media file:"),vast.VASTPlugin.logger.trace(b),!1):!0},vast.VASTPlugin.sortMediaFilesByMimeType=function(a,b){var c=vast.VASTPlugin.weightMediaFile(a),d=vast.VASTPlugin.weightMediaFile(b);return c==d?0:c>d?-1:1},vast.VASTPlugin.weightMediaFile=function(a){var b=0;return"vpaid"==a.api&&(b+=1e3),"video/mp4"==a.type?b+=100:"video/x-flv"==a.type&&(b+=50),("streaming"==a.delivery||0==a.url.indexOf("rtmp://"))&&(b=0),b},vast.VASTPlugin.convertURLToCallback=function(a,b){return null==b&&(b=""),{data:new EReg("^https?:","i").replace(a,""),type:1,event:vast.VASTPlugin.vastTrackingEventsMapping.exists(b)?vast.VASTPlugin.vastTrackingEventsMapping.get(b):b,once:!1}},vast.VASTPlugin.prototype={getOptimalMediaFile:function(a,b){var c=Lambda.array(Lambda.filter(b.mediaFiles,function(a,b){return function(c){return a(b,c)}}(vast.VASTPlugin.filterCompatibleMediaFiles,a)));return 0==c.length?null:1==c.length?c[0]:(c.sort(vast.VASTPlugin.sortMediaFilesByMimeType),c[0])},updateConfiguration:function(a,b){var c=this.getOptimalMediaFile(a,b);if(null==c)throw"No compatible media file found";var d=c.url;if("video/mp4"==c.type){a.mediaProvider=1,a.ebuzzingVideo={mp4:d,ogv:null};for(var e=0,f=b.mediaFiles.length;f>e;){var g=e++;"video/ogg"==b.mediaFiles[g].type&&(a.ebuzzingVideo.ogv=b.mediaFiles[g].url)}}else if("video/x-flv"==c.type)a.mediaProvider=6,a.flvVideo={url:d};else{if("vpaid"!=c.api)throw"Unable to find a compatible media provider";a.mediaProvider=5,a.vpaidVideo={url:d,extra:c.parameters,duration:c.duration,activateAnnotations:!0,isJavascript:"application/x-javascript"==c.type}}a.vastVideo=null;for(var e=0,f=b.impressions.length;f>e;){var g=e++;a.tracking.vastDefinitionCallbacks.push(vast.VASTPlugin.convertURLToCallback(b.impressions[g],"impression"))}for(var e=0,f=b.clickTracking.length;f>e;){var g=e++;a.tracking.vastDefinitionCallbacks.push(vast.VASTPlugin.convertURLToCallback(b.clickTracking[g],"click"))}b.clickThrough.length>0&&(null!=a.displaySettings.clientUrl&&a.displaySettings.clientUrl!=b.clickThrough[0]&&a.tracking.vastDefinitionCallbacks.push(vast.VASTPlugin.convertURLToCallback(a.displaySettings.clientUrl,"click")),a.displaySettings.clientUrl=b.clickThrough[0]);for(var h=b.tracking.keys();h.hasNext();)for(var i=h.next(),j=b.tracking.get(i),e=0,f=j.length;f>e;){var g=e++,k=vast.VASTPlugin.convertURLToCallback(j[g],i);a.tracking.vastDefinitionCallbacks.push(k)}a.tracking.callbacks=vast.MergeTools.mergeArray(a.tracking.callbacks,a.tracking.vastDefinitionCallbacks)},getVASTResourceURI:function(a){var b=a.vastVideo.url;return 0==b.indexOf("//")&&(b=a.protocol+b),b},load:function(a,b,c){var d=this,e=this.getVASTResourceURI(a);if(null!=e){var f=new vast.VASTLoader(a);f.onError=c,f.onComplete=function(e){vast.VASTPlugin.logger.trace("Definition:"),vast.VASTPlugin.logger.trace(e);try{d.updateConfiguration(a,e),b(a)}catch(f){if(!js.Boot.__instanceof(f,String))throw f;c(f)}},f.load(e)}},__class__:vast.VASTPlugin};var $_;Array.prototype.indexOf&&(HxOverrides.remove=function(a,b){var c=a.indexOf(b);return-1==c?!1:(a.splice(c,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(a){return isFinite(a)},Math.isNaN=function(a){return isNaN(a)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=["Date"];var Int={__name__:["Int"]},Dynamic={__name__:["Dynamic"]},Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]},Enum={},Void={__ename__:["Void"]};Xml.Element="element",Xml.PCData="pcdata",Xml.CData="cdata",Xml.Comment="comment",Xml.DocType="doctype",Xml.Prolog="prolog",Xml.Document="document","undefined"!=typeof document&&(js.Lib.document=document),"undefined"!=typeof window&&(js.Lib.window=window,js.Lib.window.onerror=function(a,b,c){var d=js.Lib.onerror;return null==d?!1:d(a,[b+":"+c])}),js.XMLHttpRequest=window.XMLHttpRequest?XMLHttpRequest:window.ActiveXObject?function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object."}}}:function(a){throw"Unable to create XMLHttpRequest object."}(this),buzzplayer.core.Logger.logger=buzzplayer.core.Logger.getLogger("BuzzPlayer"),buzzplayer.core._Logger.LoggerGlobals.haxeTrace=haxe.Log.trace,thrift.common.AdServer.CRUNCH=1,thrift.common.AdServer.EBZ=2,thrift.common.CallbackMode.JAVASCRIPT=2,thrift.common.CallbackMode.PIXEL=1,thrift.common.CallbackSource.ADVERTISER=2,thrift.common.CallbackSource.EBUZZING=1,thrift.common.CallbackSource.EBZ_PUBLISHER=5,thrift.common.CallbackSource.EBZ_ADVERTISER=4,thrift.common.CallbackSource.PUBLISHER=3,thrift.common.Embed.SWF=2,thrift.common.Embed.FACEBOOK=1,thrift.common.Embed.NORMAL=0,thrift.common.ExpandStartMode.COUNTDOWN=3,thrift.common.ExpandStartMode.INLINE=4,thrift.common.ExpandStartMode.MOUSEOVER=2,thrift.common.ExpandStartMode.CLICK=1,thrift.common.ExpandStartMode.FASTCOUNTDOWN=5,thrift.common.MediaProvider.DAILYMOTION=3,thrift.common.MediaProvider.VPAID=5,thrift.common.MediaProvider.EBUZZING=1,thrift.common.MediaProvider.YOUTUBE=2,thrift.common.MediaProvider.FLV=6,thrift.common.MediaProvider.YOUTUBE_NAKED=7,thrift.common.MediaProvider.VAST=4,thrift.common.NativeSoundOption.OVER_NO_MUTE_BUTTON=4,thrift.common.NativeSoundOption.START_NO_MUTE_BUTTON=2,thrift.common.NativeSoundOption.START_MUTE_BUTTON=1,thrift.common.NativeSoundOption.OVER_ON_LEAVE_OFF=5,thrift.common.NativeSoundOption.OVER_MUTE_BUTTON=3,thrift.common.NativeVideoPauseOption.VIDEOSOUND_OFF=1,thrift.common.NativeVideoPauseOption.VIDEO_ON_SOUNDS_ON=2,thrift.common.NativeVideoPauseOption.VIDEO_ON_SOUNDS_OFF=3,thrift.common.ShareType.SCREEN=2,thrift.common.ShareType.POPUP=1,thrift.common.ShareType.CUSTOM=3,thrift.common.StartMode.COUNTDOWN=4,thrift.common.StartMode.MOUSEOVER=2,thrift.common.StartMode.CLICK=1,thrift.common.StartMode.AUTOPLAY=3,thrift.event.Events.ADVERTISER_BILLABLE="advertiserBillable",thrift.event.Events.API_ERROR="apiError",thrift.event.Events.API_READY="apiReady",thrift.event.Events.API_RECEIVED="apiReceived",thrift.event.Events.API_SENT="apiSent",thrift.event.Events.BUZZPLAYER_EVENT="buzzplayerEvent",thrift.event.Events.CAMPAIGN="campaign",thrift.event.Events.CLICK="click",thrift.event.Events.CLOSE="close",thrift.event.Events.ERROR="error",thrift.event.Events.FACEBOOK_SCREEN="facebookScreen",thrift.event.Events.FULLSCREEN_ENTER="fullscreenEnter",thrift.event.Events.FULLSCREEN_EXIT="fullscreenExit",thrift.event.Events.FULLSCREEN_REQUEST="fullscreenRequest",thrift.event.Events.MINI_EXPAND_ENTER="miniExpandEnter",thrift.event.Events.MINI_EXPAND_EXIT="miniExpandExit",thrift.event.Events.MOUSE_DOWN="mousedown",thrift.event.Events.MOUSE_MOVE="mousemove",thrift.event.Events.MOUSE_OUT="mouseout",thrift.event.Events.MOUSE_OVER="mouseover",thrift.event.Events.MOUSE_UP="mouseup",thrift.event.Events.MUTE="mute",thrift.event.Events.NEXT_VIDEO="nextVideo",thrift.event.Events.ON_BUFFER="onBuffer",thrift.event.Events.ON_PROGRESS="onProgress",thrift.event.Events.PAUSE_REQUEST="pauseRequest",thrift.event.Events.PLAYER_BLUR="playerBlur",thrift.event.Events.PLAYER_END="playerEnd",thrift.event.Events.PLAYER_FOCUS="playerFocus",thrift.event.Events.PLAYER_IDLE="playerIdle",thrift.event.Events.PLAYER_START="playerStart",thrift.event.Events.PLAY_REQUEST="playRequest",thrift.event.Events.PUBLISHER_BILLABLE="publisherBillable",thrift.event.Events.QUARTILE_25="video25",thrift.event.Events.QUARTILE_50="video50",thrift.event.Events.QUARTILE_75="video75",thrift.event.Events.QUARTILE_90="video90",thrift.event.Events.REDIRECT="redirect",thrift.event.Events.REPLAY_REQUEST="replayRequest",thrift.event.Events.RESIZE="resize",thrift.event.Events.RESIZE_REQUEST="resizeRequest",thrift.event.Events.SEEK_BACKWARD="seekBackward",thrift.event.Events.SEEK_FORWARD="seekForward",thrift.event.Events.SEEK_REQUEST="seekRequest",thrift.event.Events.SEEK_START="seekStart",thrift.event.Events.SEEK_STOP="seekEnd",thrift.event.Events.SHARE="share",thrift.event.Events.SHARE_FACEBOOK="shareFacebook",thrift.event.Events.SHARE_FACEBOOKPAGE="shareFacebookpage",thrift.event.Events.SHARE_GPLUS="shareGplus",thrift.event.Events.SHARE_LINKEDIN="shareLinkedin",thrift.event.Events.SHARE_PINTEREST="sharePinterest",thrift.event.Events.SHARE_RENREN="shareRenren",thrift.event.Events.SHARE_TUENTI="shareTuenti",thrift.event.Events.SHARE_TWITTER="shareTwitter",thrift.event.Events.SHARE_VKONTAKTE="shareVkontakte",thrift.event.Events.SHARE_WEIBO="shareWeibo",thrift.event.Events.SHARE_XING="shareXing",thrift.event.Events.SKIP_REQUEST="skipRequest",thrift.event.Events.SUBMIT="submit",thrift.event.Events.TOUCH_CANCEL="touchcancel",thrift.event.Events.TOUCH_END="touchend",thrift.event.Events.TOUCH_LEAVE="touchleave",thrift.event.Events.TOUCH_MOVE="touchmove",thrift.event.Events.TOUCH_START="touchstart",thrift.event.Events.TRACK_CLICK="trackClick",thrift.event.Events.UNMUTE="unmute",thrift.event.Events.VIDEO_BUFFER_PROGRESS="progress",thrift.event.Events.VIDEO_DURATION_CHANGE="durationchange",thrift.event.Events.VIDEO_ENDED="ended",thrift.event.Events.VIDEO_ERROR="videoError",thrift.event.Events.VIDEO_LOADED="videoloaded",thrift.event.Events.VIDEO_LOADED_DATA="loadeddata",thrift.event.Events.VIDEO_LOADED_METADATA="loadedmetadata",thrift.event.Events.VIDEO_LOAD_START="loadstart",thrift.event.Events.VIDEO_PAUSE="pause",thrift.event.Events.VIDEO_PLAY="play",thrift.event.Events.VIDEO_PLAYING="playing",thrift.event.Events.VIDEO_READY="videoReady",thrift.event.Events.VIDEO_RESUME="videoResume",thrift.event.Events.VIDEO_STALLED="stalled",thrift.event.Events.VIDEO_START="start",thrift.event.Events.VIDEO_STATE_CHANGE="videoStateChange",thrift.event.Events.VIDEO_TIME_UPDATE="timeupdate",thrift.event.Events.VIEWABILITY="viewability",thrift.event.Events.VIEWABILITY_FOCUS="viewabilityFocus",thrift.event.Events.VIEWABILITY_REQUEST="viewabilityRequest",thrift.event.Events.VIEWABILITY_RESPONSE="viewabilityResponse",thrift.event.Events.VIEWABILITY_UNFOCUS="viewabilityUnfocus",thrift.event.Events.VIEWABILITY_UNMEASURABLE="viewabilityUnmeasurable",thrift.event.Events.VIEWABILITY_WINDOW_BLUR="viewabilityWindowBlur",thrift.event.Events.VIEWABILITY_WINDOW_FOCUS="viewabilityWindowFocus",thrift.event.Events.VOLUME_CHANGE="volumeChange",thrift.event.Events.VOLUME_REQUEST="volumeRequest",thrift.event.Events.YOUTUBE_PLAYER_STATE_CHANGE="youtubePlayerStateChange",vast.VASTLoader.logger=buzzplayer.core.Logger.getLogger("VAST"),vast.VASTLoader.cors_onData={},vast.VASTLoader.cors_onError={},vast.VASTPlugin.logger=buzzplayer.core.Logger.getLogger("VAST"),vast.VASTPlugin.TYPE_JAVASCRIPT="application/x-javascript",vast.VASTPlugin.TYPE_FLASH="application/x-shockwave-flash",vast.VASTPlugin.main()}();